data
export gameCvarTable
align 4
LABELV gameCvarTable
address g_cheats
address $89
address $90
byte 4 0
byte 4 0
byte 4 0
skip 4
byte 4 0
address $91
address $92
byte 4 68
byte 4 0
byte 4 0
skip 4
byte 4 0
address $93
address $94
byte 4 64
byte 4 0
byte 4 0
skip 4
address g_restarted
address $95
address $96
byte 4 64
byte 4 0
byte 4 0
skip 4
byte 4 0
address $97
address $90
byte 4 68
byte 4 0
byte 4 0
skip 4
address g_editmode
address $98
address $96
byte 4 20
byte 4 0
byte 4 0
skip 4
address g_gametype
address $99
address $96
byte 4 38
byte 4 0
byte 4 0
skip 4
address g_maxclients
address $100
address $101
byte 4 37
byte 4 0
byte 4 0
skip 4
address g_maxGameClients
address $102
address $96
byte 4 37
byte 4 0
byte 4 0
skip 4
address g_tssSafetyMode
address $103
address $104
byte 4 37
byte 4 0
byte 4 0
skip 4
address g_armorFragments
address $105
address $104
byte 4 33
byte 4 0
byte 4 0
skip 4
address g_baseHealth
address $106
address $107
byte 4 37
byte 4 0
byte 4 0
skip 4
address g_dmflags
address $108
address $96
byte 4 5
byte 4 0
byte 4 1
skip 4
address g_fraglimit
address $109
address $110
byte 4 1029
byte 4 0
byte 4 1
skip 4
address g_timelimit
address $111
address $96
byte 4 1029
byte 4 0
byte 4 1
skip 4
address g_capturelimit
address $112
address $101
byte 4 1029
byte 4 0
byte 4 1
skip 4
address g_artefacts
address $113
address $101
byte 4 1061
byte 4 0
byte 4 0
skip 4
address g_minMonsters
address $114
address $115
byte 4 1029
byte 4 0
byte 4 0
skip 4
address g_maxMonsters
address $116
address $117
byte 4 1029
byte 4 0
byte 4 0
skip 4
address g_monsterSpawnDelay
address $118
address $119
byte 4 1029
byte 4 0
byte 4 0
skip 4
address g_monsterHealthScale
address $120
address $121
byte 4 1029
byte 4 0
byte 4 0
skip 4
address g_monsterProgression
address $122
address $96
byte 4 1
byte 4 0
byte 4 0
skip 4
address g_monsterGuards
address $123
address $124
byte 4 1029
byte 4 0
byte 4 0
skip 4
address g_monsterTitans
address $125
address $126
byte 4 1029
byte 4 0
byte 4 0
skip 4
address g_monstersPerTrap
address $127
address $96
byte 4 1
byte 4 0
byte 4 0
skip 4
byte 4 0
address $128
address $129
byte 4 37
byte 4 0
byte 4 0
skip 4
byte 4 0
address $130
address $131
byte 4 37
byte 4 0
byte 4 0
skip 4
byte 4 0
address $132
address $133
byte 4 37
byte 4 0
byte 4 0
skip 4
address g_skipEndSequence
address $134
address $96
byte 4 1
byte 4 0
byte 4 0
skip 4
address g_monsterLauncher
address $135
address $96
byte 4 37
byte 4 0
byte 4 0
skip 4
address g_maxMonstersPP
address $136
address $137
byte 4 1
byte 4 0
byte 4 1
skip 4
address g_monsterBreeding
address $138
address $104
byte 4 1
byte 4 0
byte 4 0
skip 4
address g_scoreMode
address $139
address $96
byte 4 1
byte 4 0
byte 4 0
skip 4
address g_monsterLoad
address $140
address $117
byte 4 1
byte 4 0
byte 4 0
skip 4
address g_distanceLimit
address $141
address $142
byte 4 37
byte 4 0
byte 4 0
skip 4
address g_challengingEnv
address $143
address $104
byte 4 33
byte 4 0
byte 4 0
skip 4
address g_debugEFH
address $144
address $96
byte 4 24
byte 4 0
byte 4 0
skip 4
address g_template
address $145
address $90
byte 4 0
byte 4 0
byte 4 0
skip 4
address g_gameSeed
address $146
address $96
byte 4 33
byte 4 0
byte 4 0
skip 4
address g_respawnDelay
address $147
address $137
byte 4 5
byte 4 0
byte 4 1
skip 4
address g_respawnAtPOD
address $148
address $96
byte 4 1
byte 4 0
byte 4 1
skip 4
address g_tss
address $149
address $104
byte 4 5
byte 4 0
byte 4 1
skip 4
address g_stamina
address $150
address $96
byte 4 5
byte 4 0
byte 4 1
skip 4
address g_lightningDamageLimit
address $151
address $96
byte 4 1
byte 4 0
byte 4 1
skip 4
address g_grapple
address $152
address $96
byte 4 37
byte 4 0
byte 4 0
skip 4
address g_noItems
address $153
address $96
byte 4 33
byte 4 0
byte 4 0
skip 4
address g_noHealthRegen
address $154
address $96
byte 4 1
byte 4 0
byte 4 1
skip 4
address g_unlimitedAmmo
address $155
address $96
byte 4 33
byte 4 0
byte 4 0
skip 4
address g_cloakingDevice
address $156
address $104
byte 4 33
byte 4 0
byte 4 0
skip 4
address g_weaponLimit
address $157
address $96
byte 4 37
byte 4 0
byte 4 0
skip 4
address g_meeting
address $158
address $96
byte 4 5
byte 4 0
byte 4 1
skip 4
address g_synchronousClients
address $159
address $96
byte 4 8
byte 4 0
byte 4 0
skip 4
address g_friendlyFire
address $160
address $96
byte 4 1
byte 4 0
byte 4 1
skip 4
address g_teamAutoJoin
address $161
address $96
byte 4 1
skip 12
address g_teamForceBalance
address $162
address $96
byte 4 1
skip 12
address g_warmup
address $163
address $110
byte 4 1
byte 4 0
byte 4 1
skip 4
address g_doWarmup
address $164
address $96
byte 4 0
byte 4 0
byte 4 1
skip 4
address g_log
address $165
address $166
byte 4 1
byte 4 0
byte 4 0
skip 4
address g_logSync
address $167
address $96
byte 4 1
byte 4 0
byte 4 0
skip 4
address g_password
address $168
address $90
byte 4 2
byte 4 0
byte 4 0
skip 4
address g_banIPs
address $169
address $90
byte 4 1
byte 4 0
byte 4 0
skip 4
address g_filterBan
address $170
address $104
byte 4 1
byte 4 0
byte 4 0
skip 4
address g_needpass
address $171
address $96
byte 4 68
byte 4 0
byte 4 0
skip 4
address g_dedicated
address $172
address $96
byte 4 0
byte 4 0
byte 4 0
skip 4
address g_speed
address $173
address $174
byte 4 0
byte 4 0
byte 4 1
skip 4
address g_gravity
address $175
address $176
byte 4 0
byte 4 0
byte 4 1
skip 4
byte 4 0
address $177
address $90
byte 4 64
byte 4 0
byte 4 0
skip 4
address g_knockback
address $178
address $179
byte 4 0
byte 4 0
byte 4 1
skip 4
address g_quadfactor
address $180
address $181
byte 4 0
byte 4 0
byte 4 1
skip 4
address g_weaponRespawn
address $182
address $183
byte 4 0
byte 4 0
byte 4 1
skip 4
address g_weaponTeamRespawn
address $184
address $117
byte 4 0
byte 4 0
byte 4 1
skip 4
address g_forcerespawn
address $185
address $110
byte 4 0
byte 4 0
byte 4 1
skip 4
address g_inactivity
address $186
address $96
byte 4 0
byte 4 0
byte 4 1
skip 4
address g_debugMove
address $187
address $96
byte 4 0
byte 4 0
byte 4 0
skip 4
address g_debugDamage
address $188
address $96
byte 4 0
byte 4 0
byte 4 0
skip 4
address g_debugAlloc
address $189
address $96
byte 4 0
byte 4 0
byte 4 0
skip 4
address g_motd
address $190
address $90
byte 4 0
byte 4 0
byte 4 0
skip 4
address g_blood
address $191
address $104
byte 4 0
byte 4 0
byte 4 0
skip 4
address g_podiumDist
address $192
address $193
byte 4 0
byte 4 0
byte 4 0
skip 4
address g_podiumDrop
address $194
address $195
byte 4 0
byte 4 0
byte 4 0
skip 4
address g_allowVote
address $196
address $104
byte 4 1
byte 4 0
byte 4 0
skip 4
address g_listEntity
address $197
address $96
byte 4 0
byte 4 0
byte 4 0
skip 4
address g_mapName
address $198
address $90
byte 4 68
byte 4 0
byte 4 0
skip 4
byte 4 0
address $199
address $90
byte 4 1088
byte 4 0
byte 4 0
skip 4
address g_smoothClients
address $200
address $104
byte 4 0
byte 4 0
byte 4 0
skip 4
address pmove_fixed
address $201
address $96
byte 4 8
byte 4 0
byte 4 0
skip 4
address pmove_msec
address $202
address $101
byte 4 8
byte 4 0
byte 4 0
skip 4
address g_rankings
address $203
address $96
byte 4 0
byte 4 0
byte 4 0
skip 4
align 4
LABELV gameCvarTableSize
byte 4 88
export vmMain
code
proc vmMain 16 12
file "..\..\..\..\code\game\g_main.c"
line 308
;1:// Copyright (C) 1999-2000 Id Software, Inc.
;2://
;3:
;4:#include "g_local.h"
;5:
;6:level_locals_t	level;
;7:
;8:
;9:typedef struct {
;10:	vmCvar_t	*vmCvar;
;11:	char		*cvarName;
;12:	char		*defaultString;
;13:	int			cvarFlags;
;14:	int			modificationCount;  // for tracking changes
;15:	qboolean	trackChange;	    // track this variable, and announce if changed
;16:  qboolean teamShader;        // track and if changed, update shader state
;17:} cvarTable_t;
;18:
;19:gentity_t		g_entities[MAX_GENTITIES];
;20:gclient_t		g_clients[MAX_CLIENTS];
;21:
;22:#if 1	// JUHOX: server global variables for game templates
;23:char templateFileList[TEMPLATE_FILE_LIST_SIZE];
;24:int numTemplateFiles;
;25:gametemplatelist_t templateList;
;26:long templateListChecksum;
;27:char templateChecksumString[MAX_GAMETEMPLATES + 1];
;28:
;29:typedef struct {
;30:	int number;
;31:	unsigned char flags[MAX_GAMETEMPLATES / 8];
;32:} transferredTemplates_t;
;33:static transferredTemplates_t transferredTemplatesPerClient[MAX_CLIENTS];
;34:static qboolean clientWantsTemplateTransfer[MAX_CLIENTS];
;35:static int lastServedClient;
;36:static int numClientsToServe;
;37:static int nextServiceTime;
;38:long sv_mapChecksum;
;39:static const char* hiscoreRejectionReason;
;40:#endif
;41:
;42:#if MAPLENSFLARES	// JUHOX: cvars for map lens flares
;43:vmCvar_t	g_editmode;
;44:#endif
;45:vmCvar_t	g_gametype;
;46:vmCvar_t	g_dmflags;
;47:vmCvar_t	g_fraglimit;
;48:vmCvar_t	g_timelimit;
;49:vmCvar_t	g_capturelimit;
;50:#if MONSTER_MODE	// JUHOX: STU cvar definitions
;51:vmCvar_t	g_artefacts;
;52:vmCvar_t	g_minMonsters;
;53:vmCvar_t	g_maxMonsters;
;54:vmCvar_t	g_monsterSpawnDelay;
;55:vmCvar_t	g_monsterHealthScale;
;56:vmCvar_t	g_monsterGuards;
;57:vmCvar_t	g_monsterTitans;
;58:vmCvar_t	g_monstersPerTrap;
;59:vmCvar_t	g_skipEndSequence;
;60:vmCvar_t	g_monsterLauncher;
;61:vmCvar_t	g_maxMonstersPP;
;62:vmCvar_t	g_monsterBreeding;
;63:vmCvar_t	g_monsterProgression;
;64:vmCvar_t	g_scoreMode;
;65:#endif
;66:#if ESCAPE_MODE	// JUHOX: EFH cvar definitions
;67:vmCvar_t	g_monsterLoad;
;68:vmCvar_t	g_distanceLimit;
;69:vmCvar_t	g_challengingEnv;
;70:vmCvar_t	g_debugEFH;
;71:#endif
;72:vmCvar_t	g_template;				// JUHOX
;73:vmCvar_t	g_gameSeed;				// JUHOX
;74:vmCvar_t	g_respawnDelay;			// JUHOX
;75:vmCvar_t	g_respawnAtPOD;			// JUHOX
;76:vmCvar_t	g_tss;					// JUHOX
;77:vmCvar_t	g_tssSafetyMode;		// JUHOX
;78:vmCvar_t	g_armorFragments;		// JUHOX
;79:vmCvar_t	g_stamina;				// JUHOX
;80:vmCvar_t	g_baseHealth;			// JUHOX
;81:vmCvar_t	g_lightningDamageLimit;	// JUHOX
;82:vmCvar_t	g_grapple;				// JUHOX
;83:vmCvar_t	g_noItems;				// JUHOX
;84:vmCvar_t	g_noHealthRegen;		// JUHOX
;85:vmCvar_t	g_unlimitedAmmo;		// JUHOX
;86:vmCvar_t	g_cloakingDevice;		// JUHOX
;87:vmCvar_t	g_weaponLimit;			// JUHOX
;88:vmCvar_t	g_friendlyFire;
;89:vmCvar_t	g_password;
;90:vmCvar_t	g_needpass;
;91:#if MEETING
;92:vmCvar_t	g_meeting;				// JUHOX
;93:#endif
;94:vmCvar_t	g_maxclients;
;95:vmCvar_t	g_maxGameClients;
;96:vmCvar_t	g_dedicated;
;97:vmCvar_t	g_speed;
;98:vmCvar_t	g_gravity;
;99:vmCvar_t	g_cheats;
;100:vmCvar_t	g_knockback;
;101:vmCvar_t	g_quadfactor;
;102:vmCvar_t	g_forcerespawn;
;103:vmCvar_t	g_inactivity;
;104:vmCvar_t	g_debugMove;
;105:vmCvar_t	g_debugDamage;
;106:vmCvar_t	g_debugAlloc;
;107:vmCvar_t	g_weaponRespawn;
;108:vmCvar_t	g_weaponTeamRespawn;
;109:vmCvar_t	g_motd;
;110:vmCvar_t	g_synchronousClients;
;111:vmCvar_t	g_warmup;
;112:vmCvar_t	g_doWarmup;
;113:vmCvar_t	g_restarted;
;114:vmCvar_t	g_log;
;115:vmCvar_t	g_logSync;
;116:vmCvar_t	g_blood;
;117:vmCvar_t	g_podiumDist;
;118:vmCvar_t	g_podiumDrop;
;119:vmCvar_t	g_allowVote;
;120:vmCvar_t	g_teamAutoJoin;
;121:vmCvar_t	g_teamForceBalance;
;122:vmCvar_t	g_banIPs;
;123:vmCvar_t	g_filterBan;
;124:vmCvar_t	g_smoothClients;
;125:vmCvar_t	pmove_fixed;
;126:vmCvar_t	pmove_msec;
;127:vmCvar_t	g_rankings;
;128:vmCvar_t	g_listEntity;
;129:vmCvar_t	g_mapName;	// JUHOX
;130:#ifdef MISSIONPACK
;131:vmCvar_t	g_obeliskHealth;
;132:vmCvar_t	g_obeliskRegenPeriod;
;133:vmCvar_t	g_obeliskRegenAmount;
;134:vmCvar_t	g_obeliskRespawnDelay;
;135:vmCvar_t	g_cubeTimeout;
;136:vmCvar_t	g_redteam;
;137:vmCvar_t	g_blueteam;
;138:vmCvar_t	g_singlePlayer;
;139:vmCvar_t	g_enableDust;
;140:vmCvar_t	g_enableBreath;
;141:vmCvar_t	g_proxMineTimeout;
;142:#endif
;143:
;144:#if 0	// JUHOX: need gameCvarTable[] global accessible
;145:// bk001129 - made static to avoid aliasing
;146:static cvarTable_t		gameCvarTable[] = {
;147:#else
;148:cvarTable_t		gameCvarTable[] = {
;149:#endif
;150:	// don't override the cheat state set by the system
;151:	{ &g_cheats, "sv_cheats", "", 0, 0, qfalse },
;152:
;153:	// noset vars
;154:	{ NULL, "gamename", GAMEVERSION , CVAR_SERVERINFO | CVAR_ROM, 0, qfalse  },
;155:	{ NULL, "gamedate", __DATE__ , CVAR_ROM, 0, qfalse  },
;156:	{ &g_restarted, "g_restarted", "0", CVAR_ROM, 0, qfalse  },
;157:	{ NULL, "sv_mapname", "", CVAR_SERVERINFO | CVAR_ROM, 0, qfalse  },
;158:
;159:#if MAPLENSFLARES	// JUHOX: cvars for map lens flares
;160:	{ &g_editmode, "g_editmode", "0", CVAR_SERVERINFO | CVAR_INIT, 0, qfalse },
;161:#endif
;162:	// latched vars
;163:	{ &g_gametype, "g_gametype", "0", CVAR_SERVERINFO | CVAR_USERINFO | CVAR_LATCH, 0, qfalse  },
;164:
;165:	{ &g_maxclients, "sv_maxclients", "8", CVAR_SERVERINFO | CVAR_LATCH | CVAR_ARCHIVE, 0, qfalse  },
;166:	{ &g_maxGameClients, "g_maxGameClients", "0", CVAR_SERVERINFO | CVAR_LATCH | CVAR_ARCHIVE, 0, qfalse  },
;167:	{ &g_tssSafetyMode, "tssSafetyModeAllowed", "1", CVAR_SERVERINFO | CVAR_LATCH | CVAR_ARCHIVE, 0, qfalse },	// JUHOX
;168:	{ &g_armorFragments, "g_armorFragments", "1", CVAR_ARCHIVE | CVAR_LATCH, 0, qfalse },	// JUHOX
;169:	{ &g_baseHealth, "g_baseHealth", "300", CVAR_ARCHIVE | CVAR_SERVERINFO | CVAR_LATCH, 0, qfalse },	// JUHOX
;170:
;171:	// change anytime vars
;172:	{ &g_dmflags, "dmflags", "0", CVAR_SERVERINFO | CVAR_ARCHIVE, 0, qtrue  },
;173:	{ &g_fraglimit, "fraglimit", "20", CVAR_SERVERINFO | CVAR_ARCHIVE | CVAR_NORESTART, 0, qtrue },
;174:	{ &g_timelimit, "timelimit", "0", CVAR_SERVERINFO | CVAR_ARCHIVE | CVAR_NORESTART, 0, qtrue },
;175:	{ &g_capturelimit, "capturelimit", "8", CVAR_SERVERINFO | CVAR_ARCHIVE | CVAR_NORESTART, 0, qtrue },
;176:#if MONSTER_MODE	// JUHOX: STU cvar definition
;177:	{ &g_artefacts, "g_artefacts", "8", CVAR_SERVERINFO | CVAR_ARCHIVE | CVAR_NORESTART | CVAR_LATCH, 0, qfalse },
;178:	{ &g_minMonsters, "g_minMonsters", "15", CVAR_ARCHIVE | CVAR_SERVERINFO | CVAR_NORESTART, 0, qfalse },
;179:	{ &g_maxMonsters, "g_maxMonsters", "30", CVAR_ARCHIVE | CVAR_SERVERINFO | CVAR_NORESTART, 0, qfalse },
;180:	{ &g_monsterSpawnDelay, "g_monsterSpawnDelay", "10000", CVAR_ARCHIVE | CVAR_SERVERINFO | CVAR_NORESTART, 0, qfalse },
;181:	{ &g_monsterHealthScale, "g_monsterHealthScale", "100", CVAR_ARCHIVE | CVAR_SERVERINFO | CVAR_NORESTART, 0, qfalse },
;182:	{ &g_monsterProgression, "g_monsterProgression", "0", CVAR_ARCHIVE, 0, qfalse },
;183:	{ &g_monsterGuards, "g_monsterGuards", "12", CVAR_ARCHIVE | CVAR_SERVERINFO | CVAR_NORESTART, 0, qfalse },
;184:	{ &g_monsterTitans, "g_monsterTitans", "6", CVAR_ARCHIVE | CVAR_SERVERINFO | CVAR_NORESTART, 0, qfalse },
;185:	{ &g_monstersPerTrap, "g_monstersPerTrap", "0", CVAR_ARCHIVE, 0, qfalse },
;186:	{ NULL, "monsterModel1", "klesk/maneater", CVAR_ARCHIVE | CVAR_SERVERINFO | CVAR_LATCH, 0, qfalse },
;187:	{ NULL, "monsterModel2", "tankjr/default", CVAR_ARCHIVE | CVAR_SERVERINFO | CVAR_LATCH, 0, qfalse },
;188:	{ NULL, "monsterModel3", "uriel/default", CVAR_ARCHIVE | CVAR_SERVERINFO | CVAR_LATCH, 0, qfalse },
;189:	{ &g_skipEndSequence, "g_skipEndSequence", "0", CVAR_ARCHIVE, 0, qfalse },
;190:	{ &g_monsterLauncher, "g_monsterLauncher", "0", CVAR_ARCHIVE | CVAR_SERVERINFO | CVAR_LATCH, 0, qfalse },
;191:	{ &g_maxMonstersPP, "g_maxMonstersPP", "10", CVAR_ARCHIVE, 0, qtrue },
;192:	{ &g_monsterBreeding, "g_monsterBreeding", "1", CVAR_ARCHIVE, 0, qfalse },
;193:	{ &g_scoreMode, "g_scoreMode", "0", CVAR_ARCHIVE, 0, qfalse },
;194:#endif
;195:#if ESCAPE_MODE	// JUHOX: EFH cvar definitions
;196:	{ &g_monsterLoad, "g_monsterLoad", "30", CVAR_ARCHIVE, 0, qfalse },
;197:	{ &g_distanceLimit, "distancelimit", "3000", CVAR_SERVERINFO | CVAR_ARCHIVE | CVAR_LATCH, 0, qfalse },
;198:	{ &g_challengingEnv, "g_challengingEnv", "1", CVAR_ARCHIVE | CVAR_LATCH, 0, qfalse },
;199:	{ &g_debugEFH, "g_debugEFH", "0", CVAR_SYSTEMINFO | CVAR_INIT, 0, qfalse },
;200:#endif
;201:	{ &g_template, "g_template", "", 0, 0, qfalse },	// JUHOX
;202:	{ &g_gameSeed, "g_gameSeed", "0", CVAR_ARCHIVE | CVAR_LATCH, 0, qfalse },	// JUHOX
;203:	{ &g_respawnDelay, "respawnDelay", "10", CVAR_ARCHIVE | CVAR_SERVERINFO, 0, qtrue },	// JUHOX
;204:	{ &g_respawnAtPOD, "respawnAtPOD", "0", CVAR_ARCHIVE, 0, qtrue },	// JUHOX
;205:	{ &g_tss, "tss", "1", CVAR_SERVERINFO | CVAR_ARCHIVE, 0, qtrue },	// JUHOX
;206:	{ &g_stamina, "g_stamina", "0", CVAR_SERVERINFO | CVAR_ARCHIVE, 0, qtrue },	// JUHOX
;207:	{ &g_lightningDamageLimit, "g_lightningDamageLimit", "0", CVAR_ARCHIVE, 0, qtrue },	// JUHOX
;208:	{ &g_grapple, "g_grapple", "0", CVAR_ARCHIVE | CVAR_LATCH | CVAR_SERVERINFO, 0, qfalse },	// JUHOX
;209:	{ &g_noItems, "g_noItems", "0", CVAR_ARCHIVE | CVAR_LATCH, 0, qfalse },	// JUHOX
;210:	{ &g_noHealthRegen, "g_noHealthRegen", "0", CVAR_ARCHIVE, 0, qtrue },	// JUHOX
;211:	{ &g_unlimitedAmmo, "g_unlimitedAmmo", "0", CVAR_ARCHIVE | CVAR_LATCH, 0, qfalse },	// JUHOX
;212:	{ &g_cloakingDevice, "g_cloakingDevice", "1", CVAR_ARCHIVE | CVAR_LATCH, 0, qfalse },	// JUHOX
;213:	{ &g_weaponLimit, "g_weaponLimit", "0", CVAR_ARCHIVE | CVAR_LATCH | CVAR_SERVERINFO, 0, qfalse },	// JUHOX
;214:
;215:#if MEETING
;216:	{ &g_meeting, "g_meeting", "0", CVAR_ARCHIVE | CVAR_SERVERINFO, 0, qtrue },	// JUHOX
;217:#endif
;218:
;219:	{ &g_synchronousClients, "g_synchronousClients", "0", CVAR_SYSTEMINFO, 0, qfalse  },
;220:
;221:	{ &g_friendlyFire, "g_friendlyFire", "0", CVAR_ARCHIVE, 0, qtrue  },
;222:
;223:	{ &g_teamAutoJoin, "g_teamAutoJoin", "0", CVAR_ARCHIVE  },
;224:	{ &g_teamForceBalance, "g_teamForceBalance", "0", CVAR_ARCHIVE  },
;225:
;226:	{ &g_warmup, "g_warmup", "20", CVAR_ARCHIVE, 0, qtrue  },
;227:	{ &g_doWarmup, "g_doWarmup", "0", 0, 0, qtrue  },
;228:	{ &g_log, "g_log", "games.log", CVAR_ARCHIVE, 0, qfalse  },
;229:	{ &g_logSync, "g_logSync", "0", CVAR_ARCHIVE, 0, qfalse  },
;230:
;231:	{ &g_password, "g_password", "", CVAR_USERINFO, 0, qfalse  },
;232:
;233:	{ &g_banIPs, "g_banIPs", "", CVAR_ARCHIVE, 0, qfalse  },
;234:	{ &g_filterBan, "g_filterBan", "1", CVAR_ARCHIVE, 0, qfalse  },
;235:
;236:	{ &g_needpass, "g_needpass", "0", CVAR_SERVERINFO | CVAR_ROM, 0, qfalse },
;237:
;238:	{ &g_dedicated, "dedicated", "0", 0, 0, qfalse  },
;239:
;240:	{ &g_speed, "g_speed", "320", 0, 0, qtrue  },
;241:	{ &g_gravity, "g_gravity", "800", 0, 0, qtrue  },
;242:	{ NULL, "g_gravityLatch", "", CVAR_ROM, 0, qfalse },	// JUHOX
;243:	{ &g_knockback, "g_knockback", "1000", 0, 0, qtrue  },
;244:	{ &g_quadfactor, "g_quadfactor", "3", 0, 0, qtrue  },
;245:	{ &g_weaponRespawn, "g_weaponrespawn", "5", 0, 0, qtrue  },
;246:	{ &g_weaponTeamRespawn, "g_weaponTeamRespawn", "30", 0, 0, qtrue },
;247:	{ &g_forcerespawn, "g_forcerespawn", "20", 0, 0, qtrue },
;248:	{ &g_inactivity, "g_inactivity", "0", 0, 0, qtrue },
;249:	{ &g_debugMove, "g_debugMove", "0", 0, 0, qfalse },
;250:	{ &g_debugDamage, "g_debugDamage", "0", 0, 0, qfalse },
;251:	{ &g_debugAlloc, "g_debugAlloc", "0", 0, 0, qfalse },
;252:	{ &g_motd, "g_motd", "", 0, 0, qfalse },
;253:	{ &g_blood, "com_blood", "1", 0, 0, qfalse },
;254:
;255:	{ &g_podiumDist, "g_podiumDist", "80", 0, 0, qfalse },
;256:	{ &g_podiumDrop, "g_podiumDrop", "70", 0, 0, qfalse },
;257:
;258:	{ &g_allowVote, "g_allowVote", "1", CVAR_ARCHIVE, 0, qfalse },
;259:	{ &g_listEntity, "g_listEntity", "0", 0, 0, qfalse },
;260:
;261:	{ &g_mapName, "mapname", "", CVAR_SERVERINFO | CVAR_ROM, 0, qfalse },	// JUHOX
;262:	{ NULL, "svtmplfiles", "", CVAR_ROM | CVAR_NORESTART, 0, qfalse },	// JUHOX
;263:
;264:#ifdef MISSIONPACK
;265:	{ &g_obeliskHealth, "g_obeliskHealth", "2500", 0, 0, qfalse },
;266:	{ &g_obeliskRegenPeriod, "g_obeliskRegenPeriod", "1", 0, 0, qfalse },
;267:	{ &g_obeliskRegenAmount, "g_obeliskRegenAmount", "15", 0, 0, qfalse },
;268:	{ &g_obeliskRespawnDelay, "g_obeliskRespawnDelay", "10", CVAR_SERVERINFO, 0, qfalse },
;269:
;270:	{ &g_cubeTimeout, "g_cubeTimeout", "30", 0, 0, qfalse },
;271:	{ &g_redteam, "g_redteam", "Stroggs", CVAR_ARCHIVE | CVAR_SERVERINFO | CVAR_USERINFO , 0, qtrue, qtrue },
;272:	{ &g_blueteam, "g_blueteam", "Pagans", CVAR_ARCHIVE | CVAR_SERVERINFO | CVAR_USERINFO , 0, qtrue, qtrue  },
;273:	{ &g_singlePlayer, "ui_singlePlayerActive", "", 0, 0, qfalse, qfalse  },
;274:
;275:	{ &g_enableDust, "g_enableDust", "0", CVAR_SERVERINFO, 0, qtrue, qfalse },
;276:	{ &g_enableBreath, "g_enableBreath", "0", CVAR_SERVERINFO, 0, qtrue, qfalse },
;277:	{ &g_proxMineTimeout, "g_proxMineTimeout", "20000", 0, 0, qfalse },
;278:#endif
;279:	{ &g_smoothClients, "g_smoothClients", "1", 0, 0, qfalse},
;280:	{ &pmove_fixed, "pmove_fixed", "0", CVAR_SYSTEMINFO, 0, qfalse},
;281:	{ &pmove_msec, "pmove_msec", "8", CVAR_SYSTEMINFO, 0, qfalse},
;282:
;283:	{ &g_rankings, "g_rankings", "0", 0, 0, qfalse}
;284:
;285:};
;286:
;287:// bk001129 - made static to avoid aliasing
;288:static int gameCvarTableSize = sizeof( gameCvarTable ) / sizeof( gameCvarTable[0] );
;289:
;290:
;291:
;292:
;293:void G_InitGame( int levelTime, int randomSeed, int restart );
;294:void G_RunFrame( int levelTime );
;295:void G_ShutdownGame( int restart );
;296:void CheckExitRules( void );
;297:static qboolean DoCvarSettingsMatchTemplate(const gametemplate_t* gt);	// JUHOX
;298:
;299:
;300:/*
;301:================
;302:vmMain
;303:
;304:This is the only way control passes into the module.
;305:This must be the very first function compiled into the .q3vm file
;306:================
;307:*/
;308:int vmMain( int command, int arg0, int arg1, int arg2, int arg3, int arg4, int arg5, int arg6, int arg7, int arg8, int arg9, int arg10, int arg11  ) {
line 309
;309:	switch ( command ) {
ADDRLP4 0
ADDRFP4 0
INDIRI4
ASGNI4
ADDRLP4 0
INDIRI4
CNSTI4 0
LTI4 $205
ADDRLP4 0
INDIRI4
CNSTI4 10
GTI4 $205
ADDRLP4 0
INDIRI4
CNSTI4 2
LSHI4
ADDRGP4 $218
ADDP4
INDIRP4
JUMPV
data
align 4
LABELV $218
address $207
address $208
address $209
address $213
address $211
address $212
address $214
address $210
address $215
address $216
address $217
code
LABELV $207
line 311
;310:	case GAME_INIT:
;311:		G_InitGame( arg0, arg1, arg2 );
ADDRFP4 4
INDIRI4
ARGI4
ADDRFP4 8
INDIRI4
ARGI4
ADDRFP4 12
INDIRI4
ARGI4
ADDRGP4 G_InitGame
CALLV
pop
line 312
;312:		return 0;
CNSTI4 0
RETI4
ADDRGP4 $204
JUMPV
LABELV $208
line 314
;313:	case GAME_SHUTDOWN:
;314:		G_ShutdownGame( arg0 );
ADDRFP4 4
INDIRI4
ARGI4
ADDRGP4 G_ShutdownGame
CALLV
pop
line 315
;315:		return 0;
CNSTI4 0
RETI4
ADDRGP4 $204
JUMPV
LABELV $209
line 317
;316:	case GAME_CLIENT_CONNECT:
;317:		return (int)ClientConnect( arg0, arg1, arg2 );
ADDRFP4 4
INDIRI4
ARGI4
ADDRFP4 8
INDIRI4
ARGI4
ADDRFP4 12
INDIRI4
ARGI4
ADDRLP4 4
ADDRGP4 ClientConnect
CALLP4
ASGNP4
ADDRLP4 4
INDIRP4
CVPU4 4
CVUI4 4
RETI4
ADDRGP4 $204
JUMPV
LABELV $210
line 319
;318:	case GAME_CLIENT_THINK:
;319:		ClientThink( arg0 );
ADDRFP4 4
INDIRI4
ARGI4
ADDRGP4 ClientThink
CALLV
pop
line 320
;320:		return 0;
CNSTI4 0
RETI4
ADDRGP4 $204
JUMPV
LABELV $211
line 322
;321:	case GAME_CLIENT_USERINFO_CHANGED:
;322:		ClientUserinfoChanged( arg0 );
ADDRFP4 4
INDIRI4
ARGI4
ADDRGP4 ClientUserinfoChanged
CALLV
pop
line 323
;323:		return 0;
CNSTI4 0
RETI4
ADDRGP4 $204
JUMPV
LABELV $212
line 325
;324:	case GAME_CLIENT_DISCONNECT:
;325:		ClientDisconnect( arg0 );
ADDRFP4 4
INDIRI4
ARGI4
ADDRGP4 ClientDisconnect
CALLV
pop
line 326
;326:		return 0;
CNSTI4 0
RETI4
ADDRGP4 $204
JUMPV
LABELV $213
line 328
;327:	case GAME_CLIENT_BEGIN:
;328:		ClientBegin( arg0 );
ADDRFP4 4
INDIRI4
ARGI4
ADDRGP4 ClientBegin
CALLV
pop
line 329
;329:		return 0;
CNSTI4 0
RETI4
ADDRGP4 $204
JUMPV
LABELV $214
line 331
;330:	case GAME_CLIENT_COMMAND:
;331:		ClientCommand( arg0 );
ADDRFP4 4
INDIRI4
ARGI4
ADDRGP4 ClientCommand
CALLV
pop
line 332
;332:		return 0;
CNSTI4 0
RETI4
ADDRGP4 $204
JUMPV
LABELV $215
line 334
;333:	case GAME_RUN_FRAME:
;334:		G_RunFrame( arg0 );
ADDRFP4 4
INDIRI4
ARGI4
ADDRGP4 G_RunFrame
CALLV
pop
line 335
;335:		return 0;
CNSTI4 0
RETI4
ADDRGP4 $204
JUMPV
LABELV $216
line 337
;336:	case GAME_CONSOLE_COMMAND:
;337:		return ConsoleCommand();
ADDRLP4 8
ADDRGP4 ConsoleCommand
CALLI4
ASGNI4
ADDRLP4 8
INDIRI4
RETI4
ADDRGP4 $204
JUMPV
LABELV $217
line 339
;338:	case BOTAI_START_FRAME:
;339:		return BotAIStartFrame( arg0 );
ADDRFP4 4
INDIRI4
ARGI4
ADDRLP4 12
ADDRGP4 BotAIStartFrame
CALLI4
ASGNI4
ADDRLP4 12
INDIRI4
RETI4
ADDRGP4 $204
JUMPV
LABELV $205
line 342
;340:	}
;341:
;342:	return -1;
CNSTI4 -1
RETI4
LABELV $204
endproc vmMain 16 12
export G_Printf
proc G_Printf 1028 12
line 346
;343:}
;344:
;345:
;346:void QDECL G_Printf( const char *fmt, ... ) {
line 350
;347:	va_list		argptr;
;348:	char		text[1024];
;349:
;350:	va_start (argptr, fmt);
ADDRLP4 0
ADDRFP4 0+4
ASGNP4
line 351
;351:	vsprintf (text, fmt, argptr);
ADDRLP4 4
ARGP4
ADDRFP4 0
INDIRP4
ARGP4
ADDRLP4 0
INDIRP4
ARGP4
ADDRGP4 vsprintf
CALLI4
pop
line 352
;352:	va_end (argptr);
ADDRLP4 0
CNSTP4 0
ASGNP4
line 354
;353:
;354:	trap_Printf( text );
ADDRLP4 4
ARGP4
ADDRGP4 trap_Printf
CALLV
pop
line 355
;355:}
LABELV $219
endproc G_Printf 1028 12
export G_Error
proc G_Error 1028 12
line 357
;356:
;357:void QDECL G_Error( const char *fmt, ... ) {
line 361
;358:	va_list		argptr;
;359:	char		text[1024];
;360:
;361:	va_start (argptr, fmt);
ADDRLP4 0
ADDRFP4 0+4
ASGNP4
line 362
;362:	vsprintf (text, fmt, argptr);
ADDRLP4 4
ARGP4
ADDRFP4 0
INDIRP4
ARGP4
ADDRLP4 0
INDIRP4
ARGP4
ADDRGP4 vsprintf
CALLI4
pop
line 363
;363:	va_end (argptr);
ADDRLP4 0
CNSTP4 0
ASGNP4
line 365
;364:
;365:	trap_Error( text );
ADDRLP4 4
ARGP4
ADDRGP4 trap_Error
CALLV
pop
line 366
;366:}
LABELV $221
endproc G_Error 1028 12
export G_FindTeams
proc G_FindTeams 36 12
line 379
;367:
;368:/*
;369:================
;370:G_FindTeams
;371:
;372:Chain together all entities with a matching team field.
;373:Entity teams are used for item groups and multi-entity mover groups.
;374:
;375:All but the first will have the FL_TEAMSLAVE flag set and teammaster field set
;376:All but the last will have the teamchain field set to the next one
;377:================
;378:*/
;379:void G_FindTeams( void ) {
line 384
;380:	gentity_t	*e, *e2;
;381:	int		i, j;
;382:	int		c, c2;
;383:
;384:	c = 0;
ADDRLP4 20
CNSTI4 0
ASGNI4
line 385
;385:	c2 = 0;
ADDRLP4 12
CNSTI4 0
ASGNI4
line 386
;386:	for ( i=1, e=g_entities+i ; i < level.num_entities ; i++,e++ ){
ADDRLP4 16
CNSTI4 1
ASGNI4
ADDRLP4 4
ADDRLP4 16
INDIRI4
CNSTI4 844
MULI4
ADDRGP4 g_entities
ADDP4
ASGNP4
ADDRGP4 $227
JUMPV
LABELV $224
line 387
;387:		if (!e->inuse)
ADDRLP4 4
INDIRP4
CNSTI4 524
ADDP4
INDIRI4
CNSTI4 0
NEI4 $229
line 388
;388:			continue;
ADDRGP4 $225
JUMPV
LABELV $229
line 389
;389:		if (!e->team)
ADDRLP4 4
INDIRP4
CNSTI4 660
ADDP4
INDIRP4
CVPU4 4
CNSTU4 0
NEU4 $231
line 390
;390:			continue;
ADDRGP4 $225
JUMPV
LABELV $231
line 391
;391:		if (e->flags & FL_TEAMSLAVE)
ADDRLP4 4
INDIRP4
CNSTI4 540
ADDP4
INDIRI4
CNSTI4 1024
BANDI4
CNSTI4 0
EQI4 $233
line 392
;392:			continue;
ADDRGP4 $225
JUMPV
LABELV $233
line 393
;393:		e->teammaster = e;
ADDRLP4 4
INDIRP4
CNSTI4 784
ADDP4
ADDRLP4 4
INDIRP4
ASGNP4
line 394
;394:		c++;
ADDRLP4 20
ADDRLP4 20
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
line 395
;395:		c2++;
ADDRLP4 12
ADDRLP4 12
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
line 396
;396:		for (j=i+1, e2=e+1 ; j < level.num_entities ; j++,e2++)
ADDRLP4 8
ADDRLP4 16
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
ADDRLP4 0
ADDRLP4 4
INDIRP4
CNSTI4 844
ADDP4
ASGNP4
ADDRGP4 $238
JUMPV
LABELV $235
line 397
;397:		{
line 398
;398:			if (!e2->inuse)
ADDRLP4 0
INDIRP4
CNSTI4 524
ADDP4
INDIRI4
CNSTI4 0
NEI4 $240
line 399
;399:				continue;
ADDRGP4 $236
JUMPV
LABELV $240
line 400
;400:			if (!e2->team)
ADDRLP4 0
INDIRP4
CNSTI4 660
ADDP4
INDIRP4
CVPU4 4
CNSTU4 0
NEU4 $242
line 401
;401:				continue;
ADDRGP4 $236
JUMPV
LABELV $242
line 402
;402:			if (e2->flags & FL_TEAMSLAVE)
ADDRLP4 0
INDIRP4
CNSTI4 540
ADDP4
INDIRI4
CNSTI4 1024
BANDI4
CNSTI4 0
EQI4 $244
line 403
;403:				continue;
ADDRGP4 $236
JUMPV
LABELV $244
line 404
;404:			if (!strcmp(e->team, e2->team))
ADDRLP4 4
INDIRP4
CNSTI4 660
ADDP4
INDIRP4
ARGP4
ADDRLP4 0
INDIRP4
CNSTI4 660
ADDP4
INDIRP4
ARGP4
ADDRLP4 28
ADDRGP4 strcmp
CALLI4
ASGNI4
ADDRLP4 28
INDIRI4
CNSTI4 0
NEI4 $246
line 405
;405:			{
line 406
;406:				c2++;
ADDRLP4 12
ADDRLP4 12
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
line 407
;407:				e2->teamchain = e->teamchain;
ADDRLP4 0
INDIRP4
CNSTI4 780
ADDP4
ADDRLP4 4
INDIRP4
CNSTI4 780
ADDP4
INDIRP4
ASGNP4
line 408
;408:				e->teamchain = e2;
ADDRLP4 4
INDIRP4
CNSTI4 780
ADDP4
ADDRLP4 0
INDIRP4
ASGNP4
line 409
;409:				e2->teammaster = e;
ADDRLP4 0
INDIRP4
CNSTI4 784
ADDP4
ADDRLP4 4
INDIRP4
ASGNP4
line 410
;410:				e2->flags |= FL_TEAMSLAVE;
ADDRLP4 32
ADDRLP4 0
INDIRP4
CNSTI4 540
ADDP4
ASGNP4
ADDRLP4 32
INDIRP4
ADDRLP4 32
INDIRP4
INDIRI4
CNSTI4 1024
BORI4
ASGNI4
line 413
;411:
;412:				// make sure that targets only point at the master
;413:				if ( e2->targetname ) {
ADDRLP4 0
INDIRP4
CNSTI4 656
ADDP4
INDIRP4
CVPU4 4
CNSTU4 0
EQU4 $248
line 414
;414:					e->targetname = e2->targetname;
ADDRLP4 4
INDIRP4
CNSTI4 656
ADDP4
ADDRLP4 0
INDIRP4
CNSTI4 656
ADDP4
INDIRP4
ASGNP4
line 415
;415:					e2->targetname = NULL;
ADDRLP4 0
INDIRP4
CNSTI4 656
ADDP4
CNSTP4 0
ASGNP4
line 416
;416:				}
LABELV $248
line 417
;417:			}
LABELV $246
line 418
;418:		}
LABELV $236
line 396
ADDRLP4 8
ADDRLP4 8
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
ADDRLP4 0
ADDRLP4 0
INDIRP4
CNSTI4 844
ADDP4
ASGNP4
LABELV $238
ADDRLP4 8
INDIRI4
ADDRGP4 level+12
INDIRI4
LTI4 $235
line 419
;419:	}
LABELV $225
line 386
ADDRLP4 16
ADDRLP4 16
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
ADDRLP4 4
ADDRLP4 4
INDIRP4
CNSTI4 844
ADDP4
ASGNP4
LABELV $227
ADDRLP4 16
INDIRI4
ADDRGP4 level+12
INDIRI4
LTI4 $224
line 421
;420:
;421:	G_Printf ("%i teams with %i entities\n", c, c2);
ADDRGP4 $250
ARGP4
ADDRLP4 20
INDIRI4
ARGI4
ADDRLP4 12
INDIRI4
ARGI4
ADDRGP4 G_Printf
CALLV
pop
line 422
;422:}
LABELV $223
endproc G_FindTeams 36 12
export G_RemapTeamShaders
proc G_RemapTeamShaders 0 0
line 424
;423:
;424:void G_RemapTeamShaders() {
line 436
;425:#ifdef MISSIONPACK
;426:	char string[1024];
;427:	float f = level.time * 0.001;
;428:	Com_sprintf( string, sizeof(string), "team_icon/%s_red", g_redteam.string );
;429:	AddRemap("textures/ctf2/redteam01", string, f); 
;430:	AddRemap("textures/ctf2/redteam02", string, f); 
;431:	Com_sprintf( string, sizeof(string), "team_icon/%s_blue", g_blueteam.string );
;432:	AddRemap("textures/ctf2/blueteam01", string, f); 
;433:	AddRemap("textures/ctf2/blueteam02", string, f); 
;434:	trap_SetConfigstring(CS_SHADERSTATE, BuildShaderStateConfig());
;435:#endif
;436:}
LABELV $251
endproc G_RemapTeamShaders 0 0
export G_RegisterCvars
proc G_RegisterCvars 20 16
line 444
;437:
;438:
;439:/*
;440:=================
;441:G_RegisterCvars
;442:=================
;443:*/
;444:void G_RegisterCvars( void ) {
line 447
;445:	int			i;
;446:	cvarTable_t	*cv;
;447:	qboolean remapped = qfalse;
ADDRLP4 8
CNSTI4 0
ASGNI4
line 449
;448:
;449:	for ( i = 0, cv = gameCvarTable ; i < gameCvarTableSize ; i++, cv++ ) {
ADDRLP4 4
CNSTI4 0
ASGNI4
ADDRLP4 0
ADDRGP4 gameCvarTable
ASGNP4
ADDRGP4 $256
JUMPV
LABELV $253
line 450
;450:		trap_Cvar_Register( cv->vmCvar, cv->cvarName,
ADDRLP4 0
INDIRP4
INDIRP4
ARGP4
ADDRLP4 0
INDIRP4
CNSTI4 4
ADDP4
INDIRP4
ARGP4
ADDRLP4 0
INDIRP4
CNSTI4 8
ADDP4
INDIRP4
ARGP4
ADDRLP4 0
INDIRP4
CNSTI4 12
ADDP4
INDIRI4
ARGI4
ADDRGP4 trap_Cvar_Register
CALLV
pop
line 452
;451:			cv->defaultString, cv->cvarFlags );
;452:		if ( cv->vmCvar )
ADDRLP4 0
INDIRP4
INDIRP4
CVPU4 4
CNSTU4 0
EQU4 $257
line 453
;453:			cv->modificationCount = cv->vmCvar->modificationCount;
ADDRLP4 0
INDIRP4
CNSTI4 16
ADDP4
ADDRLP4 0
INDIRP4
INDIRP4
CNSTI4 4
ADDP4
INDIRI4
ASGNI4
LABELV $257
line 455
;454:
;455:		if (cv->teamShader) {
ADDRLP4 0
INDIRP4
CNSTI4 24
ADDP4
INDIRI4
CNSTI4 0
EQI4 $259
line 456
;456:			remapped = qtrue;
ADDRLP4 8
CNSTI4 1
ASGNI4
line 457
;457:		}
LABELV $259
line 459
;458:
;459:	}
LABELV $254
line 449
ADDRLP4 4
ADDRLP4 4
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
ADDRLP4 0
ADDRLP4 0
INDIRP4
CNSTI4 28
ADDP4
ASGNP4
LABELV $256
ADDRLP4 4
INDIRI4
ADDRGP4 gameCvarTableSize
INDIRI4
LTI4 $253
line 461
;460:
;461:	if (remapped) {
ADDRLP4 8
INDIRI4
CNSTI4 0
EQI4 $261
line 462
;462:		G_RemapTeamShaders();
ADDRGP4 G_RemapTeamShaders
CALLV
pop
line 463
;463:	}
LABELV $261
line 466
;464:
;465:	// check some things
;466:	if ( g_gametype.integer < 0 || g_gametype.integer >= GT_MAX_GAME_TYPE ) {
ADDRGP4 g_gametype+12
INDIRI4
CNSTI4 0
LTI4 $267
ADDRGP4 g_gametype+12
INDIRI4
CNSTI4 10
LTI4 $263
LABELV $267
line 467
;467:		G_Printf( "g_gametype %i is out of range, defaulting to 0\n", g_gametype.integer );
ADDRGP4 $268
ARGP4
ADDRGP4 g_gametype+12
INDIRI4
ARGI4
ADDRGP4 G_Printf
CALLV
pop
line 468
;468:		trap_Cvar_Set( "g_gametype", "0" );
ADDRGP4 $99
ARGP4
ADDRGP4 $96
ARGP4
ADDRGP4 trap_Cvar_Set
CALLV
pop
line 469
;469:	}
LABELV $263
line 471
;470:
;471:	level.warmupModificationCount = g_warmup.modificationCount;
ADDRGP4 level+368
ADDRGP4 g_warmup+4
INDIRI4
ASGNI4
line 472
;472:}
LABELV $252
endproc G_RegisterCvars 20 16
export G_UpdateCvars
proc G_UpdateCvars 28 12
line 479
;473:
;474:/*
;475:=================
;476:G_UpdateCvars
;477:=================
;478:*/
;479:void G_UpdateCvars( void ) {
line 482
;480:	int			i;
;481:	cvarTable_t	*cv;
;482:	qboolean remapped = qfalse;
ADDRLP4 8
CNSTI4 0
ASGNI4
line 484
;483:
;484:	for ( i = 0, cv = gameCvarTable ; i < gameCvarTableSize ; i++, cv++ ) {
ADDRLP4 4
CNSTI4 0
ASGNI4
ADDRLP4 0
ADDRGP4 gameCvarTable
ASGNP4
ADDRGP4 $276
JUMPV
LABELV $273
line 485
;485:		if ( cv->vmCvar ) {
ADDRLP4 0
INDIRP4
INDIRP4
CVPU4 4
CNSTU4 0
EQU4 $277
line 486
;486:			trap_Cvar_Update( cv->vmCvar );
ADDRLP4 0
INDIRP4
INDIRP4
ARGP4
ADDRGP4 trap_Cvar_Update
CALLV
pop
line 488
;487:
;488:			if ( cv->modificationCount != cv->vmCvar->modificationCount ) {
ADDRLP4 0
INDIRP4
CNSTI4 16
ADDP4
INDIRI4
ADDRLP4 0
INDIRP4
INDIRP4
CNSTI4 4
ADDP4
INDIRI4
EQI4 $279
line 489
;489:				cv->modificationCount = cv->vmCvar->modificationCount;
ADDRLP4 0
INDIRP4
CNSTI4 16
ADDP4
ADDRLP4 0
INDIRP4
INDIRP4
CNSTI4 4
ADDP4
INDIRI4
ASGNI4
line 491
;490:
;491:				if ( cv->trackChange ) {
ADDRLP4 0
INDIRP4
CNSTI4 20
ADDP4
INDIRI4
CNSTI4 0
EQI4 $281
line 492
;492:					trap_SendServerCommand( -1, va("print \"Server: %s changed to %s\n\"", 
ADDRGP4 $283
ARGP4
ADDRLP4 0
INDIRP4
CNSTI4 4
ADDP4
INDIRP4
ARGP4
ADDRLP4 0
INDIRP4
INDIRP4
CNSTI4 16
ADDP4
ARGP4
ADDRLP4 24
ADDRGP4 va
CALLP4
ASGNP4
CNSTI4 -1
ARGI4
ADDRLP4 24
INDIRP4
ARGP4
ADDRGP4 trap_SendServerCommand
CALLV
pop
line 494
;493:						cv->cvarName, cv->vmCvar->string ) );
;494:				}
LABELV $281
line 496
;495:
;496:				if (cv->teamShader) {
ADDRLP4 0
INDIRP4
CNSTI4 24
ADDP4
INDIRI4
CNSTI4 0
EQI4 $284
line 497
;497:					remapped = qtrue;
ADDRLP4 8
CNSTI4 1
ASGNI4
line 498
;498:				}
LABELV $284
line 500
;499:
;500:			}
LABELV $279
line 501
;501:		}
LABELV $277
line 502
;502:	}
LABELV $274
line 484
ADDRLP4 4
ADDRLP4 4
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
ADDRLP4 0
ADDRLP4 0
INDIRP4
CNSTI4 28
ADDP4
ASGNP4
LABELV $276
ADDRLP4 4
INDIRI4
ADDRGP4 gameCvarTableSize
INDIRI4
LTI4 $273
line 504
;503:
;504:	if (remapped) {
ADDRLP4 8
INDIRI4
CNSTI4 0
EQI4 $286
line 505
;505:		G_RemapTeamShaders();
ADDRGP4 G_RemapTeamShaders
CALLV
pop
line 506
;506:	}
LABELV $286
line 507
;507:}
LABELV $272
endproc G_UpdateCvars 28 12
bss
align 1
LABELV $289
skip 256
code
proc HighscoreName 28 12
line 514
;508:
;509:/*
;510:==================
;511:JUHOX: HighscoreName
;512:==================
;513:*/
;514:static const char* HighscoreName(const gametemplate_t* gt, const char* templatename) {
line 520
;515:	static char name[256];
;516:	int i;
;517:	int len;
;518:
;519:	if (
;520:		gt->tksHighscorename > TKS_missing &&
ADDRLP4 8
ADDRFP4 0
INDIRP4
ASGNP4
ADDRLP4 8
INDIRP4
CNSTI4 220
ADDP4
INDIRI4
CNSTI4 0
LEI4 $290
ADDRLP4 8
INDIRP4
CNSTI4 156
ADDP4
INDIRI1
CVII4 1
CNSTI4 0
EQI4 $290
line 522
;521:		gt->highscorename[0]
;522:	) {
line 523
;523:		Q_strncpyz(name, gt->highscorename, sizeof(name));
ADDRGP4 $289
ARGP4
ADDRFP4 0
INDIRP4
CNSTI4 156
ADDP4
ARGP4
CNSTI4 256
ARGI4
ADDRGP4 Q_strncpyz
CALLV
pop
line 524
;524:	}
ADDRGP4 $291
JUMPV
LABELV $290
line 525
;525:	else {
line 526
;526:		Q_strncpyz(name, templatename, sizeof(name));
ADDRGP4 $289
ARGP4
ADDRFP4 4
INDIRP4
ARGP4
CNSTI4 256
ARGI4
ADDRGP4 Q_strncpyz
CALLV
pop
line 527
;527:	}
LABELV $291
line 529
;528:
;529:	len = strlen(name);
ADDRGP4 $289
ARGP4
ADDRLP4 12
ADDRGP4 strlen
CALLI4
ASGNI4
ADDRLP4 4
ADDRLP4 12
INDIRI4
ASGNI4
line 530
;530:	for (i = 0; i < len; i++) {
ADDRLP4 0
CNSTI4 0
ASGNI4
ADDRGP4 $295
JUMPV
LABELV $292
line 531
;531:		if (name[i] >= 'a' && name[i] <= 'z') continue;
ADDRLP4 16
ADDRLP4 0
INDIRI4
ADDRGP4 $289
ADDP4
INDIRI1
CVII4 1
ASGNI4
ADDRLP4 16
INDIRI4
CNSTI4 97
LTI4 $296
ADDRLP4 16
INDIRI4
CNSTI4 122
GTI4 $296
ADDRGP4 $293
JUMPV
LABELV $296
line 532
;532:		if (name[i] >= 'A' && name[i] <= 'Z') continue;
ADDRLP4 20
ADDRLP4 0
INDIRI4
ADDRGP4 $289
ADDP4
INDIRI1
CVII4 1
ASGNI4
ADDRLP4 20
INDIRI4
CNSTI4 65
LTI4 $298
ADDRLP4 20
INDIRI4
CNSTI4 90
GTI4 $298
ADDRGP4 $293
JUMPV
LABELV $298
line 533
;533:		if (name[i] >= '0' && name[i] <= '9') continue;
ADDRLP4 24
ADDRLP4 0
INDIRI4
ADDRGP4 $289
ADDP4
INDIRI1
CVII4 1
ASGNI4
ADDRLP4 24
INDIRI4
CNSTI4 48
LTI4 $300
ADDRLP4 24
INDIRI4
CNSTI4 57
GTI4 $300
ADDRGP4 $293
JUMPV
LABELV $300
line 534
;534:		name[i] = '_';
ADDRLP4 0
INDIRI4
ADDRGP4 $289
ADDP4
CNSTI1 95
ASGNI1
line 535
;535:	}
LABELV $293
line 530
ADDRLP4 0
ADDRLP4 0
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
LABELV $295
ADDRLP4 0
INDIRI4
ADDRLP4 4
INDIRI4
LTI4 $292
line 536
;536:	return name;
ADDRGP4 $289
RETP4
LABELV $288
endproc HighscoreName 28 12
proc InitRecord 1628 12
line 545
;537:}
;538:
;539:/*
;540:==================
;541:JUHOX: InitRecord
;542:==================
;543:*/
;544:#if ESCAPE_MODE
;545:static void InitRecord(void) {
line 551
;546:	char info[MAX_INFO_STRING];
;547:	gametemplate_t gt;
;548:	char* scoreVarName;
;549:	char scoreVarContents[64];
;550:
;551:	trap_SetConfigstring(CS_RECORD, "0,0");
CNSTI4 713
ARGI4
ADDRGP4 $303
ARGP4
ADDRGP4 trap_SetConfigstring
CALLV
pop
line 553
;552:
;553:	if (!g_template.string[0]) return;
ADDRGP4 g_template+16
INDIRI1
CVII4 1
CNSTI4 0
NEI4 $304
ADDRGP4 $302
JUMPV
LABELV $304
line 555
;554:
;555:	trap_Cvar_VariableStringBuffer(g_template.string, info, sizeof(info));
ADDRGP4 g_template+16
ARGP4
ADDRLP4 512
ARGP4
CNSTI4 1024
ARGI4
ADDRGP4 trap_Cvar_VariableStringBuffer
CALLV
pop
line 556
;556:	if (!BG_ParseGameTemplate(info, &gt)) return;
ADDRLP4 512
ARGP4
ADDRLP4 0
ARGP4
ADDRLP4 1604
ADDRGP4 BG_ParseGameTemplate
CALLI4
ASGNI4
ADDRLP4 1604
INDIRI4
CNSTI4 0
NEI4 $308
ADDRGP4 $302
JUMPV
LABELV $308
line 557
;557:	if (gt.tksHighscoretype <= TKS_missing) return;
ADDRLP4 0+152
INDIRI4
CNSTI4 0
GTI4 $310
ADDRGP4 $302
JUMPV
LABELV $310
line 558
;558:	if (!DoCvarSettingsMatchTemplate(&gt)) return;
ADDRLP4 0
ARGP4
ADDRLP4 1608
ADDRGP4 DoCvarSettingsMatchTemplate
CALLI4
ASGNI4
ADDRLP4 1608
INDIRI4
CNSTI4 0
NEI4 $313
ADDRGP4 $302
JUMPV
LABELV $313
line 560
;559:
;560:	scoreVarName = va("%s0", HighscoreName(&gt, g_template.string));
ADDRLP4 0
ARGP4
ADDRGP4 g_template+16
ARGP4
ADDRLP4 1612
ADDRGP4 HighscoreName
CALLP4
ASGNP4
ADDRGP4 $315
ARGP4
ADDRLP4 1612
INDIRP4
ARGP4
ADDRLP4 1616
ADDRGP4 va
CALLP4
ASGNP4
ADDRLP4 1600
ADDRLP4 1616
INDIRP4
ASGNP4
line 561
;561:	trap_Cvar_VariableStringBuffer(scoreVarName, scoreVarContents, sizeof(scoreVarContents));
ADDRLP4 1600
INDIRP4
ARGP4
ADDRLP4 1536
ARGP4
CNSTI4 64
ARGI4
ADDRGP4 trap_Cvar_VariableStringBuffer
CALLV
pop
line 563
;562:
;563:	trap_SetConfigstring(CS_RECORD, va("%d,%d", gt.highscoretype, atoi(scoreVarContents)));
ADDRLP4 1536
ARGP4
ADDRLP4 1620
ADDRGP4 atoi
CALLI4
ASGNI4
ADDRGP4 $317
ARGP4
ADDRLP4 0+148
INDIRI4
ARGI4
ADDRLP4 1620
INDIRI4
ARGI4
ADDRLP4 1624
ADDRGP4 va
CALLP4
ASGNP4
CNSTI4 713
ARGI4
ADDRLP4 1624
INDIRP4
ARGP4
ADDRGP4 trap_SetConfigstring
CALLV
pop
line 564
;564:}
LABELV $302
endproc InitRecord 1628 12
export G_InitGame
proc G_InitGame 1032 20
line 573
;565:#endif
;566:
;567:/*
;568:============
;569:G_InitGame
;570:
;571:============
;572:*/
;573:void G_InitGame( int levelTime, int randomSeed, int restart ) {
line 576
;574:	int					i;
;575:
;576:	G_Printf ("------- Game Initialization -------\n");
ADDRGP4 $320
ARGP4
ADDRGP4 G_Printf
CALLV
pop
line 577
;577:	G_Printf ("gamename: %s\n", GAMEVERSION);
ADDRGP4 $321
ARGP4
ADDRGP4 $92
ARGP4
ADDRGP4 G_Printf
CALLV
pop
line 578
;578:	G_Printf ("gamedate: %s\n", __DATE__);
ADDRGP4 $322
ARGP4
ADDRGP4 $94
ARGP4
ADDRGP4 G_Printf
CALLV
pop
line 580
;579:
;580:	srand( randomSeed );
ADDRFP4 4
INDIRI4
CVIU4 4
ARGU4
ADDRGP4 srand
CALLV
pop
line 582
;581:
;582:	G_RegisterCvars();
ADDRGP4 G_RegisterCvars
CALLV
pop
line 584
;583:
;584:	G_ProcessIPBans();
ADDRGP4 G_ProcessIPBans
CALLV
pop
line 586
;585:
;586:	G_InitMemory();
ADDRGP4 G_InitMemory
CALLV
pop
line 589
;587:
;588:	// set some level globals
;589:	memset( &level, 0, sizeof( level ) );
ADDRGP4 level
ARGP4
CNSTI4 0
ARGI4
CNSTI4 24096
ARGI4
ADDRGP4 memset
CALLP4
pop
line 590
;590:	level.time = levelTime;
ADDRGP4 level+32
ADDRFP4 0
INDIRI4
ASGNI4
line 591
;591:	level.startTime = levelTime;
ADDRGP4 level+40
ADDRFP4 0
INDIRI4
ASGNI4
line 592
;592:	G_InitGameTemplates();	// JUHOX
ADDRGP4 G_InitGameTemplates
CALLV
pop
line 594
;593:#if ESCAPE_MODE
;594:	G_InitWorldSystem();	// JUHOX
ADDRGP4 G_InitWorldSystem
CALLV
pop
line 598
;595:#endif
;596:
;597:#if MEETING	// JUHOX: check for meeting
;598:	level.meeting = g_meeting.integer;
ADDRGP4 level+24092
ADDRGP4 g_meeting+12
INDIRI4
ASGNI4
line 601
;599:#endif
;600:
;601:	level.snd_fry = G_SoundIndex("sound/player/fry.wav");	// FIXME standing in lava / slime
ADDRGP4 $328
ARGP4
ADDRLP4 4
ADDRGP4 G_SoundIndex
CALLI4
ASGNI4
ADDRGP4 level+364
ADDRLP4 4
INDIRI4
ASGNI4
line 603
;602:
;603:	if ( g_gametype.integer != GT_SINGLE_PLAYER && g_log.string[0] ) {
ADDRGP4 g_gametype+12
INDIRI4
CNSTI4 2
EQI4 $329
ADDRGP4 g_log+16
INDIRI1
CVII4 1
CNSTI4 0
EQI4 $329
line 604
;604:		if ( g_logSync.integer ) {
ADDRGP4 g_logSync+12
INDIRI4
CNSTI4 0
EQI4 $333
line 605
;605:			trap_FS_FOpenFile( g_log.string, &level.logFile, FS_APPEND_SYNC );
ADDRGP4 g_log+16
ARGP4
ADDRGP4 level+20
ARGP4
CNSTI4 3
ARGI4
ADDRGP4 trap_FS_FOpenFile
CALLI4
pop
line 606
;606:		} else {
ADDRGP4 $334
JUMPV
LABELV $333
line 607
;607:			trap_FS_FOpenFile( g_log.string, &level.logFile, FS_APPEND );
ADDRGP4 g_log+16
ARGP4
ADDRGP4 level+20
ARGP4
CNSTI4 2
ARGI4
ADDRGP4 trap_FS_FOpenFile
CALLI4
pop
line 608
;608:		}
LABELV $334
line 609
;609:		if ( !level.logFile ) {
ADDRGP4 level+20
INDIRI4
CNSTI4 0
NEI4 $340
line 610
;610:			G_Printf( "WARNING: Couldn't open logfile: %s\n", g_log.string );
ADDRGP4 $343
ARGP4
ADDRGP4 g_log+16
ARGP4
ADDRGP4 G_Printf
CALLV
pop
line 611
;611:		} else {
ADDRGP4 $330
JUMPV
LABELV $340
line 614
;612:			char	serverinfo[MAX_INFO_STRING];
;613:
;614:			trap_GetServerinfo( serverinfo, sizeof( serverinfo ) );
ADDRLP4 8
ARGP4
CNSTI4 1024
ARGI4
ADDRGP4 trap_GetServerinfo
CALLV
pop
line 616
;615:
;616:			G_LogPrintf("------------------------------------------------------------\n" );
ADDRGP4 $345
ARGP4
ADDRGP4 G_LogPrintf
CALLV
pop
line 617
;617:			G_LogPrintf("InitGame: %s\n", serverinfo );
ADDRGP4 $346
ARGP4
ADDRLP4 8
ARGP4
ADDRGP4 G_LogPrintf
CALLV
pop
line 618
;618:		}
line 619
;619:	} else {
ADDRGP4 $330
JUMPV
LABELV $329
line 620
;620:		G_Printf( "Not logging to disk.\n" );
ADDRGP4 $347
ARGP4
ADDRGP4 G_Printf
CALLV
pop
line 621
;621:	}
LABELV $330
line 623
;622:
;623:	G_InitWorldSession();
ADDRGP4 G_InitWorldSession
CALLV
pop
line 626
;624:
;625:	// initialize all entities for this game
;626:	memset( g_entities, 0, MAX_GENTITIES * sizeof(g_entities[0]) );
ADDRGP4 g_entities
ARGP4
CNSTI4 0
ARGI4
CNSTI4 864256
ARGI4
ADDRGP4 memset
CALLP4
pop
line 627
;627:	level.gentities = g_entities;
ADDRGP4 level+4
ADDRGP4 g_entities
ASGNP4
line 630
;628:
;629:	// initialize all clients for this game
;630:	level.maxclients = g_maxclients.integer;
ADDRGP4 level+24
ADDRGP4 g_maxclients+12
INDIRI4
ASGNI4
line 631
;631:	memset( g_clients, 0, MAX_CLIENTS * sizeof(g_clients[0]) );
ADDRGP4 g_clients
ARGP4
CNSTI4 0
ARGI4
CNSTI4 358656
ARGI4
ADDRGP4 memset
CALLP4
pop
line 632
;632:	level.clients = g_clients;
ADDRGP4 level
ADDRGP4 g_clients
ASGNP4
line 635
;633:
;634:	// set client fields on player ents
;635:	for ( i=0 ; i<level.maxclients ; i++ ) {
ADDRLP4 0
CNSTI4 0
ASGNI4
ADDRGP4 $354
JUMPV
LABELV $351
line 636
;636:		g_entities[i].client = level.clients + i;
ADDRLP4 0
INDIRI4
CNSTI4 844
MULI4
ADDRGP4 g_entities+516
ADDP4
ADDRLP4 0
INDIRI4
CNSTI4 5604
MULI4
ADDRGP4 level
INDIRP4
ADDP4
ASGNP4
line 637
;637:	}
LABELV $352
line 635
ADDRLP4 0
ADDRLP4 0
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
LABELV $354
ADDRLP4 0
INDIRI4
ADDRGP4 level+24
INDIRI4
LTI4 $351
line 642
;638:
;639:	// always leave room for the max number of clients,
;640:	// even if they aren't all used, so numbers inside that
;641:	// range are NEVER anything but clients
;642:	level.num_entities = MAX_CLIENTS;
ADDRGP4 level+12
CNSTI4 64
ASGNI4
line 645
;643:
;644:	// let the server system know where the entites are
;645:	trap_LocateGameData( level.gentities, level.num_entities, sizeof( gentity_t ), 
ADDRGP4 level+4
INDIRP4
ARGP4
ADDRGP4 level+12
INDIRI4
ARGI4
CNSTI4 844
ARGI4
ADDRGP4 level
INDIRP4
ARGP4
CNSTI4 5604
ARGI4
ADDRGP4 trap_LocateGameData
CALLV
pop
line 649
;646:		&level.clients[0].ps, sizeof( level.clients[0] ) );
;647:
;648:	// reserve some spots for dead player bodies
;649:	InitBodyQue();
ADDRGP4 InitBodyQue
CALLV
pop
line 651
;650:
;651:	ClearRegisteredItems();
ADDRGP4 ClearRegisteredItems
CALLV
pop
line 654
;652:
;653:	// parse the key/value pairs and spawn gentities
;654:	G_SpawnEntitiesFromString();
ADDRGP4 G_SpawnEntitiesFromString
CALLV
pop
line 657
;655:
;656:	// general initialization
;657:	G_FindTeams();
ADDRGP4 G_FindTeams
CALLV
pop
line 660
;658:
;659:	// make sure we have flags for CTF, etc
;660:	if( g_gametype.integer >= GT_TEAM ) {
ADDRGP4 g_gametype+12
INDIRI4
CNSTI4 3
LTI4 $360
line 661
;661:		G_CheckTeamItems();
ADDRGP4 G_CheckTeamItems
CALLV
pop
line 662
;662:	}
LABELV $360
line 664
;663:
;664:	SaveRegisteredItems();
ADDRGP4 SaveRegisteredItems
CALLV
pop
line 667
;665:
;666:#if ESCAPE_MODE
;667:	if (g_gametype.integer == GT_EFH) G_SpawnWorld();	// JUHOX
ADDRGP4 g_gametype+12
INDIRI4
CNSTI4 9
NEI4 $363
ADDRGP4 G_SpawnWorld
CALLV
pop
LABELV $363
line 670
;668:#endif
;669:
;670:	G_Printf ("-----------------------------------\n");
ADDRGP4 $366
ARGP4
ADDRGP4 G_Printf
CALLV
pop
line 672
;671:
;672:	if( g_gametype.integer == GT_SINGLE_PLAYER || trap_Cvar_VariableIntegerValue( "com_buildScript" ) ) {
ADDRGP4 g_gametype+12
INDIRI4
CNSTI4 2
EQI4 $371
ADDRGP4 $370
ARGP4
ADDRLP4 8
ADDRGP4 trap_Cvar_VariableIntegerValue
CALLI4
ASGNI4
ADDRLP4 8
INDIRI4
CNSTI4 0
EQI4 $367
LABELV $371
line 673
;673:		G_ModelIndex( SP_PODIUM_MODEL );
ADDRGP4 $372
ARGP4
ADDRGP4 G_ModelIndex
CALLI4
pop
line 674
;674:		G_SoundIndex( "sound/player/gurp1.wav" );
ADDRGP4 $373
ARGP4
ADDRGP4 G_SoundIndex
CALLI4
pop
line 675
;675:		G_SoundIndex( "sound/player/gurp2.wav" );
ADDRGP4 $374
ARGP4
ADDRGP4 G_SoundIndex
CALLI4
pop
line 676
;676:	}
LABELV $367
line 682
;677:
;678:#if !ESCAPE_MODE	// JUHOX: no bots in EFH
;679:	if ( trap_Cvar_VariableIntegerValue( "bot_enable" ) ) {
;680:#else
;681:	if (
;682:		trap_Cvar_VariableIntegerValue("bot_enable") &&
ADDRGP4 $377
ARGP4
ADDRLP4 12
ADDRGP4 trap_Cvar_VariableIntegerValue
CALLI4
ASGNI4
ADDRLP4 12
INDIRI4
CNSTI4 0
EQI4 $375
ADDRGP4 g_gametype+12
INDIRI4
CNSTI4 9
EQI4 $375
line 684
;683:		g_gametype.integer != GT_EFH
;684:	) {
line 686
;685:#endif
;686:		BotAISetup( restart );
ADDRFP4 8
INDIRI4
ARGI4
ADDRGP4 BotAISetup
CALLI4
pop
line 687
;687:		BotAILoadMap( restart );
ADDRFP4 8
INDIRI4
ARGI4
ADDRGP4 BotAILoadMap
CALLI4
pop
line 688
;688:		G_InitBots( restart );
ADDRFP4 8
INDIRI4
ARGI4
ADDRGP4 G_InitBots
CALLV
pop
line 689
;689:	}
LABELV $375
line 691
;690:#if MONSTER_MODE	// JUHOX: init STU
;691:	G_InitMonsters();
ADDRGP4 G_InitMonsters
CALLV
pop
line 692
;692:	trap_SetConfigstring(CS_HIGHSCORETEXT, "");	// JUHOX
CNSTI4 710
ARGI4
ADDRGP4 $90
ARGP4
ADDRGP4 trap_SetConfigstring
CALLV
pop
line 693
;693:	trap_SetConfigstring(CS_NUMMONSTERS, "000,0");	// JUHOX
CNSTI4 717
ARGI4
ADDRGP4 $379
ARGP4
ADDRGP4 trap_SetConfigstring
CALLV
pop
line 694
;694:	trap_SetConfigstring(CS_STU_SCORE, "0");	// JUHOX
CNSTI4 715
ARGI4
ADDRGP4 $96
ARGP4
ADDRGP4 trap_SetConfigstring
CALLV
pop
line 697
;695:#endif
;696:#if ESCAPE_MODE
;697:	trap_SetConfigstring(CS_EFH_COVERED_DISTANCE, "0,0");	// JUHOX
CNSTI4 722
ARGI4
ADDRGP4 $303
ARGP4
ADDRGP4 trap_SetConfigstring
CALLV
pop
line 698
;698:	trap_SetConfigstring(CS_EFH_SPEED, "");	// JUHOX
CNSTI4 719
ARGI4
ADDRGP4 $90
ARGP4
ADDRGP4 trap_SetConfigstring
CALLV
pop
line 700
;699:#endif
;700:	InitRecord();	// JUHOX
ADDRGP4 InitRecord
CALLV
pop
line 701
;701:	trap_SetConfigstring(CS_CLIENTS_READY, "");	// JUHOX
CNSTI4 712
ARGI4
ADDRGP4 $90
ARGP4
ADDRGP4 trap_SetConfigstring
CALLV
pop
line 703
;702:#if MEETING
;703:	trap_SetConfigstring(CS_MEETING, va("%d", level.meeting));	// JUHOX
ADDRGP4 $380
ARGP4
ADDRGP4 level+24092
INDIRI4
ARGI4
ADDRLP4 16
ADDRGP4 va
CALLP4
ASGNP4
CNSTI4 709
ARGI4
ADDRLP4 16
INDIRP4
ARGP4
ADDRGP4 trap_SetConfigstring
CALLV
pop
line 705
;704:#endif
;705:	trap_SetConfigstring(CS_CHOOSENWEAPONS, "");	// JUHOX
CNSTI4 714
ARGI4
ADDRGP4 $90
ARGP4
ADDRGP4 trap_SetConfigstring
CALLV
pop
line 707
;706:
;707:	G_LoadGameTemplates();	// JUHOX
ADDRGP4 G_LoadGameTemplates
CALLV
pop
line 709
;708:
;709:	G_RemapTeamShaders();
ADDRGP4 G_RemapTeamShaders
CALLV
pop
line 710
;710:}
LABELV $319
endproc G_InitGame 1032 20
export G_ShutdownGame
proc G_ShutdownGame 4 4
line 719
;711:
;712:
;713:
;714:/*
;715:=================
;716:G_ShutdownGame
;717:=================
;718:*/
;719:void G_ShutdownGame( int restart ) {
line 720
;720:	G_Printf ("==== ShutdownGame ====\n");
ADDRGP4 $383
ARGP4
ADDRGP4 G_Printf
CALLV
pop
line 722
;721:
;722:	if ( level.logFile ) {
ADDRGP4 level+20
INDIRI4
CNSTI4 0
EQI4 $384
line 723
;723:		G_LogPrintf("ShutdownGame:\n" );
ADDRGP4 $387
ARGP4
ADDRGP4 G_LogPrintf
CALLV
pop
line 724
;724:		G_LogPrintf("------------------------------------------------------------\n" );
ADDRGP4 $345
ARGP4
ADDRGP4 G_LogPrintf
CALLV
pop
line 725
;725:		trap_FS_FCloseFile( level.logFile );
ADDRGP4 level+20
INDIRI4
ARGI4
ADDRGP4 trap_FS_FCloseFile
CALLV
pop
line 726
;726:	}
LABELV $384
line 729
;727:
;728:	// write all the client session data so we can get it back
;729:	G_WriteSessionData();
ADDRGP4 G_WriteSessionData
CALLV
pop
line 735
;730:
;731:#if !ESCAPE_MODE	// JUHOX: no bots in EFH
;732:	if ( trap_Cvar_VariableIntegerValue( "bot_enable" ) ) {
;733:#else
;734:	if (
;735:		trap_Cvar_VariableIntegerValue("bot_enable") &&
ADDRGP4 $377
ARGP4
ADDRLP4 0
ADDRGP4 trap_Cvar_VariableIntegerValue
CALLI4
ASGNI4
ADDRLP4 0
INDIRI4
CNSTI4 0
EQI4 $389
ADDRGP4 g_gametype+12
INDIRI4
CNSTI4 9
EQI4 $389
line 737
;736:		g_gametype.integer != GT_EFH
;737:	) {
line 739
;738:#endif
;739:		BotAIShutdown( restart );
ADDRFP4 0
INDIRI4
ARGI4
ADDRGP4 BotAIShutdown
CALLI4
pop
line 740
;740:	}
LABELV $389
line 741
;741:}
LABELV $382
endproc G_ShutdownGame 4 4
export Com_Error
proc Com_Error 1028 12
line 750
;742:
;743:
;744:
;745://===================================================================
;746:
;747:#ifndef GAME_HARD_LINKED
;748:// this is only here so the functions in q_shared.c and bg_*.c can link
;749:
;750:void QDECL Com_Error ( int level, const char *error, ... ) {
line 754
;751:	va_list		argptr;
;752:	char		text[1024];
;753:
;754:	va_start (argptr, error);
ADDRLP4 0
ADDRFP4 4+4
ASGNP4
line 755
;755:	vsprintf (text, error, argptr);
ADDRLP4 4
ARGP4
ADDRFP4 4
INDIRP4
ARGP4
ADDRLP4 0
INDIRP4
ARGP4
ADDRGP4 vsprintf
CALLI4
pop
line 756
;756:	va_end (argptr);
ADDRLP4 0
CNSTP4 0
ASGNP4
line 758
;757:
;758:	G_Error( "%s", text);
ADDRGP4 $394
ARGP4
ADDRLP4 4
ARGP4
ADDRGP4 G_Error
CALLV
pop
line 759
;759:}
LABELV $392
endproc Com_Error 1028 12
export Com_Printf
proc Com_Printf 1028 12
line 761
;760:
;761:void QDECL Com_Printf( const char *msg, ... ) {
line 765
;762:	va_list		argptr;
;763:	char		text[1024];
;764:
;765:	va_start (argptr, msg);
ADDRLP4 0
ADDRFP4 0+4
ASGNP4
line 766
;766:	vsprintf (text, msg, argptr);
ADDRLP4 4
ARGP4
ADDRFP4 0
INDIRP4
ARGP4
ADDRLP4 0
INDIRP4
ARGP4
ADDRGP4 vsprintf
CALLI4
pop
line 767
;767:	va_end (argptr);
ADDRLP4 0
CNSTP4 0
ASGNP4
line 769
;768:
;769:	G_Printf ("%s", text);
ADDRGP4 $394
ARGP4
ADDRLP4 4
ARGP4
ADDRGP4 G_Printf
CALLV
pop
line 770
;770:}
LABELV $395
endproc Com_Printf 1028 12
export AddTournamentPlayer
proc AddTournamentPlayer 20 8
line 790
;771:
;772:#endif
;773:
;774:/*
;775:========================================================================
;776:
;777:PLAYER COUNTING / SCORE SORTING
;778:
;779:========================================================================
;780:*/
;781:
;782:/*
;783:=============
;784:AddTournamentPlayer
;785:
;786:If there are less than two tournament players, put a
;787:spectator in the game and restart
;788:=============
;789:*/
;790:void AddTournamentPlayer( void ) {
line 795
;791:	int			i;
;792:	gclient_t	*client;
;793:	gclient_t	*nextInLine;
;794:
;795:	if ( level.numPlayingClients >= 2 ) {
ADDRGP4 level+96
INDIRI4
CNSTI4 2
LTI4 $398
line 796
;796:		return;
ADDRGP4 $397
JUMPV
LABELV $398
line 800
;797:	}
;798:
;799:	// never change during intermission
;800:	if ( level.intermissiontime ) {
ADDRGP4 level+9144
INDIRI4
CNSTI4 0
EQI4 $401
line 801
;801:		return;
ADDRGP4 $397
JUMPV
LABELV $401
line 804
;802:	}
;803:
;804:	nextInLine = NULL;
ADDRLP4 8
CNSTP4 0
ASGNP4
line 806
;805:
;806:	for ( i = 0 ; i < level.maxclients ; i++ ) {
ADDRLP4 4
CNSTI4 0
ASGNI4
ADDRGP4 $407
JUMPV
LABELV $404
line 807
;807:		client = &level.clients[i];
ADDRLP4 0
ADDRLP4 4
INDIRI4
CNSTI4 5604
MULI4
ADDRGP4 level
INDIRP4
ADDP4
ASGNP4
line 808
;808:		if ( client->pers.connected != CON_CONNECTED ) {
ADDRLP4 0
INDIRP4
CNSTI4 468
ADDP4
INDIRI4
CNSTI4 2
EQI4 $409
line 809
;809:			continue;
ADDRGP4 $405
JUMPV
LABELV $409
line 811
;810:		}
;811:		if ( client->sess.sessionTeam != TEAM_SPECTATOR ) {
ADDRLP4 0
INDIRP4
CNSTI4 696
ADDP4
INDIRI4
CNSTI4 3
EQI4 $411
line 812
;812:			continue;
ADDRGP4 $405
JUMPV
LABELV $411
line 815
;813:		}
;814:		// never select the dedicated follow or scoreboard clients
;815:		if ( client->sess.spectatorState == SPECTATOR_SCOREBOARD || 
ADDRLP4 0
INDIRP4
CNSTI4 704
ADDP4
INDIRI4
CNSTI4 3
EQI4 $415
ADDRLP4 0
INDIRP4
CNSTI4 708
ADDP4
INDIRI4
CNSTI4 0
GEI4 $413
LABELV $415
line 816
;816:			client->sess.spectatorClient < 0  ) {
line 817
;817:			continue;
ADDRGP4 $405
JUMPV
LABELV $413
line 820
;818:		}
;819:
;820:		if ( !nextInLine || client->sess.spectatorTime < nextInLine->sess.spectatorTime ) {
ADDRLP4 8
INDIRP4
CVPU4 4
CNSTU4 0
EQU4 $418
ADDRLP4 0
INDIRP4
CNSTI4 700
ADDP4
INDIRI4
ADDRLP4 8
INDIRP4
CNSTI4 700
ADDP4
INDIRI4
GEI4 $416
LABELV $418
line 821
;821:			nextInLine = client;
ADDRLP4 8
ADDRLP4 0
INDIRP4
ASGNP4
line 822
;822:		}
LABELV $416
line 823
;823:	}
LABELV $405
line 806
ADDRLP4 4
ADDRLP4 4
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
LABELV $407
ADDRLP4 4
INDIRI4
ADDRGP4 level+24
INDIRI4
LTI4 $404
line 825
;824:
;825:	if ( !nextInLine ) {
ADDRLP4 8
INDIRP4
CVPU4 4
CNSTU4 0
NEU4 $419
line 826
;826:		return;
ADDRGP4 $397
JUMPV
LABELV $419
line 829
;827:	}
;828:
;829:	level.warmupTime = -1;
ADDRGP4 level+16
CNSTI4 -1
ASGNI4
line 832
;830:
;831:	// set them to free-for-all team
;832:	SetTeam( &g_entities[ nextInLine - level.clients ], "f" );
ADDRLP4 8
INDIRP4
CVPU4 4
ADDRGP4 level
INDIRP4
CVPU4 4
SUBU4
CVUI4 4
CNSTI4 5604
DIVI4
CNSTI4 844
MULI4
ADDRGP4 g_entities
ADDP4
ARGP4
ADDRGP4 $422
ARGP4
ADDRGP4 SetTeam
CALLV
pop
line 833
;833:}
LABELV $397
endproc AddTournamentPlayer 20 8
export RemoveTournamentLoser
proc RemoveTournamentLoser 4 8
line 842
;834:
;835:/*
;836:=======================
;837:RemoveTournamentLoser
;838:
;839:Make the loser a spectator at the back of the line
;840:=======================
;841:*/
;842:void RemoveTournamentLoser( void ) {
line 845
;843:	int			clientNum;
;844:
;845:	if ( level.numPlayingClients != 2 ) {
ADDRGP4 level+96
INDIRI4
CNSTI4 2
EQI4 $424
line 846
;846:		return;
ADDRGP4 $423
JUMPV
LABELV $424
line 849
;847:	}
;848:
;849:	clientNum = level.sortedClients[1];
ADDRLP4 0
ADDRGP4 level+100+4
INDIRI4
ASGNI4
line 851
;850:
;851:	if ( level.clients[ clientNum ].pers.connected != CON_CONNECTED ) {
ADDRLP4 0
INDIRI4
CNSTI4 5604
MULI4
ADDRGP4 level
INDIRP4
ADDP4
CNSTI4 468
ADDP4
INDIRI4
CNSTI4 2
EQI4 $429
line 852
;852:		return;
ADDRGP4 $423
JUMPV
LABELV $429
line 856
;853:	}
;854:
;855:	// make them a spectator
;856:	SetTeam( &g_entities[ clientNum ], "s" );
ADDRLP4 0
INDIRI4
CNSTI4 844
MULI4
ADDRGP4 g_entities
ADDP4
ARGP4
ADDRGP4 $431
ARGP4
ADDRGP4 SetTeam
CALLV
pop
line 857
;857:}
LABELV $423
endproc RemoveTournamentLoser 4 8
export RemoveTournamentWinner
proc RemoveTournamentWinner 4 8
line 864
;858:
;859:/*
;860:=======================
;861:RemoveTournamentWinner
;862:=======================
;863:*/
;864:void RemoveTournamentWinner( void ) {
line 867
;865:	int			clientNum;
;866:
;867:	if ( level.numPlayingClients != 2 ) {
ADDRGP4 level+96
INDIRI4
CNSTI4 2
EQI4 $433
line 868
;868:		return;
ADDRGP4 $432
JUMPV
LABELV $433
line 871
;869:	}
;870:
;871:	clientNum = level.sortedClients[0];
ADDRLP4 0
ADDRGP4 level+100
INDIRI4
ASGNI4
line 873
;872:
;873:	if ( level.clients[ clientNum ].pers.connected != CON_CONNECTED ) {
ADDRLP4 0
INDIRI4
CNSTI4 5604
MULI4
ADDRGP4 level
INDIRP4
ADDP4
CNSTI4 468
ADDP4
INDIRI4
CNSTI4 2
EQI4 $437
line 874
;874:		return;
ADDRGP4 $432
JUMPV
LABELV $437
line 878
;875:	}
;876:
;877:	// make them a spectator
;878:	SetTeam( &g_entities[ clientNum ], "s" );
ADDRLP4 0
INDIRI4
CNSTI4 844
MULI4
ADDRGP4 g_entities
ADDP4
ARGP4
ADDRGP4 $431
ARGP4
ADDRGP4 SetTeam
CALLV
pop
line 879
;879:}
LABELV $432
endproc RemoveTournamentWinner 4 8
export AdjustTournamentScores
proc AdjustTournamentScores 8 4
line 886
;880:
;881:/*
;882:=======================
;883:AdjustTournamentScores
;884:=======================
;885:*/
;886:void AdjustTournamentScores( void ) {
line 889
;887:	int			clientNum;
;888:
;889:	clientNum = level.sortedClients[0];
ADDRLP4 0
ADDRGP4 level+100
INDIRI4
ASGNI4
line 890
;890:	if ( level.clients[ clientNum ].pers.connected == CON_CONNECTED ) {
ADDRLP4 0
INDIRI4
CNSTI4 5604
MULI4
ADDRGP4 level
INDIRP4
ADDP4
CNSTI4 468
ADDP4
INDIRI4
CNSTI4 2
NEI4 $441
line 891
;891:		level.clients[ clientNum ].sess.wins++;
ADDRLP4 4
ADDRLP4 0
INDIRI4
CNSTI4 5604
MULI4
ADDRGP4 level
INDIRP4
ADDP4
CNSTI4 712
ADDP4
ASGNP4
ADDRLP4 4
INDIRP4
ADDRLP4 4
INDIRP4
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
line 892
;892:		ClientUserinfoChanged( clientNum );
ADDRLP4 0
INDIRI4
ARGI4
ADDRGP4 ClientUserinfoChanged
CALLV
pop
line 893
;893:	}
LABELV $441
line 895
;894:
;895:	clientNum = level.sortedClients[1];
ADDRLP4 0
ADDRGP4 level+100+4
INDIRI4
ASGNI4
line 896
;896:	if ( level.clients[ clientNum ].pers.connected == CON_CONNECTED ) {
ADDRLP4 0
INDIRI4
CNSTI4 5604
MULI4
ADDRGP4 level
INDIRP4
ADDP4
CNSTI4 468
ADDP4
INDIRI4
CNSTI4 2
NEI4 $445
line 897
;897:		level.clients[ clientNum ].sess.losses++;
ADDRLP4 4
ADDRLP4 0
INDIRI4
CNSTI4 5604
MULI4
ADDRGP4 level
INDIRP4
ADDP4
CNSTI4 716
ADDP4
ASGNP4
ADDRLP4 4
INDIRP4
ADDRLP4 4
INDIRP4
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
line 898
;898:		ClientUserinfoChanged( clientNum );
ADDRLP4 0
INDIRI4
ARGI4
ADDRGP4 ClientUserinfoChanged
CALLV
pop
line 899
;899:	}
LABELV $445
line 901
;900:
;901:}
LABELV $439
endproc AdjustTournamentScores 8 4
export SortRanks
proc SortRanks 32 0
line 909
;902:
;903:/*
;904:=============
;905:SortRanks
;906:
;907:=============
;908:*/
;909:int QDECL SortRanks( const void *a, const void *b ) {
line 912
;910:	gclient_t	*ca, *cb;
;911:
;912:	ca = &level.clients[*(int *)a];
ADDRLP4 0
ADDRFP4 0
INDIRP4
INDIRI4
CNSTI4 5604
MULI4
ADDRGP4 level
INDIRP4
ADDP4
ASGNP4
line 913
;913:	cb = &level.clients[*(int *)b];
ADDRLP4 4
ADDRFP4 4
INDIRP4
INDIRI4
CNSTI4 5604
MULI4
ADDRGP4 level
INDIRP4
ADDP4
ASGNP4
line 916
;914:
;915:	// sort special clients last
;916:	if ( ca->sess.spectatorState == SPECTATOR_SCOREBOARD || ca->sess.spectatorClient < 0 ) {
ADDRLP4 0
INDIRP4
CNSTI4 704
ADDP4
INDIRI4
CNSTI4 3
EQI4 $450
ADDRLP4 0
INDIRP4
CNSTI4 708
ADDP4
INDIRI4
CNSTI4 0
GEI4 $448
LABELV $450
line 917
;917:		return 1;
CNSTI4 1
RETI4
ADDRGP4 $447
JUMPV
LABELV $448
line 919
;918:	}
;919:	if ( cb->sess.spectatorState == SPECTATOR_SCOREBOARD || cb->sess.spectatorClient < 0  ) {
ADDRLP4 4
INDIRP4
CNSTI4 704
ADDP4
INDIRI4
CNSTI4 3
EQI4 $453
ADDRLP4 4
INDIRP4
CNSTI4 708
ADDP4
INDIRI4
CNSTI4 0
GEI4 $451
LABELV $453
line 920
;920:		return -1;
CNSTI4 -1
RETI4
ADDRGP4 $447
JUMPV
LABELV $451
line 924
;921:	}
;922:
;923:	// then connecting clients
;924:	if ( ca->pers.connected == CON_CONNECTING ) {
ADDRLP4 0
INDIRP4
CNSTI4 468
ADDP4
INDIRI4
CNSTI4 1
NEI4 $454
line 925
;925:		return 1;
CNSTI4 1
RETI4
ADDRGP4 $447
JUMPV
LABELV $454
line 927
;926:	}
;927:	if ( cb->pers.connected == CON_CONNECTING ) {
ADDRLP4 4
INDIRP4
CNSTI4 468
ADDP4
INDIRI4
CNSTI4 1
NEI4 $456
line 928
;928:		return -1;
CNSTI4 -1
RETI4
ADDRGP4 $447
JUMPV
LABELV $456
line 933
;929:	}
;930:
;931:
;932:	// then spectators
;933:	if ( ca->sess.sessionTeam == TEAM_SPECTATOR && cb->sess.sessionTeam == TEAM_SPECTATOR ) {
ADDRLP4 0
INDIRP4
CNSTI4 696
ADDP4
INDIRI4
CNSTI4 3
NEI4 $458
ADDRLP4 4
INDIRP4
CNSTI4 696
ADDP4
INDIRI4
CNSTI4 3
NEI4 $458
line 934
;934:		if ( ca->sess.spectatorTime < cb->sess.spectatorTime ) {
ADDRLP4 0
INDIRP4
CNSTI4 700
ADDP4
INDIRI4
ADDRLP4 4
INDIRP4
CNSTI4 700
ADDP4
INDIRI4
GEI4 $460
line 935
;935:			return -1;
CNSTI4 -1
RETI4
ADDRGP4 $447
JUMPV
LABELV $460
line 937
;936:		}
;937:		if ( ca->sess.spectatorTime > cb->sess.spectatorTime ) {
ADDRLP4 0
INDIRP4
CNSTI4 700
ADDP4
INDIRI4
ADDRLP4 4
INDIRP4
CNSTI4 700
ADDP4
INDIRI4
LEI4 $462
line 938
;938:			return 1;
CNSTI4 1
RETI4
ADDRGP4 $447
JUMPV
LABELV $462
line 940
;939:		}
;940:		return 0;
CNSTI4 0
RETI4
ADDRGP4 $447
JUMPV
LABELV $458
line 942
;941:	}
;942:	if ( ca->sess.sessionTeam == TEAM_SPECTATOR ) {
ADDRLP4 0
INDIRP4
CNSTI4 696
ADDP4
INDIRI4
CNSTI4 3
NEI4 $464
line 943
;943:		return 1;
CNSTI4 1
RETI4
ADDRGP4 $447
JUMPV
LABELV $464
line 945
;944:	}
;945:	if ( cb->sess.sessionTeam == TEAM_SPECTATOR ) {
ADDRLP4 4
INDIRP4
CNSTI4 696
ADDP4
INDIRI4
CNSTI4 3
NEI4 $466
line 946
;946:		return -1;
CNSTI4 -1
RETI4
ADDRGP4 $447
JUMPV
LABELV $466
line 951
;947:	}
;948:
;949:	// JUHOX: take 'killed'-counter into account for team games
;950:#if 1
;951:	if (g_gametype.integer >= GT_TEAM) {
ADDRGP4 g_gametype+12
INDIRI4
CNSTI4 3
LTI4 $468
line 954
;952:		int sortScoreA, sortScoreB;
;953:
;954:		sortScoreA = ca->ps.persistant[PERS_SCORE] - ca->ps.persistant[PERS_KILLED];
ADDRLP4 16
ADDRLP4 0
INDIRP4
CNSTI4 248
ADDP4
INDIRI4
ADDRLP4 0
INDIRP4
CNSTI4 280
ADDP4
INDIRI4
SUBI4
ASGNI4
line 955
;955:		sortScoreB = cb->ps.persistant[PERS_SCORE] - cb->ps.persistant[PERS_KILLED];
ADDRLP4 20
ADDRLP4 4
INDIRP4
CNSTI4 248
ADDP4
INDIRI4
ADDRLP4 4
INDIRP4
CNSTI4 280
ADDP4
INDIRI4
SUBI4
ASGNI4
line 956
;956:		if (sortScoreA > sortScoreB) return -1;
ADDRLP4 16
INDIRI4
ADDRLP4 20
INDIRI4
LEI4 $471
CNSTI4 -1
RETI4
ADDRGP4 $447
JUMPV
LABELV $471
line 957
;957:		if (sortScoreA < sortScoreB) return 1;
ADDRLP4 16
INDIRI4
ADDRLP4 20
INDIRI4
GEI4 $473
CNSTI4 1
RETI4
ADDRGP4 $447
JUMPV
LABELV $473
line 958
;958:	}
LABELV $468
line 961
;959:#endif
;960:	// then sort by score
;961:	if ( ca->ps.persistant[PERS_SCORE]
ADDRLP4 0
INDIRP4
CNSTI4 248
ADDP4
INDIRI4
ADDRLP4 4
INDIRP4
CNSTI4 248
ADDP4
INDIRI4
LEI4 $475
line 962
;962:		> cb->ps.persistant[PERS_SCORE] ) {
line 963
;963:		return -1;
CNSTI4 -1
RETI4
ADDRGP4 $447
JUMPV
LABELV $475
line 965
;964:	}
;965:	if ( ca->ps.persistant[PERS_SCORE]
ADDRLP4 0
INDIRP4
CNSTI4 248
ADDP4
INDIRI4
ADDRLP4 4
INDIRP4
CNSTI4 248
ADDP4
INDIRI4
GEI4 $477
line 966
;966:		< cb->ps.persistant[PERS_SCORE] ) {
line 967
;967:		return 1;
CNSTI4 1
RETI4
ADDRGP4 $447
JUMPV
LABELV $477
line 972
;968:	}
;969:	// JUHOX: take 'killed'-counter into account for non-team games
;970:	// NOTE: 'ca' and 'cb' have equal score
;971:#if 1
;972:	if (g_gametype.integer < GT_TEAM) {
ADDRGP4 g_gametype+12
INDIRI4
CNSTI4 3
GEI4 $479
line 975
;973:		int sortScoreA, sortScoreB;
;974:
;975:		sortScoreA = ca->ps.persistant[PERS_KILLED];
ADDRLP4 16
ADDRLP4 0
INDIRP4
CNSTI4 280
ADDP4
INDIRI4
ASGNI4
line 976
;976:		sortScoreB = cb->ps.persistant[PERS_KILLED];
ADDRLP4 20
ADDRLP4 4
INDIRP4
CNSTI4 280
ADDP4
INDIRI4
ASGNI4
line 977
;977:		if (sortScoreA < sortScoreB) return -1;
ADDRLP4 16
INDIRI4
ADDRLP4 20
INDIRI4
GEI4 $482
CNSTI4 -1
RETI4
ADDRGP4 $447
JUMPV
LABELV $482
line 978
;978:		if (sortScoreA > sortScoreB) return 1;
ADDRLP4 16
INDIRI4
ADDRLP4 20
INDIRI4
LEI4 $484
CNSTI4 1
RETI4
ADDRGP4 $447
JUMPV
LABELV $484
line 979
;979:	}
LABELV $479
line 981
;980:#endif
;981:	return 0;
CNSTI4 0
RETI4
LABELV $447
endproc SortRanks 32 0
export CalculateRanks
proc CalculateRanks 44 16
line 993
;982:}
;983:
;984:/*
;985:============
;986:CalculateRanks
;987:
;988:Recalculates the score ranks of all players
;989:This will be called on every client connect, begin, disconnect, death,
;990:and team change.
;991:============
;992:*/
;993:void CalculateRanks( void ) {
line 1000
;994:	int		i;
;995:	int		rank;
;996:	int		score;
;997:	int		newScore;
;998:	gclient_t	*cl;
;999:
;1000:	level.follow1 = -1;
ADDRGP4 level+356
CNSTI4 -1
ASGNI4
line 1001
;1001:	level.follow2 = -1;
ADDRGP4 level+360
CNSTI4 -1
ASGNI4
line 1002
;1002:	level.numConnectedClients = 0;
ADDRGP4 level+88
CNSTI4 0
ASGNI4
line 1003
;1003:	level.numNonSpectatorClients = 0;
ADDRGP4 level+92
CNSTI4 0
ASGNI4
line 1004
;1004:	level.numPlayingClients = 0;
ADDRGP4 level+96
CNSTI4 0
ASGNI4
line 1005
;1005:	level.numVotingClients = 0;		// don't count bots
ADDRGP4 level+2436
CNSTI4 0
ASGNI4
line 1006
;1006:	for ( i = 0; i < TEAM_NUM_TEAMS; i++ ) {
ADDRLP4 0
CNSTI4 0
ASGNI4
LABELV $493
line 1007
;1007:		level.numteamVotingClients[i] = 0;
ADDRLP4 0
INDIRI4
CNSTI4 2
LSHI4
ADDRGP4 level+4512
ADDP4
CNSTI4 0
ASGNI4
line 1008
;1008:	}
LABELV $494
line 1006
ADDRLP4 0
ADDRLP4 0
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
ADDRLP4 0
INDIRI4
CNSTI4 4
LTI4 $493
line 1009
;1009:	for ( i = 0 ; i < level.maxclients ; i++ ) {
ADDRLP4 0
CNSTI4 0
ASGNI4
ADDRGP4 $501
JUMPV
LABELV $498
line 1010
;1010:		if ( level.clients[i].pers.connected != CON_DISCONNECTED ) {
ADDRLP4 0
INDIRI4
CNSTI4 5604
MULI4
ADDRGP4 level
INDIRP4
ADDP4
CNSTI4 468
ADDP4
INDIRI4
CNSTI4 0
EQI4 $503
line 1011
;1011:			level.sortedClients[level.numConnectedClients] = i;
ADDRGP4 level+88
INDIRI4
CNSTI4 2
LSHI4
ADDRGP4 level+100
ADDP4
ADDRLP4 0
INDIRI4
ASGNI4
line 1012
;1012:			level.numConnectedClients++;
ADDRLP4 20
ADDRGP4 level+88
ASGNP4
ADDRLP4 20
INDIRP4
ADDRLP4 20
INDIRP4
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
line 1014
;1013:
;1014:			if ( level.clients[i].sess.sessionTeam != TEAM_SPECTATOR ) {
ADDRLP4 0
INDIRI4
CNSTI4 5604
MULI4
ADDRGP4 level
INDIRP4
ADDP4
CNSTI4 696
ADDP4
INDIRI4
CNSTI4 3
EQI4 $508
line 1015
;1015:				level.numNonSpectatorClients++;
ADDRLP4 24
ADDRGP4 level+92
ASGNP4
ADDRLP4 24
INDIRP4
ADDRLP4 24
INDIRP4
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
line 1018
;1016:			
;1017:				// decide if this should be auto-followed
;1018:				if ( level.clients[i].pers.connected == CON_CONNECTED ) {
ADDRLP4 0
INDIRI4
CNSTI4 5604
MULI4
ADDRGP4 level
INDIRP4
ADDP4
CNSTI4 468
ADDP4
INDIRI4
CNSTI4 2
NEI4 $511
line 1019
;1019:					level.numPlayingClients++;
ADDRLP4 28
ADDRGP4 level+96
ASGNP4
ADDRLP4 28
INDIRP4
ADDRLP4 28
INDIRP4
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
line 1020
;1020:					if ( !(g_entities[i].r.svFlags & SVF_BOT) ) {
ADDRLP4 0
INDIRI4
CNSTI4 844
MULI4
ADDRGP4 g_entities+208+216
ADDP4
INDIRI4
CNSTI4 8
BANDI4
CNSTI4 0
NEI4 $514
line 1021
;1021:						level.numVotingClients++;
ADDRLP4 32
ADDRGP4 level+2436
ASGNP4
ADDRLP4 32
INDIRP4
ADDRLP4 32
INDIRP4
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
line 1022
;1022:						if ( level.clients[i].sess.sessionTeam == TEAM_RED )
ADDRLP4 0
INDIRI4
CNSTI4 5604
MULI4
ADDRGP4 level
INDIRP4
ADDP4
CNSTI4 696
ADDP4
INDIRI4
CNSTI4 1
NEI4 $519
line 1023
;1023:							level.numteamVotingClients[0]++;
ADDRLP4 36
ADDRGP4 level+4512
ASGNP4
ADDRLP4 36
INDIRP4
ADDRLP4 36
INDIRP4
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
ADDRGP4 $520
JUMPV
LABELV $519
line 1024
;1024:						else if ( level.clients[i].sess.sessionTeam == TEAM_BLUE )
ADDRLP4 0
INDIRI4
CNSTI4 5604
MULI4
ADDRGP4 level
INDIRP4
ADDP4
CNSTI4 696
ADDP4
INDIRI4
CNSTI4 2
NEI4 $522
line 1025
;1025:							level.numteamVotingClients[1]++;
ADDRLP4 40
ADDRGP4 level+4512+4
ASGNP4
ADDRLP4 40
INDIRP4
ADDRLP4 40
INDIRP4
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
LABELV $522
LABELV $520
line 1026
;1026:					}
LABELV $514
line 1027
;1027:					if ( level.follow1 == -1 ) {
ADDRGP4 level+356
INDIRI4
CNSTI4 -1
NEI4 $526
line 1028
;1028:						level.follow1 = i;
ADDRGP4 level+356
ADDRLP4 0
INDIRI4
ASGNI4
line 1029
;1029:					} else if ( level.follow2 == -1 ) {
ADDRGP4 $527
JUMPV
LABELV $526
ADDRGP4 level+360
INDIRI4
CNSTI4 -1
NEI4 $530
line 1030
;1030:						level.follow2 = i;
ADDRGP4 level+360
ADDRLP4 0
INDIRI4
ASGNI4
line 1031
;1031:					}
LABELV $530
LABELV $527
line 1032
;1032:				}
LABELV $511
line 1033
;1033:			}
LABELV $508
line 1034
;1034:		}
LABELV $503
line 1035
;1035:	}
LABELV $499
line 1009
ADDRLP4 0
ADDRLP4 0
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
LABELV $501
ADDRLP4 0
INDIRI4
ADDRGP4 level+24
INDIRI4
LTI4 $498
line 1037
;1036:
;1037:	qsort( level.sortedClients, level.numConnectedClients, 
ADDRGP4 level+100
ARGP4
ADDRGP4 level+88
INDIRI4
ARGI4
CNSTI4 4
ARGI4
ADDRGP4 SortRanks
ARGP4
ADDRGP4 qsort
CALLV
pop
line 1041
;1038:		sizeof(level.sortedClients[0]), SortRanks );
;1039:
;1040:	// set the rank value for all clients that are connected and not spectators
;1041:	if ( g_gametype.integer >= GT_TEAM ) {
ADDRGP4 g_gametype+12
INDIRI4
CNSTI4 3
LTI4 $537
line 1043
;1042:		// in team games, rank is just the order of the teams, 0=red, 1=blue, 2=tied
;1043:		for ( i = 0;  i < level.numConnectedClients; i++ ) {
ADDRLP4 0
CNSTI4 0
ASGNI4
ADDRGP4 $543
JUMPV
LABELV $540
line 1044
;1044:			cl = &level.clients[ level.sortedClients[i] ];
ADDRLP4 4
ADDRLP4 0
INDIRI4
CNSTI4 2
LSHI4
ADDRGP4 level+100
ADDP4
INDIRI4
CNSTI4 5604
MULI4
ADDRGP4 level
INDIRP4
ADDP4
ASGNP4
line 1045
;1045:			if ( level.teamScores[TEAM_RED] == level.teamScores[TEAM_BLUE] ) {
ADDRGP4 level+44+4
INDIRI4
ADDRGP4 level+44+8
INDIRI4
NEI4 $546
line 1046
;1046:				cl->ps.persistant[PERS_RANK] = 2;
ADDRLP4 4
INDIRP4
CNSTI4 256
ADDP4
CNSTI4 2
ASGNI4
line 1047
;1047:			} else if ( level.teamScores[TEAM_RED] > level.teamScores[TEAM_BLUE] ) {
ADDRGP4 $547
JUMPV
LABELV $546
ADDRGP4 level+44+4
INDIRI4
ADDRGP4 level+44+8
INDIRI4
LEI4 $552
line 1048
;1048:				cl->ps.persistant[PERS_RANK] = 0;
ADDRLP4 4
INDIRP4
CNSTI4 256
ADDP4
CNSTI4 0
ASGNI4
line 1049
;1049:			} else {
ADDRGP4 $553
JUMPV
LABELV $552
line 1050
;1050:				cl->ps.persistant[PERS_RANK] = 1;
ADDRLP4 4
INDIRP4
CNSTI4 256
ADDP4
CNSTI4 1
ASGNI4
line 1051
;1051:			}
LABELV $553
LABELV $547
line 1052
;1052:		}
LABELV $541
line 1043
ADDRLP4 0
ADDRLP4 0
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
LABELV $543
ADDRLP4 0
INDIRI4
ADDRGP4 level+88
INDIRI4
LTI4 $540
line 1053
;1053:	} else {	
ADDRGP4 $538
JUMPV
LABELV $537
line 1054
;1054:		rank = -1;
ADDRLP4 12
CNSTI4 -1
ASGNI4
line 1055
;1055:		score = 0;
ADDRLP4 16
CNSTI4 0
ASGNI4
line 1056
;1056:		for ( i = 0;  i < level.numPlayingClients; i++ ) {
ADDRLP4 0
CNSTI4 0
ASGNI4
ADDRGP4 $561
JUMPV
LABELV $558
line 1057
;1057:			cl = &level.clients[ level.sortedClients[i] ];
ADDRLP4 4
ADDRLP4 0
INDIRI4
CNSTI4 2
LSHI4
ADDRGP4 level+100
ADDP4
INDIRI4
CNSTI4 5604
MULI4
ADDRGP4 level
INDIRP4
ADDP4
ASGNP4
line 1058
;1058:			newScore = cl->ps.persistant[PERS_SCORE];
ADDRLP4 8
ADDRLP4 4
INDIRP4
CNSTI4 248
ADDP4
INDIRI4
ASGNI4
line 1059
;1059:			if ( i == 0 || newScore != score ) {
ADDRLP4 0
INDIRI4
CNSTI4 0
EQI4 $566
ADDRLP4 8
INDIRI4
ADDRLP4 16
INDIRI4
EQI4 $564
LABELV $566
line 1060
;1060:				rank = i;
ADDRLP4 12
ADDRLP4 0
INDIRI4
ASGNI4
line 1062
;1061:				// assume we aren't tied until the next client is checked
;1062:				level.clients[ level.sortedClients[i] ].ps.persistant[PERS_RANK] = rank;
ADDRLP4 0
INDIRI4
CNSTI4 2
LSHI4
ADDRGP4 level+100
ADDP4
INDIRI4
CNSTI4 5604
MULI4
ADDRGP4 level
INDIRP4
ADDP4
CNSTI4 256
ADDP4
ADDRLP4 12
INDIRI4
ASGNI4
line 1063
;1063:			} else {
ADDRGP4 $565
JUMPV
LABELV $564
line 1065
;1064:				// we are tied with the previous client
;1065:				level.clients[ level.sortedClients[i-1] ].ps.persistant[PERS_RANK] = rank | RANK_TIED_FLAG;
ADDRLP4 0
INDIRI4
CNSTI4 2
LSHI4
ADDRGP4 level+100-4
ADDP4
INDIRI4
CNSTI4 5604
MULI4
ADDRGP4 level
INDIRP4
ADDP4
CNSTI4 256
ADDP4
ADDRLP4 12
INDIRI4
CNSTI4 16384
BORI4
ASGNI4
line 1066
;1066:				level.clients[ level.sortedClients[i] ].ps.persistant[PERS_RANK] = rank | RANK_TIED_FLAG;
ADDRLP4 0
INDIRI4
CNSTI4 2
LSHI4
ADDRGP4 level+100
ADDP4
INDIRI4
CNSTI4 5604
MULI4
ADDRGP4 level
INDIRP4
ADDP4
CNSTI4 256
ADDP4
ADDRLP4 12
INDIRI4
CNSTI4 16384
BORI4
ASGNI4
line 1067
;1067:			}
LABELV $565
line 1068
;1068:			score = newScore;
ADDRLP4 16
ADDRLP4 8
INDIRI4
ASGNI4
line 1069
;1069:			if ( g_gametype.integer == GT_SINGLE_PLAYER && level.numPlayingClients == 1 ) {
ADDRGP4 g_gametype+12
INDIRI4
CNSTI4 2
NEI4 $571
ADDRGP4 level+96
INDIRI4
CNSTI4 1
NEI4 $571
line 1070
;1070:				level.clients[ level.sortedClients[i] ].ps.persistant[PERS_RANK] = rank | RANK_TIED_FLAG;
ADDRLP4 0
INDIRI4
CNSTI4 2
LSHI4
ADDRGP4 level+100
ADDP4
INDIRI4
CNSTI4 5604
MULI4
ADDRGP4 level
INDIRP4
ADDP4
CNSTI4 256
ADDP4
ADDRLP4 12
INDIRI4
CNSTI4 16384
BORI4
ASGNI4
line 1071
;1071:			}
LABELV $571
line 1072
;1072:		}
LABELV $559
line 1056
ADDRLP4 0
ADDRLP4 0
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
LABELV $561
ADDRLP4 0
INDIRI4
ADDRGP4 level+96
INDIRI4
LTI4 $558
line 1073
;1073:	}
LABELV $538
line 1076
;1074:
;1075:	// set the CS_SCORES1/2 configstrings, which will be visible to everyone
;1076:	if ( g_gametype.integer >= GT_TEAM ) {
ADDRGP4 g_gametype+12
INDIRI4
CNSTI4 3
LTI4 $576
line 1077
;1077:		trap_SetConfigstring( CS_SCORES1, va("%i", level.teamScores[TEAM_RED] ) );
ADDRGP4 $579
ARGP4
ADDRGP4 level+44+4
INDIRI4
ARGI4
ADDRLP4 20
ADDRGP4 va
CALLP4
ASGNP4
CNSTI4 6
ARGI4
ADDRLP4 20
INDIRP4
ARGP4
ADDRGP4 trap_SetConfigstring
CALLV
pop
line 1078
;1078:		trap_SetConfigstring( CS_SCORES2, va("%i", level.teamScores[TEAM_BLUE] ) );
ADDRGP4 $579
ARGP4
ADDRGP4 level+44+8
INDIRI4
ARGI4
ADDRLP4 24
ADDRGP4 va
CALLP4
ASGNP4
CNSTI4 7
ARGI4
ADDRLP4 24
INDIRP4
ARGP4
ADDRGP4 trap_SetConfigstring
CALLV
pop
line 1079
;1079:	} else {
ADDRGP4 $577
JUMPV
LABELV $576
line 1080
;1080:		if ( level.numConnectedClients == 0 ) {
ADDRGP4 level+88
INDIRI4
CNSTI4 0
NEI4 $584
line 1081
;1081:			trap_SetConfigstring( CS_SCORES1, va("%i", SCORE_NOT_PRESENT) );
ADDRGP4 $579
ARGP4
CNSTI4 -9999
ARGI4
ADDRLP4 20
ADDRGP4 va
CALLP4
ASGNP4
CNSTI4 6
ARGI4
ADDRLP4 20
INDIRP4
ARGP4
ADDRGP4 trap_SetConfigstring
CALLV
pop
line 1082
;1082:			trap_SetConfigstring( CS_SCORES2, va("%i", SCORE_NOT_PRESENT) );
ADDRGP4 $579
ARGP4
CNSTI4 -9999
ARGI4
ADDRLP4 24
ADDRGP4 va
CALLP4
ASGNP4
CNSTI4 7
ARGI4
ADDRLP4 24
INDIRP4
ARGP4
ADDRGP4 trap_SetConfigstring
CALLV
pop
line 1083
;1083:		} else if ( level.numConnectedClients == 1 ) {
ADDRGP4 $585
JUMPV
LABELV $584
ADDRGP4 level+88
INDIRI4
CNSTI4 1
NEI4 $587
line 1084
;1084:			trap_SetConfigstring( CS_SCORES1, va("%i", level.clients[ level.sortedClients[0] ].ps.persistant[PERS_SCORE] ) );
ADDRGP4 $579
ARGP4
ADDRGP4 level+100
INDIRI4
CNSTI4 5604
MULI4
ADDRGP4 level
INDIRP4
ADDP4
CNSTI4 248
ADDP4
INDIRI4
ARGI4
ADDRLP4 20
ADDRGP4 va
CALLP4
ASGNP4
CNSTI4 6
ARGI4
ADDRLP4 20
INDIRP4
ARGP4
ADDRGP4 trap_SetConfigstring
CALLV
pop
line 1085
;1085:			trap_SetConfigstring( CS_SCORES2, va("%i", SCORE_NOT_PRESENT) );
ADDRGP4 $579
ARGP4
CNSTI4 -9999
ARGI4
ADDRLP4 24
ADDRGP4 va
CALLP4
ASGNP4
CNSTI4 7
ARGI4
ADDRLP4 24
INDIRP4
ARGP4
ADDRGP4 trap_SetConfigstring
CALLV
pop
line 1086
;1086:		} else {
ADDRGP4 $588
JUMPV
LABELV $587
line 1087
;1087:			trap_SetConfigstring( CS_SCORES1, va("%i", level.clients[ level.sortedClients[0] ].ps.persistant[PERS_SCORE] ) );
ADDRGP4 $579
ARGP4
ADDRGP4 level+100
INDIRI4
CNSTI4 5604
MULI4
ADDRGP4 level
INDIRP4
ADDP4
CNSTI4 248
ADDP4
INDIRI4
ARGI4
ADDRLP4 20
ADDRGP4 va
CALLP4
ASGNP4
CNSTI4 6
ARGI4
ADDRLP4 20
INDIRP4
ARGP4
ADDRGP4 trap_SetConfigstring
CALLV
pop
line 1088
;1088:			trap_SetConfigstring( CS_SCORES2, va("%i", level.clients[ level.sortedClients[1] ].ps.persistant[PERS_SCORE] ) );
ADDRGP4 $579
ARGP4
ADDRGP4 level+100+4
INDIRI4
CNSTI4 5604
MULI4
ADDRGP4 level
INDIRP4
ADDP4
CNSTI4 248
ADDP4
INDIRI4
ARGI4
ADDRLP4 24
ADDRGP4 va
CALLP4
ASGNP4
CNSTI4 7
ARGI4
ADDRLP4 24
INDIRP4
ARGP4
ADDRGP4 trap_SetConfigstring
CALLV
pop
line 1089
;1089:		}
LABELV $588
LABELV $585
line 1090
;1090:	}
LABELV $577
line 1093
;1091:
;1092:	// see if it is time to end the level
;1093:	CheckExitRules();
ADDRGP4 CheckExitRules
CALLV
pop
line 1096
;1094:
;1095:	// if we are at the intermission, send the new info to everyone
;1096:	if ( level.intermissiontime ) {
ADDRGP4 level+9144
INDIRI4
CNSTI4 0
EQI4 $594
line 1097
;1097:		SendScoreboardMessageToAllClients();
ADDRGP4 SendScoreboardMessageToAllClients
CALLV
pop
line 1098
;1098:	}
LABELV $594
line 1099
;1099:}
LABELV $486
endproc CalculateRanks 44 16
export SendScoreboardMessageToAllClients
proc SendScoreboardMessageToAllClients 4 4
line 1118
;1100:
;1101:
;1102:/*
;1103:========================================================================
;1104:
;1105:MAP CHANGING
;1106:
;1107:========================================================================
;1108:*/
;1109:
;1110:/*
;1111:========================
;1112:SendScoreboardMessageToAllClients
;1113:
;1114:Do this at BeginIntermission time and whenever ranks are recalculated
;1115:due to enters/exits/forced team changes
;1116:========================
;1117:*/
;1118:void SendScoreboardMessageToAllClients( void ) {
line 1121
;1119:	int		i;
;1120:
;1121:	for ( i = 0 ; i < level.maxclients ; i++ ) {
ADDRLP4 0
CNSTI4 0
ASGNI4
ADDRGP4 $601
JUMPV
LABELV $598
line 1122
;1122:		if ( level.clients[ i ].pers.connected == CON_CONNECTED ) {
ADDRLP4 0
INDIRI4
CNSTI4 5604
MULI4
ADDRGP4 level
INDIRP4
ADDP4
CNSTI4 468
ADDP4
INDIRI4
CNSTI4 2
NEI4 $603
line 1123
;1123:			DeathmatchScoreboardMessage( g_entities + i );
ADDRLP4 0
INDIRI4
CNSTI4 844
MULI4
ADDRGP4 g_entities
ADDP4
ARGP4
ADDRGP4 DeathmatchScoreboardMessage
CALLV
pop
line 1124
;1124:		}
LABELV $603
line 1125
;1125:	}
LABELV $599
line 1121
ADDRLP4 0
ADDRLP4 0
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
LABELV $601
ADDRLP4 0
INDIRI4
ADDRGP4 level+24
INDIRI4
LTI4 $598
line 1126
;1126:}
LABELV $597
endproc SendScoreboardMessageToAllClients 4 4
export MoveClientToIntermission
proc MoveClientToIntermission 0 12
line 1136
;1127:
;1128:/*
;1129:========================
;1130:MoveClientToIntermission
;1131:
;1132:When the intermission starts, this will be called for all players.
;1133:If a new client connects, this will be called after the spawn function.
;1134:========================
;1135:*/
;1136:void MoveClientToIntermission( gentity_t *ent ) {
line 1138
;1137:	// take out of follow mode if needed
;1138:	if ( ent->client->sess.spectatorState == SPECTATOR_FOLLOW ) {
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 704
ADDP4
INDIRI4
CNSTI4 2
NEI4 $606
line 1139
;1139:		StopFollowing( ent );
ADDRFP4 0
INDIRP4
ARGP4
ADDRGP4 StopFollowing
CALLV
pop
line 1140
;1140:	}
LABELV $606
line 1144
;1141:
;1142:
;1143:	// move to the spot
;1144:	VectorCopy( level.intermission_origin, ent->s.origin );
ADDRFP4 0
INDIRP4
CNSTI4 92
ADDP4
ADDRGP4 level+9160
INDIRB
ASGNB 12
line 1145
;1145:	VectorCopy( level.intermission_origin, ent->client->ps.origin );
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 20
ADDP4
ADDRGP4 level+9160
INDIRB
ASGNB 12
line 1146
;1146:	VectorCopy (level.intermission_angle, ent->client->ps.viewangles);
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 152
ADDP4
ADDRGP4 level+9172
INDIRB
ASGNB 12
line 1147
;1147:	ent->client->ps.pm_type = PM_INTERMISSION;
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 4
ADDP4
CNSTI4 5
ASGNI4
line 1150
;1148:
;1149:	// clean up powerup info
;1150:	memset( ent->client->ps.powerups, 0, sizeof(ent->client->ps.powerups) );
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 312
ADDP4
ARGP4
CNSTI4 0
ARGI4
CNSTI4 64
ARGI4
ADDRGP4 memset
CALLP4
pop
line 1152
;1151:
;1152:	ent->client->ps.eFlags = 0;
ADDRFP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 104
ADDP4
CNSTI4 0
ASGNI4
line 1153
;1153:	ent->s.eFlags = 0;
ADDRFP4 0
INDIRP4
CNSTI4 8
ADDP4
CNSTI4 0
ASGNI4
line 1154
;1154:	ent->s.eType = ET_GENERAL;
ADDRFP4 0
INDIRP4
CNSTI4 4
ADDP4
CNSTI4 0
ASGNI4
line 1155
;1155:	ent->s.modelindex = 0;
ADDRFP4 0
INDIRP4
CNSTI4 160
ADDP4
CNSTI4 0
ASGNI4
line 1156
;1156:	ent->s.loopSound = 0;
ADDRFP4 0
INDIRP4
CNSTI4 156
ADDP4
CNSTI4 0
ASGNI4
line 1157
;1157:	ent->s.event = 0;
ADDRFP4 0
INDIRP4
CNSTI4 180
ADDP4
CNSTI4 0
ASGNI4
line 1158
;1158:	ent->r.contents = 0;
ADDRFP4 0
INDIRP4
CNSTI4 460
ADDP4
CNSTI4 0
ASGNI4
line 1159
;1159:}
LABELV $605
endproc MoveClientToIntermission 0 12
export FindIntermissionPoint
proc FindIntermissionPoint 36 12
line 1168
;1160:
;1161:/*
;1162:==================
;1163:FindIntermissionPoint
;1164:
;1165:This is also used for spectator spawns
;1166:==================
;1167:*/
;1168:void FindIntermissionPoint( void ) {
line 1173
;1169:	gentity_t	*ent, *target;
;1170:	vec3_t		dir;
;1171:
;1172:	// find the intermission spot
;1173:	ent = G_Find (NULL, FOFS(classname), "info_player_intermission");
CNSTP4 0
ARGP4
CNSTI4 528
ARGI4
ADDRGP4 $612
ARGP4
ADDRLP4 20
ADDRGP4 G_Find
CALLP4
ASGNP4
ADDRLP4 0
ADDRLP4 20
INDIRP4
ASGNP4
line 1176
;1174:#if ESCAPE_MODE	// JUHOX: in EFH don't use intermission spot if we didn't reach the goal
;1175:	if (
;1176:		g_gametype.integer == GT_EFH &&
ADDRGP4 g_gametype+12
INDIRI4
CNSTI4 9
NEI4 $613
ADDRGP4 level+23048
INDIRI4
CNSTI4 0
LEI4 $619
ADDRGP4 level+23044
INDIRI4
ADDRGP4 level+23048
INDIRI4
GEI4 $613
LABELV $619
line 1181
;1177:		(
;1178:			level.efhGoalDistance <= 0 ||
;1179:			level.efhCoveredDistance < level.efhGoalDistance
;1180:		)
;1181:	) {
line 1182
;1182:		ent = NULL;
ADDRLP4 0
CNSTP4 0
ASGNP4
line 1183
;1183:	}
LABELV $613
line 1185
;1184:#endif
;1185:	if ( !ent ) {	// the map creator forgot to put in an intermission point...
ADDRLP4 0
INDIRP4
CVPU4 4
CNSTU4 0
NEU4 $620
line 1186
;1186:		SelectSpawnPoint ( vec3_origin, level.intermission_origin, level.intermission_angle );
ADDRGP4 vec3_origin
ARGP4
ADDRGP4 level+9160
ARGP4
ADDRGP4 level+9172
ARGP4
ADDRGP4 SelectSpawnPoint
CALLP4
pop
line 1187
;1187:	} else {
ADDRGP4 $621
JUMPV
LABELV $620
line 1188
;1188:		VectorCopy (ent->s.origin, level.intermission_origin);
ADDRGP4 level+9160
ADDRLP4 0
INDIRP4
CNSTI4 92
ADDP4
INDIRB
ASGNB 12
line 1189
;1189:		VectorCopy (ent->s.angles, level.intermission_angle);
ADDRGP4 level+9172
ADDRLP4 0
INDIRP4
CNSTI4 116
ADDP4
INDIRB
ASGNB 12
line 1191
;1190:		// if it has a target, look towards it
;1191:		if ( ent->target ) {
ADDRLP4 0
INDIRP4
CNSTI4 652
ADDP4
INDIRP4
CVPU4 4
CNSTU4 0
EQU4 $626
line 1195
;1192:#if !ESCAPE_MODE	// JUHOX: G_PickTarget() also needs to know the segment
;1193:			target = G_PickTarget( ent->target );
;1194:#else
;1195:			target = G_PickTarget(ent->target, ent->worldSegment - 1);
ADDRLP4 0
INDIRP4
CNSTI4 652
ADDP4
INDIRP4
ARGP4
ADDRLP4 0
INDIRP4
CNSTI4 820
ADDP4
INDIRI4
CNSTI4 1
SUBI4
ARGI4
ADDRLP4 28
ADDRGP4 G_PickTarget
CALLP4
ASGNP4
ADDRLP4 4
ADDRLP4 28
INDIRP4
ASGNP4
line 1197
;1196:#endif
;1197:			if ( target ) {
ADDRLP4 4
INDIRP4
CVPU4 4
CNSTU4 0
EQU4 $628
line 1198
;1198:				VectorSubtract( target->s.origin, level.intermission_origin, dir );
ADDRLP4 32
ADDRLP4 4
INDIRP4
ASGNP4
ADDRLP4 8
ADDRLP4 32
INDIRP4
CNSTI4 92
ADDP4
INDIRF4
ADDRGP4 level+9160
INDIRF4
SUBF4
ASGNF4
ADDRLP4 8+4
ADDRLP4 32
INDIRP4
CNSTI4 96
ADDP4
INDIRF4
ADDRGP4 level+9160+4
INDIRF4
SUBF4
ASGNF4
ADDRLP4 8+8
ADDRLP4 4
INDIRP4
CNSTI4 100
ADDP4
INDIRF4
ADDRGP4 level+9160+8
INDIRF4
SUBF4
ASGNF4
line 1199
;1199:				vectoangles( dir, level.intermission_angle );
ADDRLP4 8
ARGP4
ADDRGP4 level+9172
ARGP4
ADDRGP4 vectoangles
CALLV
pop
line 1200
;1200:			}
LABELV $628
line 1201
;1201:		}
LABELV $626
line 1202
;1202:	}
LABELV $621
line 1204
;1203:
;1204:}
LABELV $611
endproc FindIntermissionPoint 36 12
proc DoCvarSettingsMatchTemplate 148 8
line 1211
;1205:
;1206:/*
;1207:==================
;1208:JUHOX: DoCvarSettingsMatchTemplate
;1209:==================
;1210:*/
;1211:static qboolean DoCvarSettingsMatchTemplate(const gametemplate_t* gt) {
line 1212
;1212:	hiscoreRejectionReason = "g_gametype";
ADDRGP4 hiscoreRejectionReason
ADDRGP4 $99
ASGNP4
line 1213
;1213:	if (g_gametype.integer != gt->gametype) return qfalse;
ADDRGP4 g_gametype+12
INDIRI4
ADDRFP4 0
INDIRP4
CNSTI4 64
ADDP4
INDIRI4
EQI4 $639
CNSTI4 0
RETI4
ADDRGP4 $638
JUMPV
LABELV $639
line 1215
;1214:
;1215:	hiscoreRejectionReason = "map";
ADDRGP4 hiscoreRejectionReason
ADDRGP4 $642
ASGNP4
line 1216
;1216:	if (gt->mapName[0] && Q_stricmp(g_mapName.string, gt->mapName)) return qfalse;
ADDRLP4 0
ADDRFP4 0
INDIRP4
ASGNP4
ADDRLP4 0
INDIRP4
CNSTI4 68
ADDP4
INDIRI1
CVII4 1
CNSTI4 0
EQI4 $643
ADDRGP4 g_mapName+16
ARGP4
ADDRLP4 0
INDIRP4
CNSTI4 68
ADDP4
ARGP4
ADDRLP4 4
ADDRGP4 Q_stricmp
CALLI4
ASGNI4
ADDRLP4 4
INDIRI4
CNSTI4 0
EQI4 $643
CNSTI4 0
RETI4
ADDRGP4 $638
JUMPV
LABELV $643
line 1218
;1217:
;1218:	hiscoreRejectionReason = "sv_maxclients";
ADDRGP4 hiscoreRejectionReason
ADDRGP4 $100
ASGNP4
line 1219
;1219:	if (gt->tksMinplayers == TKS_fixedValue && g_maxclients.integer < gt->minplayers) return qfalse;
ADDRLP4 8
ADDRFP4 0
INDIRP4
ASGNP4
ADDRLP4 8
INDIRP4
CNSTI4 136
ADDP4
INDIRI4
CNSTI4 2
NEI4 $646
ADDRGP4 g_maxclients+12
INDIRI4
ADDRLP4 8
INDIRP4
CNSTI4 132
ADDP4
INDIRI4
GEI4 $646
CNSTI4 0
RETI4
ADDRGP4 $638
JUMPV
LABELV $646
line 1221
;1220:
;1221:	hiscoreRejectionReason = "g_gameSeed";
ADDRGP4 hiscoreRejectionReason
ADDRGP4 $146
ASGNP4
line 1222
;1222:	if (gt->tksGameseed == TKS_fixedValue && g_gameSeed.integer != gt->gameseed) return qfalse;
ADDRLP4 12
ADDRFP4 0
INDIRP4
ASGNP4
ADDRLP4 12
INDIRP4
CNSTI4 228
ADDP4
INDIRI4
CNSTI4 2
NEI4 $649
ADDRGP4 g_gameSeed+12
INDIRI4
ADDRLP4 12
INDIRP4
CNSTI4 224
ADDP4
INDIRI4
EQI4 $649
CNSTI4 0
RETI4
ADDRGP4 $638
JUMPV
LABELV $649
line 1224
;1223:
;1224:	hiscoreRejectionReason = "fraglimit";
ADDRGP4 hiscoreRejectionReason
ADDRGP4 $109
ASGNP4
line 1225
;1225:	if (gt->tksFraglimit == TKS_fixedValue && g_fraglimit.integer != gt->fraglimit) return qfalse;
ADDRLP4 16
ADDRFP4 0
INDIRP4
ASGNP4
ADDRLP4 16
INDIRP4
CNSTI4 236
ADDP4
INDIRI4
CNSTI4 2
NEI4 $652
ADDRGP4 g_fraglimit+12
INDIRI4
ADDRLP4 16
INDIRP4
CNSTI4 232
ADDP4
INDIRI4
EQI4 $652
CNSTI4 0
RETI4
ADDRGP4 $638
JUMPV
LABELV $652
line 1227
;1226:
;1227:	hiscoreRejectionReason = "timelimit";
ADDRGP4 hiscoreRejectionReason
ADDRGP4 $111
ASGNP4
line 1228
;1228:	if (gt->tksTimelimit == TKS_fixedValue && g_timelimit.integer != gt->timelimit) return qfalse;
ADDRLP4 20
ADDRFP4 0
INDIRP4
ASGNP4
ADDRLP4 20
INDIRP4
CNSTI4 244
ADDP4
INDIRI4
CNSTI4 2
NEI4 $655
ADDRGP4 g_timelimit+12
INDIRI4
ADDRLP4 20
INDIRP4
CNSTI4 240
ADDP4
INDIRI4
EQI4 $655
CNSTI4 0
RETI4
ADDRGP4 $638
JUMPV
LABELV $655
line 1231
;1229:
;1230:#if MONSTER_MODE
;1231:	hiscoreRejectionReason = "g_artefacts";
ADDRGP4 hiscoreRejectionReason
ADDRGP4 $113
ASGNP4
line 1232
;1232:	if (gt->tksArtefacts == TKS_fixedValue && g_artefacts.integer != gt->artefacts) return qfalse;
ADDRLP4 24
ADDRFP4 0
INDIRP4
ASGNP4
ADDRLP4 24
INDIRP4
CNSTI4 260
ADDP4
INDIRI4
CNSTI4 2
NEI4 $658
ADDRGP4 g_artefacts+12
INDIRI4
ADDRLP4 24
INDIRP4
CNSTI4 256
ADDP4
INDIRI4
EQI4 $658
CNSTI4 0
RETI4
ADDRGP4 $638
JUMPV
LABELV $658
line 1234
;1233:
;1234:	hiscoreRejectionReason = "g_monsterLauncher";
ADDRGP4 hiscoreRejectionReason
ADDRGP4 $135
ASGNP4
line 1235
;1235:	if (gt->tksMonsterlauncher == TKS_fixedValue && g_monsterLauncher.integer != gt->monsterLauncher) return qfalse;
ADDRLP4 28
ADDRFP4 0
INDIRP4
ASGNP4
ADDRLP4 28
INDIRP4
CNSTI4 300
ADDP4
INDIRI4
CNSTI4 2
NEI4 $661
ADDRGP4 g_monsterLauncher+12
INDIRI4
ADDRLP4 28
INDIRP4
CNSTI4 288
ADDP4
INDIRI4
EQI4 $661
CNSTI4 0
RETI4
ADDRGP4 $638
JUMPV
LABELV $661
line 1237
;1236:
;1237:	hiscoreRejectionReason = "g_minMonsters";
ADDRGP4 hiscoreRejectionReason
ADDRGP4 $114
ASGNP4
line 1238
;1238:	if (gt->tksMinmonsters == TKS_fixedValue && g_minMonsters.integer != gt->minmonsters) return qfalse;
ADDRLP4 32
ADDRFP4 0
INDIRP4
ASGNP4
ADDRLP4 32
INDIRP4
CNSTI4 316
ADDP4
INDIRI4
CNSTI4 2
NEI4 $664
ADDRGP4 g_minMonsters+12
INDIRI4
ADDRLP4 32
INDIRP4
CNSTI4 312
ADDP4
INDIRI4
EQI4 $664
CNSTI4 0
RETI4
ADDRGP4 $638
JUMPV
LABELV $664
line 1240
;1239:
;1240:	hiscoreRejectionReason = "g_maxMonsters";
ADDRGP4 hiscoreRejectionReason
ADDRGP4 $116
ASGNP4
line 1241
;1241:	if (gt->tksMaxmonsters == TKS_fixedValue && g_maxMonsters.integer != gt->maxmonsters) return qfalse;
ADDRLP4 36
ADDRFP4 0
INDIRP4
ASGNP4
ADDRLP4 36
INDIRP4
CNSTI4 324
ADDP4
INDIRI4
CNSTI4 2
NEI4 $667
ADDRGP4 g_maxMonsters+12
INDIRI4
ADDRLP4 36
INDIRP4
CNSTI4 320
ADDP4
INDIRI4
EQI4 $667
CNSTI4 0
RETI4
ADDRGP4 $638
JUMPV
LABELV $667
line 1243
;1242:
;1243:	hiscoreRejectionReason = "g_monstersPerTrap";
ADDRGP4 hiscoreRejectionReason
ADDRGP4 $127
ASGNP4
line 1244
;1244:	if (gt->tksMonsterspertrap == TKS_fixedValue && g_monstersPerTrap.integer != gt->monsterspertrap) return qfalse;
ADDRLP4 40
ADDRFP4 0
INDIRP4
ASGNP4
ADDRLP4 40
INDIRP4
CNSTI4 332
ADDP4
INDIRI4
CNSTI4 2
NEI4 $670
ADDRGP4 g_monstersPerTrap+12
INDIRI4
ADDRLP4 40
INDIRP4
CNSTI4 328
ADDP4
INDIRI4
EQI4 $670
CNSTI4 0
RETI4
ADDRGP4 $638
JUMPV
LABELV $670
line 1246
;1245:
;1246:	hiscoreRejectionReason = "g_monsterSpawnDelay";
ADDRGP4 hiscoreRejectionReason
ADDRGP4 $118
ASGNP4
line 1247
;1247:	if (gt->tksMonsterspawndelay == TKS_fixedValue && g_monsterSpawnDelay.integer != gt->monsterspawndelay) return qfalse;
ADDRLP4 44
ADDRFP4 0
INDIRP4
ASGNP4
ADDRLP4 44
INDIRP4
CNSTI4 340
ADDP4
INDIRI4
CNSTI4 2
NEI4 $673
ADDRGP4 g_monsterSpawnDelay+12
INDIRI4
ADDRLP4 44
INDIRP4
CNSTI4 336
ADDP4
INDIRI4
EQI4 $673
CNSTI4 0
RETI4
ADDRGP4 $638
JUMPV
LABELV $673
line 1249
;1248:
;1249:	hiscoreRejectionReason = "g_monsterHealthScale";
ADDRGP4 hiscoreRejectionReason
ADDRGP4 $120
ASGNP4
line 1250
;1250:	if (gt->tksMonsterhealthscale == TKS_fixedValue && g_monsterHealthScale.integer != gt->monsterhealthscale) return qfalse;
ADDRLP4 48
ADDRFP4 0
INDIRP4
ASGNP4
ADDRLP4 48
INDIRP4
CNSTI4 348
ADDP4
INDIRI4
CNSTI4 2
NEI4 $676
ADDRGP4 g_monsterHealthScale+12
INDIRI4
ADDRLP4 48
INDIRP4
CNSTI4 344
ADDP4
INDIRI4
EQI4 $676
CNSTI4 0
RETI4
ADDRGP4 $638
JUMPV
LABELV $676
line 1252
;1251:
;1252:	hiscoreRejectionReason = "g_monsterProgression";
ADDRGP4 hiscoreRejectionReason
ADDRGP4 $122
ASGNP4
line 1253
;1253:	if (gt->tksMonsterprogessivehealth == TKS_fixedValue && g_monsterProgression.integer < gt->monsterprogressivehealth) return qfalse;
ADDRLP4 52
ADDRFP4 0
INDIRP4
ASGNP4
ADDRLP4 52
INDIRP4
CNSTI4 356
ADDP4
INDIRI4
CNSTI4 2
NEI4 $679
ADDRGP4 g_monsterProgression+12
INDIRI4
ADDRLP4 52
INDIRP4
CNSTI4 352
ADDP4
INDIRI4
GEI4 $679
CNSTI4 0
RETI4
ADDRGP4 $638
JUMPV
LABELV $679
line 1255
;1254:
;1255:	hiscoreRejectionReason = "g_monsterGuards";
ADDRGP4 hiscoreRejectionReason
ADDRGP4 $123
ASGNP4
line 1256
;1256:	if (gt->tksGuards == TKS_fixedValue && g_monsterGuards.integer != gt->guards) return qfalse;
ADDRLP4 56
ADDRFP4 0
INDIRP4
ASGNP4
ADDRLP4 56
INDIRP4
CNSTI4 364
ADDP4
INDIRI4
CNSTI4 2
NEI4 $682
ADDRGP4 g_monsterGuards+12
INDIRI4
ADDRLP4 56
INDIRP4
CNSTI4 360
ADDP4
INDIRI4
EQI4 $682
CNSTI4 0
RETI4
ADDRGP4 $638
JUMPV
LABELV $682
line 1258
;1257:
;1258:	hiscoreRejectionReason = "g_monsterBreeding";
ADDRGP4 hiscoreRejectionReason
ADDRGP4 $138
ASGNP4
line 1259
;1259:	if (gt->tksMonsterbreeding == TKS_fixedValue && g_monsterBreeding.integer != gt->monsterbreeding) return qfalse;
ADDRLP4 60
ADDRFP4 0
INDIRP4
ASGNP4
ADDRLP4 60
INDIRP4
CNSTI4 380
ADDP4
INDIRI4
CNSTI4 2
NEI4 $685
ADDRGP4 g_monsterBreeding+12
INDIRI4
ADDRLP4 60
INDIRP4
CNSTI4 376
ADDP4
INDIRI4
EQI4 $685
CNSTI4 0
RETI4
ADDRGP4 $638
JUMPV
LABELV $685
line 1263
;1260:#endif
;1261:
;1262:#if ESCAPE_MODE
;1263:	hiscoreRejectionReason = "g_monsterLoad";
ADDRGP4 hiscoreRejectionReason
ADDRGP4 $140
ASGNP4
line 1264
;1264:	if (gt->tksMonsterload == TKS_fixedValue && g_monsterLoad.integer != gt->monsterLoad) return qfalse;
ADDRLP4 64
ADDRFP4 0
INDIRP4
ASGNP4
ADDRLP4 64
INDIRP4
CNSTI4 308
ADDP4
INDIRI4
CNSTI4 2
NEI4 $688
ADDRGP4 g_monsterLoad+12
INDIRI4
ADDRLP4 64
INDIRP4
CNSTI4 304
ADDP4
INDIRI4
EQI4 $688
CNSTI4 0
RETI4
ADDRGP4 $638
JUMPV
LABELV $688
line 1266
;1265:
;1266:	hiscoreRejectionReason = "distancelimit";
ADDRGP4 hiscoreRejectionReason
ADDRGP4 $141
ASGNP4
line 1267
;1267:	if (gt->tksDistancelimit == TKS_fixedValue && g_distanceLimit.integer != gt->distancelimit) return qfalse;
ADDRLP4 68
ADDRFP4 0
INDIRP4
ASGNP4
ADDRLP4 68
INDIRP4
CNSTI4 252
ADDP4
INDIRI4
CNSTI4 2
NEI4 $691
ADDRGP4 g_distanceLimit+12
INDIRI4
ADDRLP4 68
INDIRP4
CNSTI4 248
ADDP4
INDIRI4
EQI4 $691
CNSTI4 0
RETI4
ADDRGP4 $638
JUMPV
LABELV $691
line 1269
;1268:
;1269:	hiscoreRejectionReason = "g_challengingEnv";
ADDRGP4 hiscoreRejectionReason
ADDRGP4 $143
ASGNP4
line 1270
;1270:	if (gt->tksChallengingEnv == TKS_fixedValue && g_challengingEnv.integer != gt->challengingEnv) return qfalse;
ADDRLP4 72
ADDRFP4 0
INDIRP4
ASGNP4
ADDRLP4 72
INDIRP4
CNSTI4 284
ADDP4
INDIRI4
CNSTI4 2
NEI4 $694
ADDRGP4 g_challengingEnv+12
INDIRI4
ADDRLP4 72
INDIRP4
CNSTI4 280
ADDP4
INDIRI4
EQI4 $694
CNSTI4 0
RETI4
ADDRGP4 $638
JUMPV
LABELV $694
line 1273
;1271:#endif
;1272:
;1273:	hiscoreRejectionReason = "g_respawnDelay";
ADDRGP4 hiscoreRejectionReason
ADDRGP4 $697
ASGNP4
line 1274
;1274:	if (gt->tksRespawndelay == TKS_fixedValue && g_respawnDelay.integer != gt->respawndelay) return qfalse;
ADDRLP4 76
ADDRFP4 0
INDIRP4
ASGNP4
ADDRLP4 76
INDIRP4
CNSTI4 268
ADDP4
INDIRI4
CNSTI4 2
NEI4 $698
ADDRGP4 g_respawnDelay+12
INDIRI4
ADDRLP4 76
INDIRP4
CNSTI4 264
ADDP4
INDIRI4
EQI4 $698
CNSTI4 0
RETI4
ADDRGP4 $638
JUMPV
LABELV $698
line 1276
;1275:
;1276:	hiscoreRejectionReason = "g_baseHealth";
ADDRGP4 hiscoreRejectionReason
ADDRGP4 $106
ASGNP4
line 1277
;1277:	if (gt->tksBasehealth == TKS_fixedValue && g_baseHealth.integer != gt->basehealth) return qfalse;
ADDRLP4 80
ADDRFP4 0
INDIRP4
ASGNP4
ADDRLP4 80
INDIRP4
CNSTI4 276
ADDP4
INDIRI4
CNSTI4 2
NEI4 $701
ADDRGP4 g_baseHealth+12
INDIRI4
ADDRLP4 80
INDIRP4
CNSTI4 272
ADDP4
INDIRI4
EQI4 $701
CNSTI4 0
RETI4
ADDRGP4 $638
JUMPV
LABELV $701
line 1279
;1278:
;1279:	hiscoreRejectionReason = "g_friendlyFire";
ADDRGP4 hiscoreRejectionReason
ADDRGP4 $160
ASGNP4
line 1280
;1280:	if (gt->tksFriendlyfire == TKS_fixedValue && gt->friendlyfire != g_friendlyFire.integer) return qfalse;
ADDRLP4 84
ADDRFP4 0
INDIRP4
ASGNP4
ADDRLP4 84
INDIRP4
CNSTI4 388
ADDP4
INDIRI4
CNSTI4 2
NEI4 $704
ADDRLP4 84
INDIRP4
CNSTI4 384
ADDP4
INDIRI4
ADDRGP4 g_friendlyFire+12
INDIRI4
EQI4 $704
CNSTI4 0
RETI4
ADDRGP4 $638
JUMPV
LABELV $704
line 1282
;1281:
;1282:	hiscoreRejectionReason = "g_stamina";
ADDRGP4 hiscoreRejectionReason
ADDRGP4 $150
ASGNP4
line 1283
;1283:	if (gt->tksStamina == TKS_fixedValue && gt->stamina != g_stamina.integer) return qfalse;
ADDRLP4 88
ADDRFP4 0
INDIRP4
ASGNP4
ADDRLP4 88
INDIRP4
CNSTI4 396
ADDP4
INDIRI4
CNSTI4 2
NEI4 $707
ADDRLP4 88
INDIRP4
CNSTI4 392
ADDP4
INDIRI4
ADDRGP4 g_stamina+12
INDIRI4
EQI4 $707
CNSTI4 0
RETI4
ADDRGP4 $638
JUMPV
LABELV $707
line 1285
;1284:
;1285:	hiscoreRejectionReason = "g_noItems";
ADDRGP4 hiscoreRejectionReason
ADDRGP4 $153
ASGNP4
line 1286
;1286:	if (gt->tksNoitems == TKS_fixedValue && gt->noitems != g_noItems.integer) return qfalse;
ADDRLP4 92
ADDRFP4 0
INDIRP4
ASGNP4
ADDRLP4 92
INDIRP4
CNSTI4 404
ADDP4
INDIRI4
CNSTI4 2
NEI4 $710
ADDRLP4 92
INDIRP4
CNSTI4 400
ADDP4
INDIRI4
ADDRGP4 g_noItems+12
INDIRI4
EQI4 $710
CNSTI4 0
RETI4
ADDRGP4 $638
JUMPV
LABELV $710
line 1288
;1287:
;1288:	hiscoreRejectionReason = "g_noHealthRegen";
ADDRGP4 hiscoreRejectionReason
ADDRGP4 $154
ASGNP4
line 1289
;1289:	if (gt->tksNohealthregen == TKS_fixedValue && gt->nohealthregen != g_noHealthRegen.integer) return qfalse;
ADDRLP4 96
ADDRFP4 0
INDIRP4
ASGNP4
ADDRLP4 96
INDIRP4
CNSTI4 412
ADDP4
INDIRI4
CNSTI4 2
NEI4 $713
ADDRLP4 96
INDIRP4
CNSTI4 408
ADDP4
INDIRI4
ADDRGP4 g_noHealthRegen+12
INDIRI4
EQI4 $713
CNSTI4 0
RETI4
ADDRGP4 $638
JUMPV
LABELV $713
line 1291
;1290:
;1291:	hiscoreRejectionReason = "g_cloakingDevice";
ADDRGP4 hiscoreRejectionReason
ADDRGP4 $156
ASGNP4
line 1292
;1292:	if (gt->tksCloakingdevice == TKS_fixedValue && gt->cloakingdevice != g_cloakingDevice.integer) return qfalse;
ADDRLP4 100
ADDRFP4 0
INDIRP4
ASGNP4
ADDRLP4 100
INDIRP4
CNSTI4 420
ADDP4
INDIRI4
CNSTI4 2
NEI4 $716
ADDRLP4 100
INDIRP4
CNSTI4 416
ADDP4
INDIRI4
ADDRGP4 g_cloakingDevice+12
INDIRI4
EQI4 $716
CNSTI4 0
RETI4
ADDRGP4 $638
JUMPV
LABELV $716
line 1294
;1293:
;1294:	hiscoreRejectionReason = "g_unlimitedAmmo";
ADDRGP4 hiscoreRejectionReason
ADDRGP4 $155
ASGNP4
line 1295
;1295:	if (gt->tksUnlimitedammo == TKS_fixedValue && gt->unlimitedammo != g_unlimitedAmmo.integer) return qfalse;
ADDRLP4 104
ADDRFP4 0
INDIRP4
ASGNP4
ADDRLP4 104
INDIRP4
CNSTI4 428
ADDP4
INDIRI4
CNSTI4 2
NEI4 $719
ADDRLP4 104
INDIRP4
CNSTI4 424
ADDP4
INDIRI4
ADDRGP4 g_unlimitedAmmo+12
INDIRI4
EQI4 $719
CNSTI4 0
RETI4
ADDRGP4 $638
JUMPV
LABELV $719
line 1297
;1296:
;1297:	hiscoreRejectionReason = "tss";
ADDRGP4 hiscoreRejectionReason
ADDRGP4 $149
ASGNP4
line 1298
;1298:	if (gt->tksTss == TKS_fixedValue && gt->tss != g_tss.integer) return qfalse;
ADDRLP4 108
ADDRFP4 0
INDIRP4
ASGNP4
ADDRLP4 108
INDIRP4
CNSTI4 436
ADDP4
INDIRI4
CNSTI4 2
NEI4 $722
ADDRLP4 108
INDIRP4
CNSTI4 432
ADDP4
INDIRI4
ADDRGP4 g_tss+12
INDIRI4
EQI4 $722
CNSTI4 0
RETI4
ADDRGP4 $638
JUMPV
LABELV $722
line 1300
;1299:
;1300:	hiscoreRejectionReason = "tssSafetyMode";
ADDRGP4 hiscoreRejectionReason
ADDRGP4 $725
ASGNP4
line 1301
;1301:	if (gt->tksTsssafetymode == TKS_fixedValue && gt->tsssafetymode != g_tssSafetyMode.integer) return qfalse;
ADDRLP4 112
ADDRFP4 0
INDIRP4
ASGNP4
ADDRLP4 112
INDIRP4
CNSTI4 444
ADDP4
INDIRI4
CNSTI4 2
NEI4 $726
ADDRLP4 112
INDIRP4
CNSTI4 440
ADDP4
INDIRI4
ADDRGP4 g_tssSafetyMode+12
INDIRI4
EQI4 $726
CNSTI4 0
RETI4
ADDRGP4 $638
JUMPV
LABELV $726
line 1303
;1302:
;1303:	hiscoreRejectionReason = "g_respawnAtPOD";
ADDRGP4 hiscoreRejectionReason
ADDRGP4 $729
ASGNP4
line 1304
;1304:	if (gt->tksRespawnatpod == TKS_fixedValue && gt->respawnatpod != g_respawnAtPOD.integer) return qfalse;
ADDRLP4 116
ADDRFP4 0
INDIRP4
ASGNP4
ADDRLP4 116
INDIRP4
CNSTI4 452
ADDP4
INDIRI4
CNSTI4 2
NEI4 $730
ADDRLP4 116
INDIRP4
CNSTI4 448
ADDP4
INDIRI4
ADDRGP4 g_respawnAtPOD+12
INDIRI4
EQI4 $730
CNSTI4 0
RETI4
ADDRGP4 $638
JUMPV
LABELV $730
line 1306
;1305:
;1306:	hiscoreRejectionReason = "g_armorFragments";
ADDRGP4 hiscoreRejectionReason
ADDRGP4 $105
ASGNP4
line 1307
;1307:	if (gt->tksArmorfragments == TKS_fixedValue && gt->armorfragments != g_armorFragments.integer) return qfalse;
ADDRLP4 120
ADDRFP4 0
INDIRP4
ASGNP4
ADDRLP4 120
INDIRP4
CNSTI4 460
ADDP4
INDIRI4
CNSTI4 2
NEI4 $733
ADDRLP4 120
INDIRP4
CNSTI4 456
ADDP4
INDIRI4
ADDRGP4 g_armorFragments+12
INDIRI4
EQI4 $733
CNSTI4 0
RETI4
ADDRGP4 $638
JUMPV
LABELV $733
line 1309
;1308:
;1309:	hiscoreRejectionReason = "g_lightningDamageLimit";
ADDRGP4 hiscoreRejectionReason
ADDRGP4 $151
ASGNP4
line 1310
;1310:	if (gt->tksLightningdamagelimit == TKS_fixedValue && gt->lightningdamagelimit != g_lightningDamageLimit.integer) return qfalse;
ADDRLP4 124
ADDRFP4 0
INDIRP4
ASGNP4
ADDRLP4 124
INDIRP4
CNSTI4 468
ADDP4
INDIRI4
CNSTI4 2
NEI4 $736
ADDRLP4 124
INDIRP4
CNSTI4 464
ADDP4
INDIRI4
ADDRGP4 g_lightningDamageLimit+12
INDIRI4
EQI4 $736
CNSTI4 0
RETI4
ADDRGP4 $638
JUMPV
LABELV $736
line 1313
;1311:
;1312:#if GRAPPLE_ROPE
;1313:	hiscoreRejectionReason = "g_grapple";
ADDRGP4 hiscoreRejectionReason
ADDRGP4 $152
ASGNP4
line 1314
;1314:	if (gt->tksGrapple == TKS_fixedValue && gt->grapple != g_grapple.integer) return qfalse;
ADDRLP4 128
ADDRFP4 0
INDIRP4
ASGNP4
ADDRLP4 128
INDIRP4
CNSTI4 476
ADDP4
INDIRI4
CNSTI4 2
NEI4 $739
ADDRLP4 128
INDIRP4
CNSTI4 472
ADDP4
INDIRI4
ADDRGP4 g_grapple+12
INDIRI4
EQI4 $739
CNSTI4 0
RETI4
ADDRGP4 $638
JUMPV
LABELV $739
line 1317
;1315:#endif
;1316:
;1317:	hiscoreRejectionReason = "dmflags";
ADDRGP4 hiscoreRejectionReason
ADDRGP4 $108
ASGNP4
line 1318
;1318:	if (gt->tksDmflags == TKS_fixedValue && gt->dmflags != g_dmflags.integer) return qfalse;
ADDRLP4 132
ADDRFP4 0
INDIRP4
ASGNP4
ADDRLP4 132
INDIRP4
CNSTI4 484
ADDP4
INDIRI4
CNSTI4 2
NEI4 $742
ADDRLP4 132
INDIRP4
CNSTI4 480
ADDP4
INDIRI4
ADDRGP4 g_dmflags+12
INDIRI4
EQI4 $742
CNSTI4 0
RETI4
ADDRGP4 $638
JUMPV
LABELV $742
line 1320
;1319:
;1320:	hiscoreRejectionReason = "g_speed";
ADDRGP4 hiscoreRejectionReason
ADDRGP4 $173
ASGNP4
line 1321
;1321:	if (gt->tksSpeed == TKS_fixedValue && gt->speed != g_speed.integer) return qfalse;
ADDRLP4 136
ADDRFP4 0
INDIRP4
ASGNP4
ADDRLP4 136
INDIRP4
CNSTI4 492
ADDP4
INDIRI4
CNSTI4 2
NEI4 $745
ADDRLP4 136
INDIRP4
CNSTI4 488
ADDP4
INDIRI4
ADDRGP4 g_speed+12
INDIRI4
EQI4 $745
CNSTI4 0
RETI4
ADDRGP4 $638
JUMPV
LABELV $745
line 1323
;1322:
;1323:	hiscoreRejectionReason = "g_knockback";
ADDRGP4 hiscoreRejectionReason
ADDRGP4 $178
ASGNP4
line 1324
;1324:	if (gt->tksKnockback == TKS_fixedValue && gt->knockback != g_knockback.integer) return qfalse;
ADDRLP4 140
ADDRFP4 0
INDIRP4
ASGNP4
ADDRLP4 140
INDIRP4
CNSTI4 500
ADDP4
INDIRI4
CNSTI4 2
NEI4 $748
ADDRLP4 140
INDIRP4
CNSTI4 496
ADDP4
INDIRI4
ADDRGP4 g_knockback+12
INDIRI4
EQI4 $748
CNSTI4 0
RETI4
ADDRGP4 $638
JUMPV
LABELV $748
line 1326
;1325:
;1326:	hiscoreRejectionReason = "g_gravity";
ADDRGP4 hiscoreRejectionReason
ADDRGP4 $175
ASGNP4
line 1327
;1327:	if (gt->tksGravity == TKS_fixedValue && gt->gravity != g_gravity.integer) return qfalse;
ADDRLP4 144
ADDRFP4 0
INDIRP4
ASGNP4
ADDRLP4 144
INDIRP4
CNSTI4 508
ADDP4
INDIRI4
CNSTI4 2
NEI4 $751
ADDRLP4 144
INDIRP4
CNSTI4 504
ADDP4
INDIRI4
ADDRGP4 g_gravity+12
INDIRI4
EQI4 $751
CNSTI4 0
RETI4
ADDRGP4 $638
JUMPV
LABELV $751
line 1329
;1328:
;1329:	hiscoreRejectionReason = NULL;
ADDRGP4 hiscoreRejectionReason
CNSTP4 0
ASGNP4
line 1330
;1330:	return qtrue;
CNSTI4 1
RETI4
LABELV $638
endproc DoCvarSettingsMatchTemplate 148 8
proc DoesGameMatchTemplate 12 4
line 1338
;1331:}
;1332:
;1333:/*
;1334:==================
;1335:JUHOX: DoesGameMatchTemplate
;1336:==================
;1337:*/
;1338:static qboolean DoesGameMatchTemplate(const gametemplate_t* gt) {
line 1339
;1339:	if (!DoCvarSettingsMatchTemplate(gt)) return qfalse;
ADDRFP4 0
INDIRP4
ARGP4
ADDRLP4 0
ADDRGP4 DoCvarSettingsMatchTemplate
CALLI4
ASGNI4
ADDRLP4 0
INDIRI4
CNSTI4 0
NEI4 $755
CNSTI4 0
RETI4
ADDRGP4 $754
JUMPV
LABELV $755
line 1341
;1340:
;1341:	hiscoreRejectionReason = "too few players";
ADDRGP4 hiscoreRejectionReason
ADDRGP4 $757
ASGNP4
line 1343
;1342:	if (
;1343:		gt->tksMinplayers == TKS_fixedValue &&
ADDRLP4 4
ADDRFP4 0
INDIRP4
ASGNP4
ADDRLP4 4
INDIRP4
CNSTI4 136
ADDP4
INDIRI4
CNSTI4 2
NEI4 $758
ADDRGP4 level+96
INDIRI4
ADDRLP4 4
INDIRP4
CNSTI4 132
ADDP4
INDIRI4
GEI4 $758
line 1345
;1344:		level.numPlayingClients < gt->minplayers
;1345:	) {
line 1346
;1346:		return qfalse;
CNSTI4 0
RETI4
ADDRGP4 $754
JUMPV
LABELV $758
line 1349
;1347:	}
;1348:
;1349:	hiscoreRejectionReason = "too many players";
ADDRGP4 hiscoreRejectionReason
ADDRGP4 $761
ASGNP4
line 1351
;1350:	if (
;1351:		gt->tksMaxplayers == TKS_fixedValue &&
ADDRLP4 8
ADDRFP4 0
INDIRP4
ASGNP4
ADDRLP4 8
INDIRP4
CNSTI4 144
ADDP4
INDIRI4
CNSTI4 2
NEI4 $762
ADDRLP4 8
INDIRP4
CNSTI4 140
ADDP4
INDIRI4
CNSTI4 0
LEI4 $762
ADDRGP4 level+96
INDIRI4
ADDRLP4 8
INDIRP4
CNSTI4 140
ADDP4
INDIRI4
LEI4 $762
line 1354
;1352:		gt->maxplayers > 0 &&
;1353:		level.numPlayingClients > gt->maxplayers
;1354:	) {
line 1355
;1355:		return qfalse;
CNSTI4 0
RETI4
ADDRGP4 $754
JUMPV
LABELV $762
line 1358
;1356:	}
;1357:
;1358:	hiscoreRejectionReason = "no players";
ADDRGP4 hiscoreRejectionReason
ADDRGP4 $765
ASGNP4
line 1359
;1359:	if (level.numPlayingClients <= 0) return qfalse;
ADDRGP4 level+96
INDIRI4
CNSTI4 0
GTI4 $766
CNSTI4 0
RETI4
ADDRGP4 $754
JUMPV
LABELV $766
line 1361
;1360:
;1361:	return qtrue;
CNSTI4 1
RETI4
LABELV $754
endproc DoesGameMatchTemplate 12 4
proc CreateHighscoreDescriptor 1068 16
line 1369
;1362:}
;1363:
;1364:/*
;1365:==================
;1366:JUHOX: CreateHighscoreDescriptor
;1367:==================
;1368:*/
;1369:static void CreateHighscoreDescriptor(char* msg) {
line 1373
;1370:	int i;
;1371:	int size;
;1372:
;1373:	size = 0;
ADDRLP4 4
CNSTI4 0
ASGNI4
line 1374
;1374:	for (i = 0; i < level.numPlayingClients; i++) {
ADDRLP4 0
CNSTI4 0
ASGNI4
ADDRGP4 $773
JUMPV
LABELV $770
line 1382
;1375:		int client;
;1376:		char info[MAX_INFO_STRING];
;1377:		char* name;
;1378:		int score;
;1379:		char* entry;
;1380:		int n;
;1381:
;1382:		client = level.sortedClients[i];
ADDRLP4 8
ADDRLP4 0
INDIRI4
CNSTI4 2
LSHI4
ADDRGP4 level+100
ADDP4
INDIRI4
ASGNI4
line 1383
;1383:		if (!g_entities[client].inuse) continue;
ADDRLP4 8
INDIRI4
CNSTI4 844
MULI4
ADDRGP4 g_entities+524
ADDP4
INDIRI4
CNSTI4 0
NEI4 $776
ADDRGP4 $771
JUMPV
LABELV $776
line 1384
;1384:		if (level.clients[client].pers.connected != CON_CONNECTED) continue;
ADDRLP4 8
INDIRI4
CNSTI4 5604
MULI4
ADDRGP4 level
INDIRP4
ADDP4
CNSTI4 468
ADDP4
INDIRI4
CNSTI4 2
EQI4 $779
ADDRGP4 $771
JUMPV
LABELV $779
line 1385
;1385:		trap_GetUserinfo(client, info, sizeof(info));
ADDRLP4 8
INDIRI4
ARGI4
ADDRLP4 12
ARGP4
CNSTI4 1024
ARGI4
ADDRGP4 trap_GetUserinfo
CALLV
pop
line 1386
;1386:		if (!Info_Validate(info)) continue;
ADDRLP4 12
ARGP4
ADDRLP4 1052
ADDRGP4 Info_Validate
CALLI4
ASGNI4
ADDRLP4 1052
INDIRI4
CNSTI4 0
NEI4 $781
ADDRGP4 $771
JUMPV
LABELV $781
line 1388
;1387:
;1388:		name = Info_ValueForKey(info, "name");
ADDRLP4 12
ARGP4
ADDRGP4 $783
ARGP4
ADDRLP4 1056
ADDRGP4 Info_ValueForKey
CALLP4
ASGNP4
ADDRLP4 1040
ADDRLP4 1056
INDIRP4
ASGNP4
line 1389
;1389:		if (!name[0]) continue;
ADDRLP4 1040
INDIRP4
INDIRI1
CVII4 1
CNSTI4 0
NEI4 $784
ADDRGP4 $771
JUMPV
LABELV $784
line 1391
;1390:
;1391:		score = level.clients[client].ps.persistant[PERS_SCORE];
ADDRLP4 1048
ADDRLP4 8
INDIRI4
CNSTI4 5604
MULI4
ADDRGP4 level
INDIRP4
ADDP4
CNSTI4 248
ADDP4
INDIRI4
ASGNI4
line 1393
;1392:
;1393:		if (level.numPlayingClients == 1) {
ADDRGP4 level+96
INDIRI4
CNSTI4 1
NEI4 $786
line 1394
;1394:			entry = name;
ADDRLP4 1044
ADDRLP4 1040
INDIRP4
ASGNP4
line 1395
;1395:		}
ADDRGP4 $787
JUMPV
LABELV $786
line 1396
;1396:		else {
line 1397
;1397:			entry = va("%s%s^7 %d", i > 0? " * " : "", name, score);
ADDRGP4 $789
ARGP4
ADDRLP4 0
INDIRI4
CNSTI4 0
LEI4 $792
ADDRLP4 1060
ADDRGP4 $790
ASGNP4
ADDRGP4 $793
JUMPV
LABELV $792
ADDRLP4 1060
ADDRGP4 $90
ASGNP4
LABELV $793
ADDRLP4 1060
INDIRP4
ARGP4
ADDRLP4 1040
INDIRP4
ARGP4
ADDRLP4 1048
INDIRI4
ARGI4
ADDRLP4 1064
ADDRGP4 va
CALLP4
ASGNP4
ADDRLP4 1044
ADDRLP4 1064
INDIRP4
ASGNP4
line 1398
;1398:		}
LABELV $787
line 1399
;1399:		n = strlen(entry);
ADDRLP4 1044
INDIRP4
ARGP4
ADDRLP4 1060
ADDRGP4 strlen
CALLI4
ASGNI4
ADDRLP4 1036
ADDRLP4 1060
INDIRI4
ASGNI4
line 1400
;1400:		if (size + n > 1000) return;
ADDRLP4 4
INDIRI4
ADDRLP4 1036
INDIRI4
ADDI4
CNSTI4 1000
LEI4 $794
ADDRGP4 $769
JUMPV
LABELV $794
line 1402
;1401:
;1402:		strcpy(msg, entry);
ADDRFP4 0
INDIRP4
ARGP4
ADDRLP4 1044
INDIRP4
ARGP4
ADDRGP4 strcpy
CALLP4
pop
line 1403
;1403:		msg += n;
ADDRFP4 0
ADDRLP4 1036
INDIRI4
ADDRFP4 0
INDIRP4
ADDP4
ASGNP4
line 1404
;1404:		size += n;
ADDRLP4 4
ADDRLP4 4
INDIRI4
ADDRLP4 1036
INDIRI4
ADDI4
ASGNI4
line 1405
;1405:	}
LABELV $771
line 1374
ADDRLP4 0
ADDRLP4 0
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
LABELV $773
ADDRLP4 0
INDIRI4
ADDRGP4 level+96
INDIRI4
LTI4 $770
line 1406
;1406:}
LABELV $769
endproc CreateHighscoreDescriptor 1068 16
export BeginIntermission
proc BeginIntermission 1896 16
line 1413
;1407:
;1408:/*
;1409:==================
;1410:BeginIntermission
;1411:==================
;1412:*/
;1413:void BeginIntermission( void ) {
line 1417
;1414:	int			i;
;1415:	gentity_t	*client;
;1416:
;1417:	if ( level.intermissiontime ) {
ADDRGP4 level+9144
INDIRI4
CNSTI4 0
EQI4 $797
line 1418
;1418:		return;		// already active
ADDRGP4 $796
JUMPV
LABELV $797
line 1422
;1419:	}
;1420:
;1421:#if 1	// JUHOX: check for highscore
;1422:	trap_SetConfigstring(CS_HIGHSCORETEXT, "");
CNSTI4 710
ARGI4
ADDRGP4 $90
ARGP4
ADDRGP4 trap_SetConfigstring
CALLV
pop
line 1423
;1423:	{
line 1429
;1424:		gametemplate_t gt;
;1425:		qboolean templated;
;1426:		char name[128];
;1427:		int time;
;1428:
;1429:		templated = qfalse;
ADDRLP4 520
CNSTI4 0
ASGNI4
line 1430
;1430:		if (g_template.string[0]) {
ADDRGP4 g_template+16
INDIRI1
CVII4 1
CNSTI4 0
EQI4 $800
line 1433
;1431:			char info[MAX_INFO_STRING];
;1432:
;1433:			trap_Cvar_VariableStringBuffer(g_template.string, info, sizeof(info));
ADDRGP4 g_template+16
ARGP4
ADDRLP4 656
ARGP4
CNSTI4 1024
ARGI4
ADDRGP4 trap_Cvar_VariableStringBuffer
CALLV
pop
line 1434
;1434:			templated = BG_ParseGameTemplate(info, &gt);
ADDRLP4 656
ARGP4
ADDRLP4 8
ARGP4
ADDRLP4 1680
ADDRGP4 BG_ParseGameTemplate
CALLI4
ASGNI4
ADDRLP4 520
ADDRLP4 1680
INDIRI4
ASGNI4
line 1435
;1435:		}
LABELV $800
line 1437
;1436:
;1437:		hiscoreRejectionReason = NULL;
ADDRGP4 hiscoreRejectionReason
CNSTP4 0
ASGNP4
line 1439
;1438:		if (
;1439:			templated &&
ADDRLP4 520
INDIRI4
CNSTI4 0
EQI4 $804
ADDRLP4 8+152
INDIRI4
CNSTI4 0
LEI4 $804
ADDRLP4 8
ARGP4
ADDRLP4 656
ADDRGP4 DoesGameMatchTemplate
CALLI4
ASGNI4
ADDRLP4 656
INDIRI4
CNSTI4 0
EQI4 $804
line 1446
;1440:			gt.tksHighscoretype > TKS_missing &&
;1441:			/*
;1442:			gt.tksHighscorename > TKS_missing &&
;1443:			gt.highscorename[0] &&
;1444:			*/
;1445:			DoesGameMatchTemplate(&gt)
;1446:		) {
line 1452
;1447:			const char* hsname;
;1448:			char scoreVarName[64];
;1449:			char scoreVarContents[64];
;1450:			qboolean newhighscore;
;1451:
;1452:			hsname = HighscoreName(&gt, g_template.string);
ADDRLP4 8
ARGP4
ADDRGP4 g_template+16
ARGP4
ADDRLP4 796
ADDRGP4 HighscoreName
CALLP4
ASGNP4
ADDRLP4 788
ADDRLP4 796
INDIRP4
ASGNP4
line 1453
;1453:			newhighscore = qfalse;
ADDRLP4 792
CNSTI4 0
ASGNI4
line 1454
;1454:			Com_sprintf(scoreVarName, sizeof(scoreVarName), "%s0", hsname);
ADDRLP4 660
ARGP4
CNSTI4 64
ARGI4
ADDRGP4 $315
ARGP4
ADDRLP4 788
INDIRP4
ARGP4
ADDRGP4 Com_sprintf
CALLV
pop
line 1455
;1455:			trap_Cvar_VariableStringBuffer(scoreVarName, scoreVarContents, sizeof(scoreVarContents));
ADDRLP4 660
ARGP4
ADDRLP4 724
ARGP4
CNSTI4 64
ARGI4
ADDRGP4 trap_Cvar_VariableStringBuffer
CALLV
pop
line 1456
;1456:			switch (gt.highscoretype) {
ADDRLP4 800
ADDRLP4 8+148
INDIRI4
ASGNI4
ADDRLP4 800
INDIRI4
CNSTI4 1
LTI4 $809
ADDRLP4 800
INDIRI4
CNSTI4 4
GTI4 $809
ADDRLP4 800
INDIRI4
CNSTI4 2
LSHI4
ADDRGP4 $851-4
ADDP4
INDIRP4
JUMPV
data
align 4
LABELV $851
address $811
address $817
address $836
address $842
code
LABELV $811
line 1460
;1457:#if MONSTER_MODE
;1458:			case GC_score:
;1459:				if (
;1460:					g_gametype.integer >= GT_STU &&
ADDRGP4 g_gametype+12
INDIRI4
CNSTI4 8
LTI4 $809
ADDRLP4 724
ARGP4
ADDRLP4 804
ADDRGP4 atoi
CALLI4
ASGNI4
ADDRGP4 level+23020
INDIRI4
ADDRLP4 804
INDIRI4
LEI4 $809
line 1462
;1461:					level.stuScore > atoi(scoreVarContents)
;1462:				) {
line 1463
;1463:					newhighscore = qtrue;
ADDRLP4 792
CNSTI4 1
ASGNI4
line 1464
;1464:					trap_SetConfigstring(CS_HIGHSCORETEXT, "New highscore on this server!");
CNSTI4 710
ARGI4
ADDRGP4 $816
ARGP4
ADDRGP4 trap_SetConfigstring
CALLV
pop
line 1465
;1465:				}
line 1466
;1466:				break;
ADDRGP4 $809
JUMPV
LABELV $817
line 1469
;1467:			case GC_time:
;1468:				if (
;1469:					(
ADDRLP4 724
ARGP4
ADDRLP4 808
ADDRGP4 atoi
CALLI4
ASGNI4
ADDRLP4 524
INDIRI4
ADDRLP4 808
INDIRI4
LTI4 $830
ADDRLP4 724
INDIRI1
CVII4 1
CNSTI4 0
NEI4 $809
LABELV $830
ADDRGP4 g_gametype+12
INDIRI4
CNSTI4 8
NEI4 $834
ADDRGP4 g_artefacts+12
INDIRI4
CNSTI4 0
LEI4 $834
ADDRGP4 g_artefacts+12
INDIRI4
CNSTI4 999
GEI4 $834
ADDRGP4 level+44+4
INDIRI4
ADDRGP4 g_artefacts+12
INDIRI4
GEI4 $831
LABELV $834
ADDRGP4 g_gametype+12
INDIRI4
CNSTI4 9
NEI4 $809
ADDRGP4 level+23048
INDIRI4
CNSTI4 0
LEI4 $809
ADDRGP4 level+23044
INDIRI4
ADDRGP4 level+23048
INDIRI4
LTI4 $809
LABELV $831
line 1488
;1470:						time < atoi(scoreVarContents) ||
;1471:						!scoreVarContents[0]
;1472:					) &&
;1473:					(
;1474:						(
;1475:							g_gametype.integer == GT_STU &&
;1476:							g_artefacts.integer > 0 &&
;1477:							g_artefacts.integer < 999 &&
;1478:							level.teamScores[TEAM_RED] >= g_artefacts.integer
;1479:						)
;1480:#if ESCAPE_MODE
;1481:						|| (
;1482:							g_gametype.integer == GT_EFH &&
;1483:							level.efhGoalDistance > 0 &&
;1484:							level.efhCoveredDistance >= level.efhGoalDistance
;1485:						)
;1486:#endif
;1487:					)
;1488:				) {
line 1489
;1489:					newhighscore = qtrue;
ADDRLP4 792
CNSTI4 1
ASGNI4
line 1490
;1490:					trap_SetConfigstring(CS_HIGHSCORETEXT, "New record time on this server!");
CNSTI4 710
ARGI4
ADDRGP4 $835
ARGP4
ADDRGP4 trap_SetConfigstring
CALLV
pop
line 1491
;1491:				}
line 1492
;1492:				break;
ADDRGP4 $809
JUMPV
LABELV $836
line 1497
;1493:#endif
;1494:#if ESCAPE_MODE
;1495:			case GC_distance:
;1496:				if (
;1497:					g_gametype.integer == GT_EFH &&
ADDRGP4 g_gametype+12
INDIRI4
CNSTI4 9
NEI4 $809
ADDRLP4 724
ARGP4
ADDRLP4 812
ADDRGP4 atoi
CALLI4
ASGNI4
ADDRGP4 level+23044
INDIRI4
ADDRLP4 812
INDIRI4
LEI4 $809
line 1499
;1498:					level.efhCoveredDistance > atoi(scoreVarContents)
;1499:				) {
line 1500
;1500:					newhighscore = qtrue;
ADDRLP4 792
CNSTI4 1
ASGNI4
line 1501
;1501:					trap_SetConfigstring(CS_HIGHSCORETEXT, "New record distance on this server!");
CNSTI4 710
ARGI4
ADDRGP4 $841
ARGP4
ADDRGP4 trap_SetConfigstring
CALLV
pop
line 1502
;1502:				}
line 1503
;1503:				break;
ADDRGP4 $809
JUMPV
LABELV $842
line 1506
;1504:			case GC_speed:
;1505:				if (
;1506:					g_gametype.integer == GT_EFH &&
ADDRGP4 g_gametype+12
INDIRI4
CNSTI4 9
NEI4 $809
ADDRGP4 level+23048
INDIRI4
CNSTI4 0
LEI4 $809
ADDRGP4 level+23044
INDIRI4
ADDRGP4 level+23048
INDIRI4
LTI4 $809
ADDRLP4 724
ARGP4
ADDRLP4 816
ADDRGP4 atoi
CALLI4
ASGNI4
ADDRGP4 level+23052
INDIRI4
ADDRLP4 816
INDIRI4
LEI4 $809
line 1510
;1507:					level.efhGoalDistance > 0 &&
;1508:					level.efhCoveredDistance >= level.efhGoalDistance &&
;1509:					level.efhSpeed > atoi(scoreVarContents)
;1510:				) {
line 1511
;1511:					newhighscore = qtrue;
ADDRLP4 792
CNSTI4 1
ASGNI4
line 1512
;1512:					trap_SetConfigstring(CS_HIGHSCORETEXT, "New record speed on this server!");
CNSTI4 710
ARGI4
ADDRGP4 $850
ARGP4
ADDRGP4 trap_SetConfigstring
CALLV
pop
line 1513
;1513:				}
line 1514
;1514:				break;
line 1517
;1515:#endif
;1516:			default:
;1517:				break;
LABELV $809
line 1520
;1518:			}
;1519:
;1520:			if (newhighscore) {
ADDRLP4 792
INDIRI4
CNSTI4 0
EQI4 $853
line 1524
;1521:				char msgVarName[64];
;1522:				char msgVarContents[1024];
;1523:
;1524:				switch (gt.highscoretype) {
ADDRLP4 1892
ADDRLP4 8+148
INDIRI4
ASGNI4
ADDRLP4 1892
INDIRI4
CNSTI4 1
LTI4 $855
ADDRLP4 1892
INDIRI4
CNSTI4 4
GTI4 $855
ADDRLP4 1892
INDIRI4
CNSTI4 2
LSHI4
ADDRGP4 $865-4
ADDP4
INDIRP4
JUMPV
data
align 4
LABELV $865
address $858
address $860
address $861
address $863
code
LABELV $858
line 1527
;1525:#if MONSTER_MODE
;1526:				case GC_score:
;1527:					Com_sprintf(scoreVarContents, sizeof(scoreVarContents), "%d", level.stuScore);
ADDRLP4 724
ARGP4
CNSTI4 64
ARGI4
ADDRGP4 $380
ARGP4
ADDRGP4 level+23020
INDIRI4
ARGI4
ADDRGP4 Com_sprintf
CALLV
pop
line 1528
;1528:					break;
ADDRGP4 $856
JUMPV
LABELV $860
line 1531
;1529:#endif
;1530:				case GC_time:
;1531:					Com_sprintf(scoreVarContents, sizeof(scoreVarContents), "%d", time);
ADDRLP4 724
ARGP4
CNSTI4 64
ARGI4
ADDRGP4 $380
ARGP4
ADDRLP4 524
INDIRI4
ARGI4
ADDRGP4 Com_sprintf
CALLV
pop
line 1532
;1532:					break;
ADDRGP4 $856
JUMPV
LABELV $861
line 1535
;1533:#if ESCAPE_MODE
;1534:				case GC_distance:
;1535:					Com_sprintf(scoreVarContents, sizeof(scoreVarContents), "%d", level.efhCoveredDistance);
ADDRLP4 724
ARGP4
CNSTI4 64
ARGI4
ADDRGP4 $380
ARGP4
ADDRGP4 level+23044
INDIRI4
ARGI4
ADDRGP4 Com_sprintf
CALLV
pop
line 1536
;1536:					break;
ADDRGP4 $856
JUMPV
LABELV $863
line 1538
;1537:				case GC_speed:
;1538:					Com_sprintf(scoreVarContents, sizeof(scoreVarContents), "%d", level.efhSpeed);
ADDRLP4 724
ARGP4
CNSTI4 64
ARGI4
ADDRGP4 $380
ARGP4
ADDRGP4 level+23052
INDIRI4
ARGI4
ADDRGP4 Com_sprintf
CALLV
pop
line 1539
;1539:					break;
ADDRGP4 $856
JUMPV
LABELV $855
line 1542
;1540:#endif
;1541:				default:
;1542:					scoreVarContents[0] = 0;
ADDRLP4 724
CNSTI1 0
ASGNI1
line 1543
;1543:					break;
LABELV $856
line 1545
;1544:				}
;1545:				trap_Cvar_Register(NULL, scoreVarName, "", CVAR_ARCHIVE);
CNSTP4 0
ARGP4
ADDRLP4 660
ARGP4
ADDRGP4 $90
ARGP4
CNSTI4 1
ARGI4
ADDRGP4 trap_Cvar_Register
CALLV
pop
line 1546
;1546:				trap_Cvar_Set(scoreVarName, scoreVarContents);
ADDRLP4 660
ARGP4
ADDRLP4 724
ARGP4
ADDRGP4 trap_Cvar_Set
CALLV
pop
line 1548
;1547:
;1548:				Com_sprintf(msgVarName, sizeof(msgVarName), "%s1", hsname);
ADDRLP4 804
ARGP4
CNSTI4 64
ARGI4
ADDRGP4 $867
ARGP4
ADDRLP4 788
INDIRP4
ARGP4
ADDRGP4 Com_sprintf
CALLV
pop
line 1549
;1549:				CreateHighscoreDescriptor(msgVarContents);
ADDRLP4 868
ARGP4
ADDRGP4 CreateHighscoreDescriptor
CALLV
pop
line 1550
;1550:				trap_Cvar_Register(NULL, msgVarName, "", CVAR_ARCHIVE);
CNSTP4 0
ARGP4
ADDRLP4 804
ARGP4
ADDRGP4 $90
ARGP4
CNSTI4 1
ARGI4
ADDRGP4 trap_Cvar_Register
CALLV
pop
line 1551
;1551:				trap_Cvar_Set(msgVarName, msgVarContents);
ADDRLP4 804
ARGP4
ADDRLP4 868
ARGP4
ADDRGP4 trap_Cvar_Set
CALLV
pop
line 1552
;1552:			}
ADDRGP4 $805
JUMPV
LABELV $853
line 1553
;1553:			else {
line 1554
;1554:				G_Printf("no new highscore\n");
ADDRGP4 $868
ARGP4
ADDRGP4 G_Printf
CALLV
pop
line 1555
;1555:			}
line 1556
;1556:		}
ADDRGP4 $805
JUMPV
LABELV $804
line 1557
;1557:		else if (templated) {
ADDRLP4 520
INDIRI4
CNSTI4 0
EQI4 $869
line 1558
;1558:			if (gt.tksHighscoretype <= TKS_missing) {
ADDRLP4 8+152
INDIRI4
CNSTI4 0
GTI4 $871
line 1559
;1559:				G_Printf("template doesn't define highscore type\n");
ADDRGP4 $874
ARGP4
ADDRGP4 G_Printf
CALLV
pop
line 1560
;1560:			}
ADDRGP4 $872
JUMPV
LABELV $871
line 1561
;1561:			else if (hiscoreRejectionReason) {
ADDRGP4 hiscoreRejectionReason
INDIRP4
CVPU4 4
CNSTU4 0
EQU4 $875
line 1562
;1562:				G_Printf("^3highscore rejected, reason: %s\n", hiscoreRejectionReason);
ADDRGP4 $877
ARGP4
ADDRGP4 hiscoreRejectionReason
INDIRP4
ARGP4
ADDRGP4 G_Printf
CALLV
pop
line 1563
;1563:			}
LABELV $875
LABELV $872
line 1564
;1564:		}
LABELV $869
LABELV $805
line 1565
;1565:	}
line 1569
;1566:#endif
;1567:
;1568:	// if in tournement mode, change the wins / losses
;1569:	if ( g_gametype.integer == GT_TOURNAMENT ) {
ADDRGP4 g_gametype+12
INDIRI4
CNSTI4 1
NEI4 $878
line 1570
;1570:		AdjustTournamentScores();
ADDRGP4 AdjustTournamentScores
CALLV
pop
line 1571
;1571:	}
LABELV $878
line 1573
;1572:
;1573:	level.intermissiontime = level.time;
ADDRGP4 level+9144
ADDRGP4 level+32
INDIRI4
ASGNI4
line 1574
;1574:	FindIntermissionPoint();
ADDRGP4 FindIntermissionPoint
CALLV
pop
line 1583
;1575:
;1576:#ifdef MISSIONPACK
;1577:	if (g_singlePlayer.integer) {
;1578:		trap_Cvar_Set("ui_singlePlayerActive", "0");
;1579:		UpdateTournamentInfo();
;1580:	}
;1581:#else
;1582:	// if single player game
;1583:	if ( g_gametype.integer == GT_SINGLE_PLAYER ) {
ADDRGP4 g_gametype+12
INDIRI4
CNSTI4 2
NEI4 $883
line 1584
;1584:		UpdateTournamentInfo();
ADDRGP4 UpdateTournamentInfo
CALLV
pop
line 1585
;1585:		SpawnModelsOnVictoryPads();
ADDRGP4 SpawnModelsOnVictoryPads
CALLV
pop
line 1586
;1586:	}
LABELV $883
line 1590
;1587:#endif
;1588:
;1589:	// move all clients to the intermission point
;1590:	for (i=0 ; i< level.maxclients ; i++) {
ADDRLP4 4
CNSTI4 0
ASGNI4
ADDRGP4 $889
JUMPV
LABELV $886
line 1591
;1591:		client = g_entities + i;
ADDRLP4 0
ADDRLP4 4
INDIRI4
CNSTI4 844
MULI4
ADDRGP4 g_entities
ADDP4
ASGNP4
line 1592
;1592:		if (!client->inuse)
ADDRLP4 0
INDIRP4
CNSTI4 524
ADDP4
INDIRI4
CNSTI4 0
NEI4 $891
line 1593
;1593:			continue;
ADDRGP4 $887
JUMPV
LABELV $891
line 1595
;1594:		// respawn if dead
;1595:		if (client->health <= 0) {
ADDRLP4 0
INDIRP4
CNSTI4 736
ADDP4
INDIRI4
CNSTI4 0
GTI4 $893
line 1596
;1596:			respawn(client);
ADDRLP4 0
INDIRP4
ARGP4
ADDRGP4 respawn
CALLV
pop
line 1597
;1597:		}
LABELV $893
line 1598
;1598:		client->client->pers.lastUsedWeapon = WP_NONE;	// JUHOX
ADDRLP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 616
ADDP4
CNSTI4 0
ASGNI4
line 1599
;1599:		MoveClientToIntermission( client );
ADDRLP4 0
INDIRP4
ARGP4
ADDRGP4 MoveClientToIntermission
CALLV
pop
line 1600
;1600:	}
LABELV $887
line 1590
ADDRLP4 4
ADDRLP4 4
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
LABELV $889
ADDRLP4 4
INDIRI4
ADDRGP4 level+24
INDIRI4
LTI4 $886
line 1603
;1601:
;1602:	// send the current scoring to all clients
;1603:	SendScoreboardMessageToAllClients();
ADDRGP4 SendScoreboardMessageToAllClients
CALLV
pop
line 1605
;1604:
;1605:}
LABELV $796
endproc BeginIntermission 1896 16
export ExitLevel
proc ExitLevel 12 8
line 1617
;1606:
;1607:
;1608:/*
;1609:=============
;1610:ExitLevel
;1611:
;1612:When the intermission has been exited, the server is either killed
;1613:or moved to a new level based on the "nextmap" cvar 
;1614:
;1615:=============
;1616:*/
;1617:void ExitLevel (void) {
line 1622
;1618:	int		i;
;1619:	gclient_t *cl;
;1620:
;1621:#if MEETING	// JUHOX: leave meeting
;1622:	if (level.meeting) {
ADDRGP4 level+24092
INDIRI4
CNSTI4 0
EQI4 $896
line 1623
;1623:		level.meeting = qfalse;
ADDRGP4 level+24092
CNSTI4 0
ASGNI4
line 1624
;1624:		trap_SetConfigstring(CS_CLIENTS_READY, "");
CNSTI4 712
ARGI4
ADDRGP4 $90
ARGP4
ADDRGP4 trap_SetConfigstring
CALLV
pop
line 1627
;1625:
;1626:#if ESCAPE_MODE
;1627:		level.intermissiontime = 0;	// effects spawn location in EFH
ADDRGP4 level+9144
CNSTI4 0
ASGNI4
line 1628
;1628:		if (g_gametype.integer == GT_EFH) G_SpawnWorld();
ADDRGP4 g_gametype+12
INDIRI4
CNSTI4 9
NEI4 $901
ADDRGP4 G_SpawnWorld
CALLV
pop
LABELV $901
line 1631
;1629:#endif
;1630:
;1631:		for (i = 0; i < level.maxclients; i++) {
ADDRLP4 0
CNSTI4 0
ASGNI4
ADDRGP4 $907
JUMPV
LABELV $904
line 1632
;1632:			if (level.clients[i].pers.connected != CON_CONNECTED) continue;
ADDRLP4 0
INDIRI4
CNSTI4 5604
MULI4
ADDRGP4 level
INDIRP4
ADDP4
CNSTI4 468
ADDP4
INDIRI4
CNSTI4 2
EQI4 $909
ADDRGP4 $905
JUMPV
LABELV $909
line 1634
;1633:
;1634:			ClientBegin(i);
ADDRLP4 0
INDIRI4
ARGI4
ADDRGP4 ClientBegin
CALLV
pop
line 1636
;1635:#if ESCAPE_MODE
;1636:			if (g_gametype.integer == GT_EFH) G_UpdateWorld();
ADDRGP4 g_gametype+12
INDIRI4
CNSTI4 9
NEI4 $911
ADDRGP4 G_UpdateWorld
CALLV
pop
LABELV $911
line 1638
;1637:#endif
;1638:		}
LABELV $905
line 1631
ADDRLP4 0
ADDRLP4 0
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
LABELV $907
ADDRLP4 0
INDIRI4
ADDRGP4 level+24
INDIRI4
LTI4 $904
line 1640
;1639:
;1640:		level.startTime = level.time;
ADDRGP4 level+40
ADDRGP4 level+32
INDIRI4
ASGNI4
line 1641
;1641:		trap_SetConfigstring(CS_LEVEL_START_TIME, va("%d", level.startTime));
ADDRGP4 $380
ARGP4
ADDRGP4 level+40
INDIRI4
ARGI4
ADDRLP4 8
ADDRGP4 va
CALLP4
ASGNP4
CNSTI4 21
ARGI4
ADDRLP4 8
INDIRP4
ARGP4
ADDRGP4 trap_SetConfigstring
CALLV
pop
line 1642
;1642:		trap_SetConfigstring(CS_MEETING, "0");
CNSTI4 709
ARGI4
ADDRGP4 $96
ARGP4
ADDRGP4 trap_SetConfigstring
CALLV
pop
line 1643
;1643:		return;
ADDRGP4 $895
JUMPV
LABELV $896
line 1648
;1644:	}
;1645:#endif
;1646:
;1647:	//bot interbreeding
;1648:	BotInterbreedEndMatch();
ADDRGP4 BotInterbreedEndMatch
CALLV
pop
line 1652
;1649:
;1650:	// if we are running a tournement map, kick the loser to spectator status,
;1651:	// which will automatically grab the next spectator and restart
;1652:	if ( g_gametype.integer == GT_TOURNAMENT  ) {
ADDRGP4 g_gametype+12
INDIRI4
CNSTI4 1
NEI4 $917
line 1653
;1653:		if ( !level.restarted ) {
ADDRGP4 level+84
INDIRI4
CNSTI4 0
NEI4 $895
line 1654
;1654:			RemoveTournamentLoser();
ADDRGP4 RemoveTournamentLoser
CALLV
pop
line 1655
;1655:			trap_SendConsoleCommand( EXEC_APPEND, "map_restart 0\n" );
CNSTI4 2
ARGI4
ADDRGP4 $923
ARGP4
ADDRGP4 trap_SendConsoleCommand
CALLV
pop
line 1656
;1656:			level.restarted = qtrue;
ADDRGP4 level+84
CNSTI4 1
ASGNI4
line 1657
;1657:			level.changemap = NULL;
ADDRGP4 level+9148
CNSTP4 0
ASGNP4
line 1658
;1658:			level.intermissiontime = 0;
ADDRGP4 level+9144
CNSTI4 0
ASGNI4
line 1659
;1659:		}
line 1660
;1660:		return;	
ADDRGP4 $895
JUMPV
LABELV $917
line 1664
;1661:	}
;1662:
;1663:
;1664:	trap_SendConsoleCommand( EXEC_APPEND, "vstr nextmap\n" );
CNSTI4 2
ARGI4
ADDRGP4 $927
ARGP4
ADDRGP4 trap_SendConsoleCommand
CALLV
pop
line 1665
;1665:	level.changemap = NULL;
ADDRGP4 level+9148
CNSTP4 0
ASGNP4
line 1666
;1666:	level.intermissiontime = 0;
ADDRGP4 level+9144
CNSTI4 0
ASGNI4
line 1669
;1667:
;1668:	// reset all the scores so we don't enter the intermission again
;1669:	level.teamScores[TEAM_RED] = 0;
ADDRGP4 level+44+4
CNSTI4 0
ASGNI4
line 1670
;1670:	level.teamScores[TEAM_BLUE] = 0;
ADDRGP4 level+44+8
CNSTI4 0
ASGNI4
line 1671
;1671:	for ( i=0 ; i< g_maxclients.integer ; i++ ) {
ADDRLP4 0
CNSTI4 0
ASGNI4
ADDRGP4 $937
JUMPV
LABELV $934
line 1672
;1672:		cl = level.clients + i;
ADDRLP4 4
ADDRLP4 0
INDIRI4
CNSTI4 5604
MULI4
ADDRGP4 level
INDIRP4
ADDP4
ASGNP4
line 1673
;1673:		if ( cl->pers.connected != CON_CONNECTED ) {
ADDRLP4 4
INDIRP4
CNSTI4 468
ADDP4
INDIRI4
CNSTI4 2
EQI4 $939
line 1674
;1674:			continue;
ADDRGP4 $935
JUMPV
LABELV $939
line 1676
;1675:		}
;1676:		cl->ps.persistant[PERS_SCORE] = 0;
ADDRLP4 4
INDIRP4
CNSTI4 248
ADDP4
CNSTI4 0
ASGNI4
line 1677
;1677:	}
LABELV $935
line 1671
ADDRLP4 0
ADDRLP4 0
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
LABELV $937
ADDRLP4 0
INDIRI4
ADDRGP4 g_maxclients+12
INDIRI4
LTI4 $934
line 1680
;1678:
;1679:	// we need to do this here before chaning to CON_CONNECTING
;1680:	G_WriteSessionData();
ADDRGP4 G_WriteSessionData
CALLV
pop
line 1684
;1681:
;1682:	// change all client states to connecting, so the early players into the
;1683:	// next level will know the others aren't done reconnecting
;1684:	for (i=0 ; i< g_maxclients.integer ; i++) {
ADDRLP4 0
CNSTI4 0
ASGNI4
ADDRGP4 $944
JUMPV
LABELV $941
line 1685
;1685:		if ( level.clients[i].pers.connected == CON_CONNECTED ) {
ADDRLP4 0
INDIRI4
CNSTI4 5604
MULI4
ADDRGP4 level
INDIRP4
ADDP4
CNSTI4 468
ADDP4
INDIRI4
CNSTI4 2
NEI4 $946
line 1686
;1686:			level.clients[i].pers.connected = CON_CONNECTING;
ADDRLP4 0
INDIRI4
CNSTI4 5604
MULI4
ADDRGP4 level
INDIRP4
ADDP4
CNSTI4 468
ADDP4
CNSTI4 1
ASGNI4
line 1687
;1687:		}
LABELV $946
line 1688
;1688:	}
LABELV $942
line 1684
ADDRLP4 0
ADDRLP4 0
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
LABELV $944
ADDRLP4 0
INDIRI4
ADDRGP4 g_maxclients+12
INDIRI4
LTI4 $941
line 1690
;1689:
;1690:}
LABELV $895
endproc ExitLevel 12 8
export G_LogPrintf
proc G_LogPrintf 1044 24
line 1699
;1691:
;1692:/*
;1693:=================
;1694:G_LogPrintf
;1695:
;1696:Print to the logfile with a time stamp if it is open
;1697:=================
;1698:*/
;1699:void QDECL G_LogPrintf( const char *fmt, ... ) {
line 1704
;1700:	va_list		argptr;
;1701:	char		string[1024];
;1702:	int			min, tens, sec;
;1703:
;1704:	sec = level.time / 1000;
ADDRLP4 0
ADDRGP4 level+32
INDIRI4
CNSTI4 1000
DIVI4
ASGNI4
line 1706
;1705:
;1706:	min = sec / 60;
ADDRLP4 1032
ADDRLP4 0
INDIRI4
CNSTI4 60
DIVI4
ASGNI4
line 1707
;1707:	sec -= min * 60;
ADDRLP4 0
ADDRLP4 0
INDIRI4
ADDRLP4 1032
INDIRI4
CNSTI4 60
MULI4
SUBI4
ASGNI4
line 1708
;1708:	tens = sec / 10;
ADDRLP4 1036
ADDRLP4 0
INDIRI4
CNSTI4 10
DIVI4
ASGNI4
line 1709
;1709:	sec -= tens * 10;
ADDRLP4 0
ADDRLP4 0
INDIRI4
ADDRLP4 1036
INDIRI4
CNSTI4 10
MULI4
SUBI4
ASGNI4
line 1711
;1710:
;1711:	Com_sprintf( string, sizeof(string), "%3i:%i%i ", min, tens, sec );
ADDRLP4 4
ARGP4
CNSTI4 1024
ARGI4
ADDRGP4 $950
ARGP4
ADDRLP4 1032
INDIRI4
ARGI4
ADDRLP4 1036
INDIRI4
ARGI4
ADDRLP4 0
INDIRI4
ARGI4
ADDRGP4 Com_sprintf
CALLV
pop
line 1713
;1712:
;1713:	va_start( argptr, fmt );
ADDRLP4 1028
ADDRFP4 0+4
ASGNP4
line 1714
;1714:	vsprintf( string +7 , fmt,argptr );
ADDRLP4 4+7
ARGP4
ADDRFP4 0
INDIRP4
ARGP4
ADDRLP4 1028
INDIRP4
ARGP4
ADDRGP4 vsprintf
CALLI4
pop
line 1715
;1715:	va_end( argptr );
ADDRLP4 1028
CNSTP4 0
ASGNP4
line 1717
;1716:
;1717:	if ( g_dedicated.integer ) {
ADDRGP4 g_dedicated+12
INDIRI4
CNSTI4 0
EQI4 $953
line 1718
;1718:		G_Printf( "%s", string + 7 );
ADDRGP4 $394
ARGP4
ADDRLP4 4+7
ARGP4
ADDRGP4 G_Printf
CALLV
pop
line 1719
;1719:	}
LABELV $953
line 1721
;1720:
;1721:	if ( !level.logFile ) {
ADDRGP4 level+20
INDIRI4
CNSTI4 0
NEI4 $957
line 1722
;1722:		return;
ADDRGP4 $948
JUMPV
LABELV $957
line 1725
;1723:	}
;1724:
;1725:	trap_FS_Write( string, strlen( string ), level.logFile );
ADDRLP4 4
ARGP4
ADDRLP4 1040
ADDRGP4 strlen
CALLI4
ASGNI4
ADDRLP4 4
ARGP4
ADDRLP4 1040
INDIRI4
ARGI4
ADDRGP4 level+20
INDIRI4
ARGI4
ADDRGP4 trap_FS_Write
CALLV
pop
line 1726
;1726:}
LABELV $948
endproc G_LogPrintf 1044 24
export LogExit
proc LogExit 32 20
line 1735
;1727:
;1728:/*
;1729:================
;1730:LogExit
;1731:
;1732:Append information about this game to the log file
;1733:================
;1734:*/
;1735:void LogExit( const char *string ) {
line 1742
;1736:	int				i, numSorted;
;1737:	gclient_t		*cl;
;1738:#ifdef MISSIONPACK // bk001205
;1739:	qboolean won = qtrue;
;1740:
;1741:#endif
;1742:	G_LogPrintf( "Exit: %s\n", string );
ADDRGP4 $962
ARGP4
ADDRFP4 0
INDIRP4
ARGP4
ADDRGP4 G_LogPrintf
CALLV
pop
line 1744
;1743:
;1744:	level.intermissionQueued = level.time;
ADDRGP4 level+9140
ADDRGP4 level+32
INDIRI4
ASGNI4
line 1748
;1745:
;1746:	// this will keep the clients from playing any voice sounds
;1747:	// that will get cut off when the queued intermission starts
;1748:	trap_SetConfigstring( CS_INTERMISSION, "1" );
CNSTI4 22
ARGI4
ADDRGP4 $104
ARGP4
ADDRGP4 trap_SetConfigstring
CALLV
pop
line 1751
;1749:
;1750:	// don't send more than 32 scores (FIXME?)
;1751:	numSorted = level.numConnectedClients;
ADDRLP4 8
ADDRGP4 level+88
INDIRI4
ASGNI4
line 1752
;1752:	if ( numSorted > 32 ) {
ADDRLP4 8
INDIRI4
CNSTI4 32
LEI4 $966
line 1753
;1753:		numSorted = 32;
ADDRLP4 8
CNSTI4 32
ASGNI4
line 1754
;1754:	}
LABELV $966
line 1756
;1755:
;1756:	if ( g_gametype.integer >= GT_TEAM ) {
ADDRGP4 g_gametype+12
INDIRI4
CNSTI4 3
LTI4 $968
line 1757
;1757:		G_LogPrintf( "red:%i  blue:%i\n",
ADDRGP4 $971
ARGP4
ADDRGP4 level+44+4
INDIRI4
ARGI4
ADDRGP4 level+44+8
INDIRI4
ARGI4
ADDRGP4 G_LogPrintf
CALLV
pop
line 1759
;1758:			level.teamScores[TEAM_RED], level.teamScores[TEAM_BLUE] );
;1759:	}
LABELV $968
line 1761
;1760:
;1761:	for (i=0 ; i < numSorted ; i++) {
ADDRLP4 4
CNSTI4 0
ASGNI4
ADDRGP4 $979
JUMPV
LABELV $976
line 1764
;1762:		int		ping;
;1763:
;1764:		cl = &level.clients[level.sortedClients[i]];
ADDRLP4 0
ADDRLP4 4
INDIRI4
CNSTI4 2
LSHI4
ADDRGP4 level+100
ADDP4
INDIRI4
CNSTI4 5604
MULI4
ADDRGP4 level
INDIRP4
ADDP4
ASGNP4
line 1766
;1765:
;1766:		if ( cl->sess.sessionTeam == TEAM_SPECTATOR ) {
ADDRLP4 0
INDIRP4
CNSTI4 696
ADDP4
INDIRI4
CNSTI4 3
NEI4 $981
line 1767
;1767:			continue;
ADDRGP4 $977
JUMPV
LABELV $981
line 1769
;1768:		}
;1769:		if ( cl->pers.connected == CON_CONNECTING ) {
ADDRLP4 0
INDIRP4
CNSTI4 468
ADDP4
INDIRI4
CNSTI4 1
NEI4 $983
line 1770
;1770:			continue;
ADDRGP4 $977
JUMPV
LABELV $983
line 1773
;1771:		}
;1772:
;1773:		ping = cl->ps.ping < 999 ? cl->ps.ping : 999;
ADDRLP4 0
INDIRP4
CNSTI4 452
ADDP4
INDIRI4
CNSTI4 999
GEI4 $986
ADDRLP4 16
ADDRLP4 0
INDIRP4
CNSTI4 452
ADDP4
INDIRI4
ASGNI4
ADDRGP4 $987
JUMPV
LABELV $986
ADDRLP4 16
CNSTI4 999
ASGNI4
LABELV $987
ADDRLP4 12
ADDRLP4 16
INDIRI4
ASGNI4
line 1775
;1774:
;1775:		G_LogPrintf( "score: %i  ping: %i  client: %i %s\n", cl->ps.persistant[PERS_SCORE], ping, level.sortedClients[i],	cl->pers.netname );
ADDRGP4 $988
ARGP4
ADDRLP4 0
INDIRP4
CNSTI4 248
ADDP4
INDIRI4
ARGI4
ADDRLP4 12
INDIRI4
ARGI4
ADDRLP4 4
INDIRI4
CNSTI4 2
LSHI4
ADDRGP4 level+100
ADDP4
INDIRI4
ARGI4
ADDRLP4 0
INDIRP4
CNSTI4 512
ADDP4
ARGP4
ADDRGP4 G_LogPrintf
CALLV
pop
line 1784
;1776:#ifdef MISSIONPACK
;1777:		if (g_singlePlayer.integer && g_gametype.integer == GT_TOURNAMENT) {
;1778:			if (g_entities[cl - level.clients].r.svFlags & SVF_BOT && cl->ps.persistant[PERS_RANK] == 0) {
;1779:				won = qfalse;
;1780:			}
;1781:		}
;1782:#endif
;1783:
;1784:	}
LABELV $977
line 1761
ADDRLP4 4
ADDRLP4 4
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
LABELV $979
ADDRLP4 4
INDIRI4
ADDRLP4 8
INDIRI4
LTI4 $976
line 1798
;1785:
;1786:#ifdef MISSIONPACK
;1787:	if (g_singlePlayer.integer) {
;1788:		if (g_gametype.integer >= GT_CTF) {
;1789:			won = level.teamScores[TEAM_RED] > level.teamScores[TEAM_BLUE];
;1790:		}
;1791:		trap_SendConsoleCommand( EXEC_APPEND, (won) ? "spWin\n" : "spLose\n" );
;1792:	}
;1793:#endif
;1794:
;1795:
;1796:	// JUHOX: in STU set the CS_TIME_PLAYED config string
;1797:#if	MONSTER_MODE
;1798:	if (g_gametype.integer >= GT_STU) {
ADDRGP4 g_gametype+12
INDIRI4
CNSTI4 8
LTI4 $990
line 1802
;1799:		int minutes, seconds, mseconds;
;1800:		char* s;
;1801:
;1802:		mseconds = level.endTime - level.startTime;
ADDRLP4 16
ADDRGP4 level+23028
INDIRI4
ADDRGP4 level+40
INDIRI4
SUBI4
ASGNI4
line 1803
;1803:		seconds = mseconds / 1000;
ADDRLP4 12
ADDRLP4 16
INDIRI4
CNSTI4 1000
DIVI4
ASGNI4
line 1804
;1804:		minutes = seconds / 60;
ADDRLP4 24
ADDRLP4 12
INDIRI4
CNSTI4 60
DIVI4
ASGNI4
line 1805
;1805:		s = va("%d:%02d.%03d", minutes, seconds % 60, mseconds % 1000);
ADDRGP4 $995
ARGP4
ADDRLP4 24
INDIRI4
ARGI4
ADDRLP4 12
INDIRI4
CNSTI4 60
MODI4
ARGI4
ADDRLP4 16
INDIRI4
CNSTI4 1000
MODI4
ARGI4
ADDRLP4 28
ADDRGP4 va
CALLP4
ASGNP4
ADDRLP4 20
ADDRLP4 28
INDIRP4
ASGNP4
line 1806
;1806:		trap_SetConfigstring(CS_TIME_PLAYED, s);
CNSTI4 716
ARGI4
ADDRLP4 20
INDIRP4
ARGP4
ADDRGP4 trap_SetConfigstring
CALLV
pop
line 1807
;1807:		G_LogPrintf("time played: %s\n", s);
ADDRGP4 $996
ARGP4
ADDRLP4 20
INDIRP4
ARGP4
ADDRGP4 G_LogPrintf
CALLV
pop
line 1808
;1808:	}
LABELV $990
line 1812
;1809:#endif
;1810:
;1811:#if ESCAPE_MODE	// JUHOX: set CS_EFH_SPEED config string
;1812:	if (g_gametype.integer == GT_EFH) {
ADDRGP4 g_gametype+12
INDIRI4
CNSTI4 9
NEI4 $997
line 1817
;1813:		float minutes;
;1814:		int metres;
;1815:		float speed;
;1816:
;1817:		minutes = (level.endTime - level.startTime) / 60000.0;
ADDRLP4 16
ADDRGP4 level+23028
INDIRI4
ADDRGP4 level+40
INDIRI4
SUBI4
CVIF4 4
CNSTF4 931909477
MULF4
ASGNF4
line 1818
;1818:		metres = level.efhCoveredDistance;
ADDRLP4 12
ADDRGP4 level+23044
INDIRI4
ASGNI4
line 1820
;1819:		if (
;1820:			level.efhGoalDistance > 0 &&
ADDRGP4 level+23048
INDIRI4
CNSTI4 0
LEI4 $1003
ADDRLP4 12
INDIRI4
ADDRGP4 level+23048
INDIRI4
LEI4 $1003
line 1822
;1821:			metres > level.efhGoalDistance
;1822:		) {
line 1823
;1823:			metres = level.efhGoalDistance;
ADDRLP4 12
ADDRGP4 level+23048
INDIRI4
ASGNI4
line 1824
;1824:		}
LABELV $1003
line 1826
;1825:
;1826:		if (minutes > 0) {
ADDRLP4 16
INDIRF4
CNSTF4 0
LEF4 $1008
line 1827
;1827:			speed = metres / minutes;
ADDRLP4 20
ADDRLP4 12
INDIRI4
CVIF4 4
ADDRLP4 16
INDIRF4
DIVF4
ASGNF4
line 1828
;1828:		}
ADDRGP4 $1009
JUMPV
LABELV $1008
line 1829
;1829:		else {
line 1830
;1830:			speed = 0;
ADDRLP4 20
CNSTF4 0
ASGNF4
line 1831
;1831:		}
LABELV $1009
line 1832
;1832:		level.efhSpeed = (int) floor(1000 * speed + 0.5);
ADDRLP4 20
INDIRF4
CNSTF4 1148846080
MULF4
CNSTF4 1056964608
ADDF4
ARGF4
ADDRLP4 24
ADDRGP4 floor
CALLF4
ASGNF4
ADDRGP4 level+23052
ADDRLP4 24
INDIRF4
CVFI4 4
ASGNI4
line 1834
;1833:
;1834:		trap_SetConfigstring(CS_EFH_SPEED, va("%d.%03d", level.efhSpeed / 1000, level.efhSpeed % 1000));
ADDRGP4 $1011
ARGP4
ADDRGP4 level+23052
INDIRI4
CNSTI4 1000
DIVI4
ARGI4
ADDRGP4 level+23052
INDIRI4
CNSTI4 1000
MODI4
ARGI4
ADDRLP4 28
ADDRGP4 va
CALLP4
ASGNP4
CNSTI4 719
ARGI4
ADDRLP4 28
INDIRP4
ARGP4
ADDRGP4 trap_SetConfigstring
CALLV
pop
line 1835
;1835:	}
LABELV $997
line 1837
;1836:#endif
;1837:}
LABELV $961
endproc LogExit 32 20
export CheckIntermissionExit
proc CheckIntermissionExit 60 12
line 1850
;1838:
;1839:
;1840:/*
;1841:=================
;1842:CheckIntermissionExit
;1843:
;1844:The level will stay at the intermission for a minimum of 5 seconds
;1845:If all players wish to continue, the level will then exit.
;1846:If one or more players have not acknowledged the continue, the game will
;1847:wait 10 seconds before going on.
;1848:=================
;1849:*/
;1850:void CheckIntermissionExit( void ) {
line 1856
;1851:	int			ready, notReady;
;1852:	int			i;
;1853:	gclient_t	*cl;
;1854:	int			readyMask;
;1855:
;1856:	if ( g_gametype.integer == GT_SINGLE_PLAYER ) {
ADDRGP4 g_gametype+12
INDIRI4
CNSTI4 2
NEI4 $1015
line 1857
;1857:		return;
ADDRGP4 $1014
JUMPV
LABELV $1015
line 1861
;1858:	}
;1859:
;1860:	// see which players are ready
;1861:	ready = 0;
ADDRLP4 12
CNSTI4 0
ASGNI4
line 1862
;1862:	notReady = 0;
ADDRLP4 8
CNSTI4 0
ASGNI4
line 1863
;1863:	readyMask = 0;
ADDRLP4 16
CNSTI4 0
ASGNI4
line 1864
;1864:	for (i=0 ; i< g_maxclients.integer ; i++) {
ADDRLP4 0
CNSTI4 0
ASGNI4
ADDRGP4 $1021
JUMPV
LABELV $1018
line 1865
;1865:		cl = level.clients + i;
ADDRLP4 4
ADDRLP4 0
INDIRI4
CNSTI4 5604
MULI4
ADDRGP4 level
INDIRP4
ADDP4
ASGNP4
line 1867
;1866:#if MEETING	// JUHOX: don't leave meeting while someone is connecting
;1867:		if (level.meeting && cl->pers.connected == CON_CONNECTING) {
ADDRGP4 level+24092
INDIRI4
CNSTI4 0
EQI4 $1023
ADDRLP4 4
INDIRP4
CNSTI4 468
ADDP4
INDIRI4
CNSTI4 1
NEI4 $1023
line 1868
;1868:			level.readyToExit = qfalse;
ADDRGP4 level+9152
CNSTI4 0
ASGNI4
line 1869
;1869:			return;
ADDRGP4 $1014
JUMPV
LABELV $1023
line 1872
;1870:		}
;1871:#endif
;1872:		if ( cl->pers.connected != CON_CONNECTED ) {
ADDRLP4 4
INDIRP4
CNSTI4 468
ADDP4
INDIRI4
CNSTI4 2
EQI4 $1027
line 1873
;1873:			continue;
ADDRGP4 $1019
JUMPV
LABELV $1027
line 1875
;1874:		}
;1875:		if ( g_entities[cl->ps.clientNum].r.svFlags & SVF_BOT ) {
ADDRLP4 4
INDIRP4
CNSTI4 140
ADDP4
INDIRI4
CNSTI4 844
MULI4
ADDRGP4 g_entities+208+216
ADDP4
INDIRI4
CNSTI4 8
BANDI4
CNSTI4 0
EQI4 $1029
line 1876
;1876:			continue;
ADDRGP4 $1019
JUMPV
LABELV $1029
line 1879
;1877:		}
;1878:
;1879:		if ( cl->readyToExit ) {
ADDRLP4 4
INDIRP4
CNSTI4 724
ADDP4
INDIRI4
CNSTI4 0
EQI4 $1033
line 1880
;1880:			ready++;
ADDRLP4 12
ADDRLP4 12
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
line 1881
;1881:			if ( i < 16 ) {
ADDRLP4 0
INDIRI4
CNSTI4 16
GEI4 $1034
line 1882
;1882:				readyMask |= 1 << i;
ADDRLP4 16
ADDRLP4 16
INDIRI4
CNSTI4 1
ADDRLP4 0
INDIRI4
LSHI4
BORI4
ASGNI4
line 1883
;1883:			}
line 1884
;1884:		} else {
ADDRGP4 $1034
JUMPV
LABELV $1033
line 1885
;1885:			notReady++;
ADDRLP4 8
ADDRLP4 8
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
line 1886
;1886:		}
LABELV $1034
line 1887
;1887:	}
LABELV $1019
line 1864
ADDRLP4 0
ADDRLP4 0
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
LABELV $1021
ADDRLP4 0
INDIRI4
ADDRGP4 g_maxclients+12
INDIRI4
LTI4 $1018
line 1901
;1888:
;1889:	// copy the readyMask to each player's stats so
;1890:	// it can be displayed on the scoreboard
;1891:	// JUHOX: put ready mask in configstring
;1892:#if 0
;1893:	for (i=0 ; i< g_maxclients.integer ; i++) {
;1894:		cl = level.clients + i;
;1895:		if ( cl->pers.connected != CON_CONNECTED ) {
;1896:			continue;
;1897:		}
;1898:		cl->ps.stats[STAT_CLIENTS_READY] = readyMask;
;1899:	}
;1900:#else
;1901:	{
line 1904
;1902:		char buf[32];
;1903:
;1904:		memset(buf, 0, sizeof(buf));
ADDRLP4 20
ARGP4
CNSTI4 0
ARGI4
CNSTI4 32
ARGI4
ADDRGP4 memset
CALLP4
pop
line 1905
;1905:		for (i = 0; i < g_maxclients.integer; i++) {
ADDRLP4 0
CNSTI4 0
ASGNI4
ADDRGP4 $1040
JUMPV
LABELV $1037
line 1906
;1906:			cl = level.clients + i;
ADDRLP4 4
ADDRLP4 0
INDIRI4
CNSTI4 5604
MULI4
ADDRGP4 level
INDIRP4
ADDP4
ASGNP4
line 1907
;1907:			if ( cl->pers.connected != CON_CONNECTED ) {
ADDRLP4 4
INDIRP4
CNSTI4 468
ADDP4
INDIRI4
CNSTI4 2
EQI4 $1042
line 1908
;1908:				continue;
ADDRGP4 $1038
JUMPV
LABELV $1042
line 1910
;1909:			}
;1910:			if ( g_entities[cl->ps.clientNum].r.svFlags & SVF_BOT ) {
ADDRLP4 4
INDIRP4
CNSTI4 140
ADDP4
INDIRI4
CNSTI4 844
MULI4
ADDRGP4 g_entities+208+216
ADDP4
INDIRI4
CNSTI4 8
BANDI4
CNSTI4 0
EQI4 $1044
line 1911
;1911:				continue;
ADDRGP4 $1038
JUMPV
LABELV $1044
line 1914
;1912:			}
;1913:
;1914:			if (cl->readyToExit) buf[i/4] |= 1 << (i & 3);
ADDRLP4 4
INDIRP4
CNSTI4 724
ADDP4
INDIRI4
CNSTI4 0
EQI4 $1048
ADDRLP4 56
ADDRLP4 0
INDIRI4
CNSTI4 4
DIVI4
ADDRLP4 20
ADDP4
ASGNP4
ADDRLP4 56
INDIRP4
ADDRLP4 56
INDIRP4
INDIRI1
CVII4 1
CNSTI4 1
ADDRLP4 0
INDIRI4
CNSTI4 3
BANDI4
LSHI4
BORI4
CVII1 4
ASGNI1
LABELV $1048
line 1915
;1915:		}
LABELV $1038
line 1905
ADDRLP4 0
ADDRLP4 0
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
LABELV $1040
ADDRLP4 0
INDIRI4
ADDRGP4 g_maxclients+12
INDIRI4
LTI4 $1037
line 1916
;1916:		for (i = 0; i < MAX_CLIENTS/4; i++) {
ADDRLP4 0
CNSTI4 0
ASGNI4
LABELV $1050
line 1917
;1917:			buf[i] += 'A';
ADDRLP4 52
ADDRLP4 0
INDIRI4
ADDRLP4 20
ADDP4
ASGNP4
ADDRLP4 52
INDIRP4
ADDRLP4 52
INDIRP4
INDIRI1
CVII4 1
CNSTI4 65
ADDI4
CVII1 4
ASGNI1
line 1918
;1918:		}
LABELV $1051
line 1916
ADDRLP4 0
ADDRLP4 0
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
ADDRLP4 0
INDIRI4
CNSTI4 16
LTI4 $1050
line 1919
;1919:		trap_SetConfigstring(CS_CLIENTS_READY, buf);
CNSTI4 712
ARGI4
ADDRLP4 20
ARGP4
ADDRGP4 trap_SetConfigstring
CALLV
pop
line 1920
;1920:	}
line 1924
;1921:#endif
;1922:
;1923:#if MEETING	// JUHOX: in meeting mode exit intermission, if there's nobody left (so people can connect)
;1924:	if (g_meeting.integer && !level.meeting && ready <= 0 && notReady <= 0) {
ADDRGP4 g_meeting+12
INDIRI4
CNSTI4 0
EQI4 $1054
ADDRGP4 level+24092
INDIRI4
CNSTI4 0
NEI4 $1054
ADDRLP4 12
INDIRI4
CNSTI4 0
GTI4 $1054
ADDRLP4 8
INDIRI4
CNSTI4 0
GTI4 $1054
line 1925
;1925:		ExitLevel();
ADDRGP4 ExitLevel
CALLV
pop
line 1926
;1926:		return;
ADDRGP4 $1014
JUMPV
LABELV $1054
line 1931
;1927:	}
;1928:#endif
;1929:
;1930:	// never exit in less than five seconds
;1931:	if ( level.time < level.intermissiontime + 5000 ) {
ADDRGP4 level+32
INDIRI4
ADDRGP4 level+9144
INDIRI4
CNSTI4 5000
ADDI4
GEI4 $1058
line 1932
;1932:		return;
ADDRGP4 $1014
JUMPV
LABELV $1058
line 1940
;1933:	}
;1934:
;1935:	// if nobody wants to go, clear timer
;1936:	// JUHOX: if too few people want to go, clear timer
;1937:#if 0
;1938:	if ( !ready ) {
;1939:#else
;1940:	if (ready <= notReady) {
ADDRLP4 12
INDIRI4
ADDRLP4 8
INDIRI4
GTI4 $1062
line 1942
;1941:#endif
;1942:		level.readyToExit = qfalse;
ADDRGP4 level+9152
CNSTI4 0
ASGNI4
line 1943
;1943:		return;
ADDRGP4 $1014
JUMPV
LABELV $1062
line 1947
;1944:	}
;1945:
;1946:	// if everyone wants to go, go now
;1947:	if ( !notReady ) {
ADDRLP4 8
INDIRI4
CNSTI4 0
NEI4 $1065
line 1948
;1948:		ExitLevel();
ADDRGP4 ExitLevel
CALLV
pop
line 1949
;1949:		return;
ADDRGP4 $1014
JUMPV
LABELV $1065
line 1953
;1950:	}
;1951:
;1952:	// the first person to ready starts the ten second timeout
;1953:	if ( !level.readyToExit ) {
ADDRGP4 level+9152
INDIRI4
CNSTI4 0
NEI4 $1067
line 1954
;1954:		level.readyToExit = qtrue;
ADDRGP4 level+9152
CNSTI4 1
ASGNI4
line 1955
;1955:		level.exitTime = level.time;
ADDRGP4 level+9156
ADDRGP4 level+32
INDIRI4
ASGNI4
line 1956
;1956:	}
LABELV $1067
line 1960
;1957:
;1958:	// if we have waited ten seconds since at least one player
;1959:	// wanted to exit, go ahead
;1960:	if ( level.time < level.exitTime + 10000 ) {
ADDRGP4 level+32
INDIRI4
ADDRGP4 level+9156
INDIRI4
CNSTI4 10000
ADDI4
GEI4 $1073
line 1961
;1961:		return;
ADDRGP4 $1014
JUMPV
LABELV $1073
line 1964
;1962:	}
;1963:
;1964:	ExitLevel();
ADDRGP4 ExitLevel
CALLV
pop
line 1965
;1965:}
LABELV $1014
endproc CheckIntermissionExit 60 12
export ScoreIsTied
proc ScoreIsTied 12 0
line 1972
;1966:
;1967:/*
;1968:=============
;1969:ScoreIsTied
;1970:=============
;1971:*/
;1972:qboolean ScoreIsTied( void ) {
line 1977
;1973:	int		a, b;
;1974:
;1975:	// JUHOX: score is never tied in STU
;1976:#if MONSTER_MODE
;1977:	if (g_gametype.integer >= GT_STU) {
ADDRGP4 g_gametype+12
INDIRI4
CNSTI4 8
LTI4 $1078
line 1978
;1978:		return qfalse;
CNSTI4 0
RETI4
ADDRGP4 $1077
JUMPV
LABELV $1078
line 1982
;1979:	}
;1980:#endif
;1981:
;1982:	if ( level.numPlayingClients < 2 ) {
ADDRGP4 level+96
INDIRI4
CNSTI4 2
GEI4 $1081
line 1983
;1983:		return qfalse;
CNSTI4 0
RETI4
ADDRGP4 $1077
JUMPV
LABELV $1081
line 1986
;1984:	}
;1985:	
;1986:	if ( g_gametype.integer >= GT_TEAM ) {
ADDRGP4 g_gametype+12
INDIRI4
CNSTI4 3
LTI4 $1084
line 1987
;1987:		return level.teamScores[TEAM_RED] == level.teamScores[TEAM_BLUE];
ADDRGP4 level+44+4
INDIRI4
ADDRGP4 level+44+8
INDIRI4
NEI4 $1092
ADDRLP4 8
CNSTI4 1
ASGNI4
ADDRGP4 $1093
JUMPV
LABELV $1092
ADDRLP4 8
CNSTI4 0
ASGNI4
LABELV $1093
ADDRLP4 8
INDIRI4
RETI4
ADDRGP4 $1077
JUMPV
LABELV $1084
line 1990
;1988:	}
;1989:
;1990:	a = level.clients[level.sortedClients[0]].ps.persistant[PERS_SCORE];
ADDRLP4 0
ADDRGP4 level+100
INDIRI4
CNSTI4 5604
MULI4
ADDRGP4 level
INDIRP4
ADDP4
CNSTI4 248
ADDP4
INDIRI4
ASGNI4
line 1991
;1991:	b = level.clients[level.sortedClients[1]].ps.persistant[PERS_SCORE];
ADDRLP4 4
ADDRGP4 level+100+4
INDIRI4
CNSTI4 5604
MULI4
ADDRGP4 level
INDIRP4
ADDP4
CNSTI4 248
ADDP4
INDIRI4
ASGNI4
line 1993
;1992:
;1993:	return a == b;
ADDRLP4 0
INDIRI4
ADDRLP4 4
INDIRI4
NEI4 $1098
ADDRLP4 8
CNSTI4 1
ASGNI4
ADDRGP4 $1099
JUMPV
LABELV $1098
ADDRLP4 8
CNSTI4 0
ASGNI4
LABELV $1099
ADDRLP4 8
INDIRI4
RETI4
LABELV $1077
endproc ScoreIsTied 12 0
export CheckExitRules
proc CheckExitRules 24 8
line 2005
;1994:}
;1995:
;1996:/*
;1997:=================
;1998:CheckExitRules
;1999:
;2000:There will be a delay between the time the exit is qualified for
;2001:and the time everyone is moved to the intermission spot, so you
;2002:can see the last frag.
;2003:=================
;2004:*/
;2005:void CheckExitRules( void ) {
line 2010
;2006: 	int			i;
;2007:	gclient_t	*cl;
;2008:	// if at the intermission, wait for all non-bots to
;2009:	// signal ready, then go to next level
;2010:	if ( level.intermissiontime ) {
ADDRGP4 level+9144
INDIRI4
CNSTI4 0
EQI4 $1101
line 2011
;2011:		CheckIntermissionExit ();
ADDRGP4 CheckIntermissionExit
CALLV
pop
line 2012
;2012:		return;
ADDRGP4 $1100
JUMPV
LABELV $1101
line 2016
;2013:	}
;2014:
;2015:#if MEETING	// JUHOX: during intermission wait for the players to signal ready
;2016:	if (level.meeting) {
ADDRGP4 level+24092
INDIRI4
CNSTI4 0
EQI4 $1104
line 2017
;2017:		CheckIntermissionExit();
ADDRGP4 CheckIntermissionExit
CALLV
pop
line 2018
;2018:		return;
ADDRGP4 $1100
JUMPV
LABELV $1104
line 2022
;2019:	}
;2020:#endif
;2021:
;2022:	if ( level.intermissionQueued ) {
ADDRGP4 level+9140
INDIRI4
CNSTI4 0
EQI4 $1107
line 2030
;2023:#ifdef MISSIONPACK
;2024:		int time = (g_singlePlayer.integer) ? SP_INTERMISSION_DELAY_TIME : INTERMISSION_DELAY_TIME;
;2025:		if ( level.time - level.intermissionQueued >= time ) {
;2026:			level.intermissionQueued = 0;
;2027:			BeginIntermission();
;2028:		}
;2029:#else
;2030:		if ( level.time - level.intermissionQueued >= INTERMISSION_DELAY_TIME ) {
ADDRGP4 level+32
INDIRI4
ADDRGP4 level+9140
INDIRI4
SUBI4
CNSTI4 1000
LTI4 $1100
line 2031
;2031:			level.intermissionQueued = 0;
ADDRGP4 level+9140
CNSTI4 0
ASGNI4
line 2032
;2032:			BeginIntermission();
ADDRGP4 BeginIntermission
CALLV
pop
line 2033
;2033:		}
line 2035
;2034:#endif
;2035:		return;
ADDRGP4 $1100
JUMPV
LABELV $1107
line 2039
;2036:	}
;2037:
;2038:#if MONSTER_MODE	// JUHOX: check STU exit rules
;2039:	if (g_gametype.integer == GT_STU) {
ADDRGP4 g_gametype+12
INDIRI4
CNSTI4 8
NEI4 $1115
line 2041
;2040:		if (
;2041:			g_artefacts.integer > 0 &&
ADDRGP4 g_artefacts+12
INDIRI4
CNSTI4 0
LEI4 $1118
ADDRGP4 g_artefacts+12
INDIRI4
CNSTI4 999
GEI4 $1118
ADDRGP4 level+44+4
INDIRI4
ADDRGP4 g_artefacts+12
INDIRI4
LTI4 $1118
line 2044
;2042:			g_artefacts.integer < 999 &&
;2043:			level.teamScores[TEAM_RED] >= g_artefacts.integer
;2044:		) {
line 2045
;2045:			switch (level.endPhase) {
ADDRLP4 8
ADDRGP4 level+23012
INDIRI4
ASGNI4
ADDRLP4 8
INDIRI4
CNSTI4 0
LTI4 $1125
ADDRLP4 8
INDIRI4
CNSTI4 5
GTI4 $1125
ADDRLP4 8
INDIRI4
CNSTI4 2
LSHI4
ADDRGP4 $1180
ADDP4
INDIRP4
JUMPV
data
align 4
LABELV $1180
address $1128
address $1138
address $1148
address $1156
address $1169
address $1177
code
LABELV $1128
line 2047
;2046:			case 0:
;2047:				level.endTime = level.time;
ADDRGP4 level+23028
ADDRGP4 level+32
INDIRI4
ASGNI4
line 2048
;2048:				level.endPhase = 1;
ADDRGP4 level+23012
CNSTI4 1
ASGNI4
line 2049
;2049:				level.endPhaseEnteredTime = level.time;
ADDRGP4 level+23016
ADDRGP4 level+32
INDIRI4
ASGNI4
line 2050
;2050:				if (g_skipEndSequence.integer) level.endPhase = 5;
ADDRGP4 g_skipEndSequence+12
INDIRI4
CNSTI4 0
EQI4 $1100
ADDRGP4 level+23012
CNSTI4 5
ASGNI4
line 2051
;2051:				break;
ADDRGP4 $1100
JUMPV
LABELV $1138
line 2053
;2052:			case 1:
;2053:				if (level.time < level.endTime + 5000) break;
ADDRGP4 level+32
INDIRI4
ADDRGP4 level+23028
INDIRI4
CNSTI4 5000
ADDI4
GEI4 $1139
ADDRGP4 $1100
JUMPV
LABELV $1139
line 2054
;2054:				{
line 2057
;2055:					gentity_t* te;
;2056:
;2057:					te = G_TempEntity(vec3_origin, EV_DISCHARGE_FLASH);
ADDRGP4 vec3_origin
ARGP4
CNSTI4 85
ARGI4
ADDRLP4 16
ADDRGP4 G_TempEntity
CALLP4
ASGNP4
ADDRLP4 12
ADDRLP4 16
INDIRP4
ASGNP4
line 2058
;2058:					if (te) {
ADDRLP4 12
INDIRP4
CVPU4 4
CNSTU4 0
EQU4 $1143
line 2059
;2059:						te->s.otherEntityNum = ENTITYNUM_NONE;
ADDRLP4 12
INDIRP4
CNSTI4 140
ADDP4
CNSTI4 1023
ASGNI4
line 2060
;2060:						te->r.svFlags |= SVF_BROADCAST;
ADDRLP4 20
ADDRLP4 12
INDIRP4
CNSTI4 424
ADDP4
ASGNP4
ADDRLP4 20
INDIRP4
ADDRLP4 20
INDIRP4
INDIRI4
CNSTI4 32
BORI4
ASGNI4
line 2061
;2061:					}
LABELV $1143
line 2062
;2062:				}
line 2063
;2063:				level.endPhase = 2;
ADDRGP4 level+23012
CNSTI4 2
ASGNI4
line 2064
;2064:				level.endPhaseEnteredTime = level.time;
ADDRGP4 level+23016
ADDRGP4 level+32
INDIRI4
ASGNI4
line 2065
;2065:				break;
ADDRGP4 $1100
JUMPV
LABELV $1148
line 2067
;2066:			case 2:
;2067:				if (level.time < level.endTime + 8000) break;
ADDRGP4 level+32
INDIRI4
ADDRGP4 level+23028
INDIRI4
CNSTI4 8000
ADDI4
GEI4 $1149
ADDRGP4 $1100
JUMPV
LABELV $1149
line 2068
;2068:				level.endPhase = 3;
ADDRGP4 level+23012
CNSTI4 3
ASGNI4
line 2069
;2069:				level.endPhaseEnteredTime = level.time;
ADDRGP4 level+23016
ADDRGP4 level+32
INDIRI4
ASGNI4
line 2070
;2070:				break;
ADDRGP4 $1100
JUMPV
LABELV $1156
line 2072
;2071:			case 3:
;2072:				G_ChargeMonsters(level.time - level.previousTime, 3000);
ADDRGP4 level+32
INDIRI4
ADDRGP4 level+36
INDIRI4
SUBI4
ARGI4
CNSTI4 3000
ARGI4
ADDRGP4 G_ChargeMonsters
CALLV
pop
line 2074
;2073:				if (
;2074:					level.time < level.endTime + 25000 ||
ADDRGP4 level+32
INDIRI4
ADDRGP4 level+23028
INDIRI4
CNSTI4 25000
ADDI4
LTI4 $1165
ADDRLP4 12
ADDRGP4 G_NumMonsters
CALLI4
ASGNI4
ADDRLP4 12
INDIRI4
CNSTI4 0
LEI4 $1159
ADDRGP4 level+32
INDIRI4
ADDRGP4 level+23028
INDIRI4
CNSTI4 35000
ADDI4
GEI4 $1159
LABELV $1165
line 2079
;2075:					(
;2076:						G_NumMonsters() > 0 &&
;2077:						level.time < level.endTime + 35000
;2078:					)
;2079:				) {
line 2080
;2080:					break;
ADDRGP4 $1100
JUMPV
LABELV $1159
line 2082
;2081:				}
;2082:				level.endPhase = 4;
ADDRGP4 level+23012
CNSTI4 4
ASGNI4
line 2083
;2083:				level.endPhaseEnteredTime = level.time;
ADDRGP4 level+23016
ADDRGP4 level+32
INDIRI4
ASGNI4
line 2084
;2084:				break;
ADDRGP4 $1100
JUMPV
LABELV $1169
line 2086
;2085:			case 4:
;2086:				if (level.time < level.endPhaseEnteredTime + 4000) break;
ADDRGP4 level+32
INDIRI4
ADDRGP4 level+23016
INDIRI4
CNSTI4 4000
ADDI4
GEI4 $1170
ADDRGP4 $1100
JUMPV
LABELV $1170
line 2087
;2087:				level.endPhase = 5;
ADDRGP4 level+23012
CNSTI4 5
ASGNI4
line 2088
;2088:				level.endPhaseEnteredTime = level.time;
ADDRGP4 level+23016
ADDRGP4 level+32
INDIRI4
ASGNI4
line 2089
;2089:				break;
ADDRGP4 $1100
JUMPV
LABELV $1177
LABELV $1125
line 2092
;2090:			case 5:
;2091:			default:
;2092:				trap_SendServerCommand( -1, "print \"The Universe has been saved!\n\"");
CNSTI4 -1
ARGI4
ADDRGP4 $1178
ARGP4
ADDRGP4 trap_SendServerCommand
CALLV
pop
line 2093
;2093:				LogExit("All artefacts collected.");
ADDRGP4 $1179
ARGP4
ADDRGP4 LogExit
CALLV
pop
line 2094
;2094:				break;
line 2096
;2095:			}
;2096:			return;
ADDRGP4 $1100
JUMPV
LABELV $1118
line 2099
;2097:		}
;2098:		if (
;2099:			g_fraglimit.integer > 0 &&
ADDRGP4 g_fraglimit+12
INDIRI4
CNSTI4 0
LEI4 $1181
ADDRGP4 level+44+8
INDIRI4
ADDRGP4 g_fraglimit+12
INDIRI4
LTI4 $1181
line 2101
;2100:			level.teamScores[TEAM_BLUE] >= g_fraglimit.integer
;2101:		) {
line 2102
;2102:			level.endTime = level.time;
ADDRGP4 level+23028
ADDRGP4 level+32
INDIRI4
ASGNI4
line 2103
;2103:			trap_SendServerCommand(-1, "print \"Monsters hit the fraglimit.\n\"");
CNSTI4 -1
ARGI4
ADDRGP4 $1189
ARGP4
ADDRGP4 trap_SendServerCommand
CALLV
pop
line 2104
;2104:			LogExit("Fraglimit hit.");
ADDRGP4 $1190
ARGP4
ADDRGP4 LogExit
CALLV
pop
line 2105
;2105:			return;
ADDRGP4 $1100
JUMPV
LABELV $1181
line 2107
;2106:		}
;2107:		if (level.overkilled) {
ADDRGP4 level+22996
INDIRI4
CNSTI4 0
EQI4 $1191
line 2108
;2108:			level.endTime = level.time;
ADDRGP4 level+23028
ADDRGP4 level+32
INDIRI4
ASGNI4
line 2109
;2109:			trap_SendServerCommand( -1, "print \"Monsters killed all hunters.\n\"");
CNSTI4 -1
ARGI4
ADDRGP4 $1196
ARGP4
ADDRGP4 trap_SendServerCommand
CALLV
pop
line 2110
;2110:			LogExit("Overkill.");
ADDRGP4 $1197
ARGP4
ADDRGP4 LogExit
CALLV
pop
line 2111
;2111:			return;
ADDRGP4 $1100
JUMPV
LABELV $1191
line 2113
;2112:		}
;2113:		if (g_timelimit.integer && !level.warmupTime) {
ADDRGP4 g_timelimit+12
INDIRI4
CNSTI4 0
EQI4 $1100
ADDRGP4 level+16
INDIRI4
CNSTI4 0
NEI4 $1100
line 2114
;2114:			if (level.time - level.startTime >= g_timelimit.integer*60000) {
ADDRGP4 level+32
INDIRI4
ADDRGP4 level+40
INDIRI4
SUBI4
ADDRGP4 g_timelimit+12
INDIRI4
CNSTI4 60000
MULI4
LTI4 $1100
line 2115
;2115:				level.endTime = level.time;
ADDRGP4 level+23028
ADDRGP4 level+32
INDIRI4
ASGNI4
line 2116
;2116:				trap_SendServerCommand( -1, "print \"Timelimit hit.\n\"");
CNSTI4 -1
ARGI4
ADDRGP4 $1209
ARGP4
ADDRGP4 trap_SendServerCommand
CALLV
pop
line 2117
;2117:				LogExit("Timelimit hit.");
ADDRGP4 $1210
ARGP4
ADDRGP4 LogExit
CALLV
pop
line 2118
;2118:				return;
ADDRGP4 $1100
JUMPV
line 2120
;2119:			}
;2120:		}
line 2122
;2121:		// do not apply other game types's exit rules
;2122:		return;
LABELV $1115
line 2126
;2123:	}
;2124:#endif
;2125:#if ESCAPE_MODE	// JUHOX: check EFH exit rules
;2126:	if (g_gametype.integer == GT_EFH) {
ADDRGP4 g_gametype+12
INDIRI4
CNSTI4 9
NEI4 $1211
line 2128
;2127:		if (
;2128:			level.efhGoalDistance > 0 &&
ADDRGP4 level+23048
INDIRI4
CNSTI4 0
LEI4 $1214
ADDRGP4 level+23044
INDIRI4
ADDRGP4 level+23048
INDIRI4
LTI4 $1214
ADDRGP4 g_debugEFH+12
INDIRI4
CNSTI4 0
NEI4 $1214
line 2131
;2129:			level.efhCoveredDistance >= level.efhGoalDistance &&
;2130:			!g_debugEFH.integer
;2131:		) {
line 2132
;2132:			level.endTime = level.time;
ADDRGP4 level+23028
ADDRGP4 level+32
INDIRI4
ASGNI4
line 2133
;2133:			trap_SendServerCommand(-1, "print \"Goal reached.\n\"");
CNSTI4 -1
ARGI4
ADDRGP4 $1222
ARGP4
ADDRGP4 trap_SendServerCommand
CALLV
pop
line 2134
;2134:			LogExit("Goal reached.");
ADDRGP4 $1223
ARGP4
ADDRGP4 LogExit
CALLV
pop
line 2135
;2135:			return;
ADDRGP4 $1100
JUMPV
LABELV $1214
line 2138
;2136:		}
;2137:		if (
;2138:			g_fraglimit.integer > 0 &&
ADDRGP4 g_fraglimit+12
INDIRI4
CNSTI4 0
LEI4 $1224
ADDRGP4 level+44+8
INDIRI4
ADDRGP4 g_fraglimit+12
INDIRI4
LTI4 $1224
ADDRGP4 g_debugEFH+12
INDIRI4
CNSTI4 0
NEI4 $1224
line 2141
;2139:			level.teamScores[TEAM_BLUE] >= g_fraglimit.integer &&
;2140:			!g_debugEFH.integer
;2141:		) {
line 2142
;2142:			level.endTime = level.time;
ADDRGP4 level+23028
ADDRGP4 level+32
INDIRI4
ASGNI4
line 2143
;2143:			trap_SendServerCommand(-1, "print \"Monsters hit the fraglimit.\n\"");
CNSTI4 -1
ARGI4
ADDRGP4 $1189
ARGP4
ADDRGP4 trap_SendServerCommand
CALLV
pop
line 2144
;2144:			LogExit("Fraglimit hit.");
ADDRGP4 $1190
ARGP4
ADDRGP4 LogExit
CALLV
pop
line 2145
;2145:			return;
ADDRGP4 $1100
JUMPV
LABELV $1224
line 2148
;2146:		}
;2147:		if (
;2148:			g_timelimit.integer > 0 &&
ADDRGP4 g_timelimit+12
INDIRI4
CNSTI4 0
LEI4 $1100
ADDRGP4 level+16
INDIRI4
CNSTI4 0
NEI4 $1100
ADDRGP4 g_debugEFH+12
INDIRI4
CNSTI4 0
NEI4 $1100
line 2151
;2149:			!level.warmupTime &&
;2150:			!g_debugEFH.integer
;2151:		) {
line 2154
;2152:			int time;
;2153:
;2154:			time = level.time - level.startTime;
ADDRLP4 8
ADDRGP4 level+32
INDIRI4
ADDRGP4 level+40
INDIRI4
SUBI4
ASGNI4
line 2155
;2155:			if (level.efhGoalDistance > 0) {
ADDRGP4 level+23048
INDIRI4
CNSTI4 0
LEI4 $1240
line 2156
;2156:				time -= (60000 * (level.efhGoalDistance - g_distanceLimit.integer) * g_timelimit.integer) / g_distanceLimit.integer;
ADDRLP4 8
ADDRLP4 8
INDIRI4
ADDRGP4 level+23048
INDIRI4
ADDRGP4 g_distanceLimit+12
INDIRI4
SUBI4
CNSTI4 60000
MULI4
ADDRGP4 g_timelimit+12
INDIRI4
MULI4
ADDRGP4 g_distanceLimit+12
INDIRI4
DIVI4
SUBI4
ASGNI4
line 2157
;2157:			}
LABELV $1240
line 2159
;2158:
;2159:			if (time >= g_timelimit.integer*60000) {
ADDRLP4 8
INDIRI4
ADDRGP4 g_timelimit+12
INDIRI4
CNSTI4 60000
MULI4
LTI4 $1100
line 2160
;2160:				level.endTime = level.time;
ADDRGP4 level+23028
ADDRGP4 level+32
INDIRI4
ASGNI4
line 2161
;2161:				trap_SendServerCommand( -1, "print \"Timelimit hit.\n\"");
CNSTI4 -1
ARGI4
ADDRGP4 $1209
ARGP4
ADDRGP4 trap_SendServerCommand
CALLV
pop
line 2162
;2162:				LogExit("Timelimit hit.");
ADDRGP4 $1210
ARGP4
ADDRGP4 LogExit
CALLV
pop
line 2163
;2163:				return;
ADDRGP4 $1100
JUMPV
line 2165
;2164:			}
;2165:		}
line 2167
;2166:		// do not apply other game types's exit rules
;2167:		return;
LABELV $1211
line 2172
;2168:	}
;2169:#endif
;2170:
;2171:	// check for sudden death
;2172:	if ( ScoreIsTied() ) {
ADDRLP4 8
ADDRGP4 ScoreIsTied
CALLI4
ASGNI4
ADDRLP4 8
INDIRI4
CNSTI4 0
EQI4 $1252
line 2174
;2173:		// always wait for sudden death
;2174:		return;
ADDRGP4 $1100
JUMPV
LABELV $1252
line 2177
;2175:	}
;2176:
;2177:	if ( g_timelimit.integer && !level.warmupTime ) {
ADDRGP4 g_timelimit+12
INDIRI4
CNSTI4 0
EQI4 $1254
ADDRGP4 level+16
INDIRI4
CNSTI4 0
NEI4 $1254
line 2178
;2178:		if ( level.time - level.startTime >= g_timelimit.integer*60000 ) {
ADDRGP4 level+32
INDIRI4
ADDRGP4 level+40
INDIRI4
SUBI4
ADDRGP4 g_timelimit+12
INDIRI4
CNSTI4 60000
MULI4
LTI4 $1258
line 2179
;2179:			trap_SendServerCommand( -1, "print \"Timelimit hit.\n\"");
CNSTI4 -1
ARGI4
ADDRGP4 $1209
ARGP4
ADDRGP4 trap_SendServerCommand
CALLV
pop
line 2180
;2180:			LogExit( "Timelimit hit." );
ADDRGP4 $1210
ARGP4
ADDRGP4 LogExit
CALLV
pop
line 2181
;2181:			return;
ADDRGP4 $1100
JUMPV
LABELV $1258
line 2183
;2182:		}
;2183:	}
LABELV $1254
line 2191
;2184:
;2185:#if 0	// JUHOX: always check exit rules, even if there's just one player
;2186:	if ( level.numPlayingClients < 2 ) {
;2187:		return;
;2188:	}
;2189:#endif
;2190:
;2191:	if ( g_gametype.integer < GT_CTF && g_fraglimit.integer ) {
ADDRGP4 g_gametype+12
INDIRI4
CNSTI4 4
GEI4 $1263
ADDRGP4 g_fraglimit+12
INDIRI4
CNSTI4 0
EQI4 $1263
line 2192
;2192:		if ( level.teamScores[TEAM_RED] >= g_fraglimit.integer ) {
ADDRGP4 level+44+4
INDIRI4
ADDRGP4 g_fraglimit+12
INDIRI4
LTI4 $1267
line 2193
;2193:			trap_SendServerCommand( -1, "print \"Red hit the fraglimit.\n\"" );
CNSTI4 -1
ARGI4
ADDRGP4 $1272
ARGP4
ADDRGP4 trap_SendServerCommand
CALLV
pop
line 2194
;2194:			LogExit( "Fraglimit hit." );
ADDRGP4 $1190
ARGP4
ADDRGP4 LogExit
CALLV
pop
line 2195
;2195:			return;
ADDRGP4 $1100
JUMPV
LABELV $1267
line 2198
;2196:		}
;2197:
;2198:		if ( level.teamScores[TEAM_BLUE] >= g_fraglimit.integer ) {
ADDRGP4 level+44+8
INDIRI4
ADDRGP4 g_fraglimit+12
INDIRI4
LTI4 $1273
line 2199
;2199:			trap_SendServerCommand( -1, "print \"Blue hit the fraglimit.\n\"" );
CNSTI4 -1
ARGI4
ADDRGP4 $1278
ARGP4
ADDRGP4 trap_SendServerCommand
CALLV
pop
line 2200
;2200:			LogExit( "Fraglimit hit." );
ADDRGP4 $1190
ARGP4
ADDRGP4 LogExit
CALLV
pop
line 2201
;2201:			return;
ADDRGP4 $1100
JUMPV
LABELV $1273
line 2204
;2202:		}
;2203:
;2204:		for ( i=0 ; i< g_maxclients.integer ; i++ ) {
ADDRLP4 4
CNSTI4 0
ASGNI4
ADDRGP4 $1282
JUMPV
LABELV $1279
line 2205
;2205:			cl = level.clients + i;
ADDRLP4 0
ADDRLP4 4
INDIRI4
CNSTI4 5604
MULI4
ADDRGP4 level
INDIRP4
ADDP4
ASGNP4
line 2206
;2206:			if ( cl->pers.connected != CON_CONNECTED ) {
ADDRLP4 0
INDIRP4
CNSTI4 468
ADDP4
INDIRI4
CNSTI4 2
EQI4 $1284
line 2207
;2207:				continue;
ADDRGP4 $1280
JUMPV
LABELV $1284
line 2209
;2208:			}
;2209:			if ( cl->sess.sessionTeam != TEAM_FREE ) {
ADDRLP4 0
INDIRP4
CNSTI4 696
ADDP4
INDIRI4
CNSTI4 0
EQI4 $1286
line 2210
;2210:				continue;
ADDRGP4 $1280
JUMPV
LABELV $1286
line 2213
;2211:			}
;2212:
;2213:			if ( cl->ps.persistant[PERS_SCORE] >= g_fraglimit.integer ) {
ADDRLP4 0
INDIRP4
CNSTI4 248
ADDP4
INDIRI4
ADDRGP4 g_fraglimit+12
INDIRI4
LTI4 $1288
line 2214
;2214:				LogExit( "Fraglimit hit." );
ADDRGP4 $1190
ARGP4
ADDRGP4 LogExit
CALLV
pop
line 2215
;2215:				trap_SendServerCommand( -1, va("print \"%s" S_COLOR_WHITE " hit the fraglimit.\n\"",
ADDRGP4 $1291
ARGP4
ADDRLP4 0
INDIRP4
CNSTI4 512
ADDP4
ARGP4
ADDRLP4 12
ADDRGP4 va
CALLP4
ASGNP4
CNSTI4 -1
ARGI4
ADDRLP4 12
INDIRP4
ARGP4
ADDRGP4 trap_SendServerCommand
CALLV
pop
line 2217
;2216:					cl->pers.netname ) );
;2217:				return;
ADDRGP4 $1100
JUMPV
LABELV $1288
line 2219
;2218:			}
;2219:		}
LABELV $1280
line 2204
ADDRLP4 4
ADDRLP4 4
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
LABELV $1282
ADDRLP4 4
INDIRI4
ADDRGP4 g_maxclients+12
INDIRI4
LTI4 $1279
line 2220
;2220:	}
LABELV $1263
line 2222
;2221:
;2222:	if ( g_gametype.integer >= GT_CTF && g_capturelimit.integer ) {
ADDRGP4 g_gametype+12
INDIRI4
CNSTI4 4
LTI4 $1292
ADDRGP4 g_capturelimit+12
INDIRI4
CNSTI4 0
EQI4 $1292
line 2224
;2223:
;2224:		if ( level.teamScores[TEAM_RED] >= g_capturelimit.integer ) {
ADDRGP4 level+44+4
INDIRI4
ADDRGP4 g_capturelimit+12
INDIRI4
LTI4 $1296
line 2225
;2225:			trap_SendServerCommand( -1, "print \"Red hit the capturelimit.\n\"" );
CNSTI4 -1
ARGI4
ADDRGP4 $1301
ARGP4
ADDRGP4 trap_SendServerCommand
CALLV
pop
line 2226
;2226:			LogExit( "Capturelimit hit." );
ADDRGP4 $1302
ARGP4
ADDRGP4 LogExit
CALLV
pop
line 2227
;2227:			return;
ADDRGP4 $1100
JUMPV
LABELV $1296
line 2230
;2228:		}
;2229:
;2230:		if ( level.teamScores[TEAM_BLUE] >= g_capturelimit.integer ) {
ADDRGP4 level+44+8
INDIRI4
ADDRGP4 g_capturelimit+12
INDIRI4
LTI4 $1303
line 2231
;2231:			trap_SendServerCommand( -1, "print \"Blue hit the capturelimit.\n\"" );
CNSTI4 -1
ARGI4
ADDRGP4 $1308
ARGP4
ADDRGP4 trap_SendServerCommand
CALLV
pop
line 2232
;2232:			LogExit( "Capturelimit hit." );
ADDRGP4 $1302
ARGP4
ADDRGP4 LogExit
CALLV
pop
line 2233
;2233:			return;
LABELV $1303
line 2235
;2234:		}
;2235:	}
LABELV $1292
line 2236
;2236:}
LABELV $1100
endproc CheckExitRules 24 8
export CheckTournament
proc CheckTournament 28 8
line 2256
;2237:
;2238:
;2239:
;2240:/*
;2241:========================================================================
;2242:
;2243:FUNCTIONS CALLED EVERY FRAME
;2244:
;2245:========================================================================
;2246:*/
;2247:
;2248:
;2249:/*
;2250:=============
;2251:CheckTournament
;2252:
;2253:Once a frame, check for changes in tournement player state
;2254:=============
;2255:*/
;2256:void CheckTournament( void ) {
line 2259
;2257:	// check because we run 3 game frames before calling Connect and/or ClientBegin
;2258:	// for clients on a map_restart
;2259:	if ( level.numPlayingClients == 0 ) {
ADDRGP4 level+96
INDIRI4
CNSTI4 0
NEI4 $1310
line 2260
;2260:		return;
ADDRGP4 $1309
JUMPV
LABELV $1310
line 2263
;2261:	}
;2262:
;2263:	if ( g_gametype.integer == GT_TOURNAMENT ) {
ADDRGP4 g_gametype+12
INDIRI4
CNSTI4 1
NEI4 $1313
line 2266
;2264:
;2265:		// pull in a spectator if needed
;2266:		if ( level.numPlayingClients < 2 ) {
ADDRGP4 level+96
INDIRI4
CNSTI4 2
GEI4 $1316
line 2267
;2267:			AddTournamentPlayer();
ADDRGP4 AddTournamentPlayer
CALLV
pop
line 2268
;2268:		}
LABELV $1316
line 2271
;2269:
;2270:		// if we don't have two players, go back to "waiting for players"
;2271:		if ( level.numPlayingClients != 2 ) {
ADDRGP4 level+96
INDIRI4
CNSTI4 2
EQI4 $1319
line 2272
;2272:			if ( level.warmupTime != -1 ) {
ADDRGP4 level+16
INDIRI4
CNSTI4 -1
EQI4 $1309
line 2273
;2273:				level.warmupTime = -1;
ADDRGP4 level+16
CNSTI4 -1
ASGNI4
line 2274
;2274:				trap_SetConfigstring( CS_WARMUP, va("%i", level.warmupTime) );
ADDRGP4 $579
ARGP4
ADDRGP4 level+16
INDIRI4
ARGI4
ADDRLP4 0
ADDRGP4 va
CALLP4
ASGNP4
CNSTI4 5
ARGI4
ADDRLP4 0
INDIRP4
ARGP4
ADDRGP4 trap_SetConfigstring
CALLV
pop
line 2275
;2275:				G_LogPrintf( "Warmup:\n" );
ADDRGP4 $1327
ARGP4
ADDRGP4 G_LogPrintf
CALLV
pop
line 2276
;2276:			}
line 2277
;2277:			return;
ADDRGP4 $1309
JUMPV
LABELV $1319
line 2280
;2278:		}
;2279:
;2280:		if ( level.warmupTime == 0 ) {
ADDRGP4 level+16
INDIRI4
CNSTI4 0
NEI4 $1328
line 2281
;2281:			return;
ADDRGP4 $1309
JUMPV
LABELV $1328
line 2285
;2282:		}
;2283:
;2284:		// if the warmup is changed at the console, restart it
;2285:		if ( g_warmup.modificationCount != level.warmupModificationCount ) {
ADDRGP4 g_warmup+4
INDIRI4
ADDRGP4 level+368
INDIRI4
EQI4 $1331
line 2286
;2286:			level.warmupModificationCount = g_warmup.modificationCount;
ADDRGP4 level+368
ADDRGP4 g_warmup+4
INDIRI4
ASGNI4
line 2287
;2287:			level.warmupTime = -1;
ADDRGP4 level+16
CNSTI4 -1
ASGNI4
line 2288
;2288:		}
LABELV $1331
line 2291
;2289:
;2290:		// if all players have arrived, start the countdown
;2291:		if ( level.warmupTime < 0 ) {
ADDRGP4 level+16
INDIRI4
CNSTI4 0
GEI4 $1338
line 2292
;2292:			if ( level.numPlayingClients == 2 ) {
ADDRGP4 level+96
INDIRI4
CNSTI4 2
NEI4 $1309
line 2294
;2293:				// fudge by -1 to account for extra delays
;2294:				level.warmupTime = level.time + ( g_warmup.integer - 1 ) * 1000;
ADDRGP4 level+16
ADDRGP4 level+32
INDIRI4
ADDRGP4 g_warmup+12
INDIRI4
CNSTI4 1000
MULI4
CNSTI4 1000
SUBI4
ADDI4
ASGNI4
line 2295
;2295:				trap_SetConfigstring( CS_WARMUP, va("%i", level.warmupTime) );
ADDRGP4 $579
ARGP4
ADDRGP4 level+16
INDIRI4
ARGI4
ADDRLP4 0
ADDRGP4 va
CALLP4
ASGNP4
CNSTI4 5
ARGI4
ADDRLP4 0
INDIRP4
ARGP4
ADDRGP4 trap_SetConfigstring
CALLV
pop
line 2296
;2296:			}
line 2297
;2297:			return;
ADDRGP4 $1309
JUMPV
LABELV $1338
line 2301
;2298:		}
;2299:
;2300:		// if the warmup time has counted down, restart
;2301:		if ( level.time > level.warmupTime ) {
ADDRGP4 level+32
INDIRI4
ADDRGP4 level+16
INDIRI4
LEI4 $1314
line 2302
;2302:			level.warmupTime += 10000;
ADDRLP4 0
ADDRGP4 level+16
ASGNP4
ADDRLP4 0
INDIRP4
ADDRLP4 0
INDIRP4
INDIRI4
CNSTI4 10000
ADDI4
ASGNI4
line 2303
;2303:			trap_Cvar_Set( "g_restarted", "1" );
ADDRGP4 $95
ARGP4
ADDRGP4 $104
ARGP4
ADDRGP4 trap_Cvar_Set
CALLV
pop
line 2304
;2304:			trap_SendConsoleCommand( EXEC_APPEND, "map_restart 0\n" );
CNSTI4 2
ARGI4
ADDRGP4 $923
ARGP4
ADDRGP4 trap_SendConsoleCommand
CALLV
pop
line 2305
;2305:			level.restarted = qtrue;
ADDRGP4 level+84
CNSTI4 1
ASGNI4
line 2306
;2306:			return;
ADDRGP4 $1309
JUMPV
line 2308
;2307:		}
;2308:	} else if ( g_gametype.integer != GT_SINGLE_PLAYER && level.warmupTime != 0 ) {
LABELV $1313
ADDRGP4 g_gametype+12
INDIRI4
CNSTI4 2
EQI4 $1354
ADDRGP4 level+16
INDIRI4
CNSTI4 0
EQI4 $1354
line 2310
;2309:		int		counts[TEAM_NUM_TEAMS];
;2310:		qboolean	notEnough = qfalse;
ADDRLP4 0
CNSTI4 0
ASGNI4
line 2312
;2311:
;2312:		if ( g_gametype.integer > GT_TEAM ) {
ADDRGP4 g_gametype+12
INDIRI4
CNSTI4 3
LEI4 $1358
line 2313
;2313:			counts[TEAM_BLUE] = TeamCount( -1, TEAM_BLUE );
CNSTI4 -1
ARGI4
CNSTI4 2
ARGI4
ADDRLP4 20
ADDRGP4 TeamCount
CALLI4
ASGNI4
ADDRLP4 4+8
ADDRLP4 20
INDIRI4
ASGNI4
line 2314
;2314:			counts[TEAM_RED] = TeamCount( -1, TEAM_RED );
CNSTI4 -1
ARGI4
CNSTI4 1
ARGI4
ADDRLP4 24
ADDRGP4 TeamCount
CALLI4
ASGNI4
ADDRLP4 4+4
ADDRLP4 24
INDIRI4
ASGNI4
line 2316
;2315:
;2316:			if (counts[TEAM_RED] < 1 || counts[TEAM_BLUE] < 1) {
ADDRLP4 4+4
INDIRI4
CNSTI4 1
LTI4 $1367
ADDRLP4 4+8
INDIRI4
CNSTI4 1
GEI4 $1359
LABELV $1367
line 2317
;2317:				notEnough = qtrue;
ADDRLP4 0
CNSTI4 1
ASGNI4
line 2318
;2318:			}
line 2319
;2319:		} else if ( level.numPlayingClients < 2 ) {
ADDRGP4 $1359
JUMPV
LABELV $1358
ADDRGP4 level+96
INDIRI4
CNSTI4 2
GEI4 $1368
line 2320
;2320:			notEnough = qtrue;
ADDRLP4 0
CNSTI4 1
ASGNI4
line 2321
;2321:		}
LABELV $1368
LABELV $1359
line 2325
;2322:
;2323:		// JUHOX: warmup waiting condition for STU
;2324:#if MONSTER_MODE
;2325:		if (g_gametype.integer >= GT_STU) {
ADDRGP4 g_gametype+12
INDIRI4
CNSTI4 8
LTI4 $1371
line 2326
;2326:			notEnough = (level.numPlayingClients < 1);
ADDRGP4 level+96
INDIRI4
CNSTI4 1
GEI4 $1376
ADDRLP4 20
CNSTI4 1
ASGNI4
ADDRGP4 $1377
JUMPV
LABELV $1376
ADDRLP4 20
CNSTI4 0
ASGNI4
LABELV $1377
ADDRLP4 0
ADDRLP4 20
INDIRI4
ASGNI4
line 2327
;2327:		}
LABELV $1371
line 2330
;2328:#endif
;2329:
;2330:		if ( notEnough ) {
ADDRLP4 0
INDIRI4
CNSTI4 0
EQI4 $1378
line 2331
;2331:			if ( level.warmupTime != -1 ) {
ADDRGP4 level+16
INDIRI4
CNSTI4 -1
EQI4 $1309
line 2332
;2332:				level.warmupTime = -1;
ADDRGP4 level+16
CNSTI4 -1
ASGNI4
line 2333
;2333:				trap_SetConfigstring( CS_WARMUP, va("%i", level.warmupTime) );
ADDRGP4 $579
ARGP4
ADDRGP4 level+16
INDIRI4
ARGI4
ADDRLP4 20
ADDRGP4 va
CALLP4
ASGNP4
CNSTI4 5
ARGI4
ADDRLP4 20
INDIRP4
ARGP4
ADDRGP4 trap_SetConfigstring
CALLV
pop
line 2334
;2334:				G_LogPrintf( "Warmup:\n" );
ADDRGP4 $1327
ARGP4
ADDRGP4 G_LogPrintf
CALLV
pop
line 2335
;2335:			}
line 2336
;2336:			return; // still waiting for team members
ADDRGP4 $1309
JUMPV
LABELV $1378
line 2339
;2337:		}
;2338:
;2339:		if ( level.warmupTime == 0 ) {
ADDRGP4 level+16
INDIRI4
CNSTI4 0
NEI4 $1385
line 2340
;2340:			return;
ADDRGP4 $1309
JUMPV
LABELV $1385
line 2344
;2341:		}
;2342:
;2343:		// if the warmup is changed at the console, restart it
;2344:		if ( g_warmup.modificationCount != level.warmupModificationCount ) {
ADDRGP4 g_warmup+4
INDIRI4
ADDRGP4 level+368
INDIRI4
EQI4 $1388
line 2345
;2345:			level.warmupModificationCount = g_warmup.modificationCount;
ADDRGP4 level+368
ADDRGP4 g_warmup+4
INDIRI4
ASGNI4
line 2346
;2346:			level.warmupTime = -1;
ADDRGP4 level+16
CNSTI4 -1
ASGNI4
line 2347
;2347:		}
LABELV $1388
line 2350
;2348:
;2349:		// if all players have arrived, start the countdown
;2350:		if ( level.warmupTime < 0 ) {
ADDRGP4 level+16
INDIRI4
CNSTI4 0
GEI4 $1395
line 2352
;2351:			// fudge by -1 to account for extra delays
;2352:			level.warmupTime = level.time + ( g_warmup.integer - 1 ) * 1000;
ADDRGP4 level+16
ADDRGP4 level+32
INDIRI4
ADDRGP4 g_warmup+12
INDIRI4
CNSTI4 1000
MULI4
CNSTI4 1000
SUBI4
ADDI4
ASGNI4
line 2353
;2353:			trap_SetConfigstring( CS_WARMUP, va("%i", level.warmupTime) );
ADDRGP4 $579
ARGP4
ADDRGP4 level+16
INDIRI4
ARGI4
ADDRLP4 20
ADDRGP4 va
CALLP4
ASGNP4
CNSTI4 5
ARGI4
ADDRLP4 20
INDIRP4
ARGP4
ADDRGP4 trap_SetConfigstring
CALLV
pop
line 2354
;2354:			return;
ADDRGP4 $1309
JUMPV
LABELV $1395
line 2358
;2355:		}
;2356:
;2357:		// if the warmup time has counted down, restart
;2358:		if ( level.time > level.warmupTime ) {
ADDRGP4 level+32
INDIRI4
ADDRGP4 level+16
INDIRI4
LEI4 $1402
line 2359
;2359:			level.warmupTime += 10000;
ADDRLP4 20
ADDRGP4 level+16
ASGNP4
ADDRLP4 20
INDIRP4
ADDRLP4 20
INDIRP4
INDIRI4
CNSTI4 10000
ADDI4
ASGNI4
line 2360
;2360:			trap_Cvar_Set( "g_restarted", "1" );
ADDRGP4 $95
ARGP4
ADDRGP4 $104
ARGP4
ADDRGP4 trap_Cvar_Set
CALLV
pop
line 2361
;2361:			trap_SendConsoleCommand( EXEC_APPEND, "map_restart 0\n" );
CNSTI4 2
ARGI4
ADDRGP4 $923
ARGP4
ADDRGP4 trap_SendConsoleCommand
CALLV
pop
line 2362
;2362:			level.restarted = qtrue;
ADDRGP4 level+84
CNSTI4 1
ASGNI4
line 2363
;2363:			return;
LABELV $1402
line 2365
;2364:		}
;2365:	}
LABELV $1354
LABELV $1314
line 2366
;2366:}
LABELV $1309
endproc CheckTournament 28 8
export CheckVote
proc CheckVote 4 8
line 2374
;2367:
;2368:
;2369:/*
;2370:==================
;2371:CheckVote
;2372:==================
;2373:*/
;2374:void CheckVote( void ) {
line 2375
;2375:	if ( level.voteExecuteTime && level.voteExecuteTime < level.time ) {
ADDRGP4 level+2424
INDIRI4
CNSTI4 0
EQI4 $1409
ADDRGP4 level+2424
INDIRI4
ADDRGP4 level+32
INDIRI4
GEI4 $1409
line 2376
;2376:		level.voteExecuteTime = 0;
ADDRGP4 level+2424
CNSTI4 0
ASGNI4
line 2377
;2377:		trap_SendConsoleCommand( EXEC_APPEND, va("%s\n", level.voteString ) );
ADDRGP4 $1415
ARGP4
ADDRGP4 level+372
ARGP4
ADDRLP4 0
ADDRGP4 va
CALLP4
ASGNP4
CNSTI4 2
ARGI4
ADDRLP4 0
INDIRP4
ARGP4
ADDRGP4 trap_SendConsoleCommand
CALLV
pop
line 2378
;2378:	}
LABELV $1409
line 2379
;2379:	if ( !level.voteTime ) {
ADDRGP4 level+2420
INDIRI4
CNSTI4 0
NEI4 $1417
line 2380
;2380:		return;
ADDRGP4 $1408
JUMPV
LABELV $1417
line 2382
;2381:	}
;2382:	if ( level.time - level.voteTime >= VOTE_TIME ) {
ADDRGP4 level+32
INDIRI4
ADDRGP4 level+2420
INDIRI4
SUBI4
CNSTI4 30000
LTI4 $1420
line 2383
;2383:		trap_SendServerCommand( -1, "print \"Vote failed.\n\"" );
CNSTI4 -1
ARGI4
ADDRGP4 $1424
ARGP4
ADDRGP4 trap_SendServerCommand
CALLV
pop
line 2384
;2384:	} else {
ADDRGP4 $1421
JUMPV
LABELV $1420
line 2386
;2385:		// ATVI Q3 1.32 Patch #9, WNF
;2386:		if ( level.voteYes > level.numVotingClients/2 ) {
ADDRGP4 level+2428
INDIRI4
ADDRGP4 level+2436
INDIRI4
CNSTI4 2
DIVI4
LEI4 $1425
line 2388
;2387:			// execute the command, then remove the vote
;2388:			trap_SendServerCommand( -1, "print \"Vote passed.\n\"" );
CNSTI4 -1
ARGI4
ADDRGP4 $1429
ARGP4
ADDRGP4 trap_SendServerCommand
CALLV
pop
line 2389
;2389:			level.voteExecuteTime = level.time + 3000;
ADDRGP4 level+2424
ADDRGP4 level+32
INDIRI4
CNSTI4 3000
ADDI4
ASGNI4
line 2390
;2390:		} else if ( level.voteNo >= level.numVotingClients/2 ) {
ADDRGP4 $1426
JUMPV
LABELV $1425
ADDRGP4 level+2432
INDIRI4
ADDRGP4 level+2436
INDIRI4
CNSTI4 2
DIVI4
LTI4 $1408
line 2392
;2391:			// same behavior as a timeout
;2392:			trap_SendServerCommand( -1, "print \"Vote failed.\n\"" );
CNSTI4 -1
ARGI4
ADDRGP4 $1424
ARGP4
ADDRGP4 trap_SendServerCommand
CALLV
pop
line 2393
;2393:		} else {
line 2395
;2394:			// still waiting for a majority
;2395:			return;
LABELV $1433
LABELV $1426
line 2397
;2396:		}
;2397:	}
LABELV $1421
line 2398
;2398:	level.voteTime = 0;
ADDRGP4 level+2420
CNSTI4 0
ASGNI4
line 2399
;2399:	trap_SetConfigstring( CS_VOTE_TIME, "" );
CNSTI4 8
ARGI4
ADDRGP4 $90
ARGP4
ADDRGP4 trap_SetConfigstring
CALLV
pop
line 2401
;2400:
;2401:}
LABELV $1408
endproc CheckVote 4 8
export PrintTeam
proc PrintTeam 4 8
line 2408
;2402:
;2403:/*
;2404:==================
;2405:PrintTeam
;2406:==================
;2407:*/
;2408:void PrintTeam(int team, char *message) {
line 2411
;2409:	int i;
;2410:
;2411:	for ( i = 0 ; i < level.maxclients ; i++ ) {
ADDRLP4 0
CNSTI4 0
ASGNI4
ADDRGP4 $1441
JUMPV
LABELV $1438
line 2412
;2412:		if (level.clients[i].sess.sessionTeam != team)
ADDRLP4 0
INDIRI4
CNSTI4 5604
MULI4
ADDRGP4 level
INDIRP4
ADDP4
CNSTI4 696
ADDP4
INDIRI4
ADDRFP4 0
INDIRI4
EQI4 $1443
line 2413
;2413:			continue;
ADDRGP4 $1439
JUMPV
LABELV $1443
line 2414
;2414:		trap_SendServerCommand( i, message );
ADDRLP4 0
INDIRI4
ARGI4
ADDRFP4 4
INDIRP4
ARGP4
ADDRGP4 trap_SendServerCommand
CALLV
pop
line 2415
;2415:	}
LABELV $1439
line 2411
ADDRLP4 0
ADDRLP4 0
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
LABELV $1441
ADDRLP4 0
INDIRI4
ADDRGP4 level+24
INDIRI4
LTI4 $1438
line 2416
;2416:}
LABELV $1437
endproc PrintTeam 4 8
export SetLeader
proc SetLeader 8 8
line 2423
;2417:
;2418:/*
;2419:==================
;2420:SetLeader
;2421:==================
;2422:*/
;2423:void SetLeader(int team, int client) {
line 2426
;2424:	int i;
;2425:
;2426:	if ( level.clients[client].pers.connected == CON_DISCONNECTED ) {
ADDRFP4 4
INDIRI4
CNSTI4 5604
MULI4
ADDRGP4 level
INDIRP4
ADDP4
CNSTI4 468
ADDP4
INDIRI4
CNSTI4 0
NEI4 $1446
line 2427
;2427:		PrintTeam(team, va("print \"%s is not connected\n\"", level.clients[client].pers.netname) );
ADDRGP4 $1448
ARGP4
ADDRFP4 4
INDIRI4
CNSTI4 5604
MULI4
ADDRGP4 level
INDIRP4
ADDP4
CNSTI4 512
ADDP4
ARGP4
ADDRLP4 4
ADDRGP4 va
CALLP4
ASGNP4
ADDRFP4 0
INDIRI4
ARGI4
ADDRLP4 4
INDIRP4
ARGP4
ADDRGP4 PrintTeam
CALLV
pop
line 2428
;2428:		return;
ADDRGP4 $1445
JUMPV
LABELV $1446
line 2430
;2429:	}
;2430:	if (level.clients[client].sess.sessionTeam != team) {
ADDRFP4 4
INDIRI4
CNSTI4 5604
MULI4
ADDRGP4 level
INDIRP4
ADDP4
CNSTI4 696
ADDP4
INDIRI4
ADDRFP4 0
INDIRI4
EQI4 $1449
line 2431
;2431:		PrintTeam(team, va("print \"%s is not on the team anymore\n\"", level.clients[client].pers.netname) );
ADDRGP4 $1451
ARGP4
ADDRFP4 4
INDIRI4
CNSTI4 5604
MULI4
ADDRGP4 level
INDIRP4
ADDP4
CNSTI4 512
ADDP4
ARGP4
ADDRLP4 4
ADDRGP4 va
CALLP4
ASGNP4
ADDRFP4 0
INDIRI4
ARGI4
ADDRLP4 4
INDIRP4
ARGP4
ADDRGP4 PrintTeam
CALLV
pop
line 2432
;2432:		return;
ADDRGP4 $1445
JUMPV
LABELV $1449
line 2434
;2433:	}
;2434:	for ( i = 0 ; i < level.maxclients ; i++ ) {
ADDRLP4 0
CNSTI4 0
ASGNI4
ADDRGP4 $1455
JUMPV
LABELV $1452
line 2435
;2435:		if (level.clients[i].sess.sessionTeam != team)
ADDRLP4 0
INDIRI4
CNSTI4 5604
MULI4
ADDRGP4 level
INDIRP4
ADDP4
CNSTI4 696
ADDP4
INDIRI4
ADDRFP4 0
INDIRI4
EQI4 $1457
line 2436
;2436:			continue;
ADDRGP4 $1453
JUMPV
LABELV $1457
line 2437
;2437:		if (level.clients[i].sess.teamLeader) {
ADDRLP4 0
INDIRI4
CNSTI4 5604
MULI4
ADDRGP4 level
INDIRP4
ADDP4
CNSTI4 720
ADDP4
INDIRI4
CNSTI4 0
EQI4 $1459
line 2438
;2438:			level.clients[i].sess.teamLeader = qfalse;
ADDRLP4 0
INDIRI4
CNSTI4 5604
MULI4
ADDRGP4 level
INDIRP4
ADDP4
CNSTI4 720
ADDP4
CNSTI4 0
ASGNI4
line 2439
;2439:			if (level.clients[i].tssSafetyMode) respawn(&g_entities[i]);	// JUHOX
ADDRLP4 0
INDIRI4
CNSTI4 5604
MULI4
ADDRGP4 level
INDIRP4
ADDP4
CNSTI4 768
ADDP4
INDIRI4
CNSTI4 0
EQI4 $1461
ADDRLP4 0
INDIRI4
CNSTI4 844
MULI4
ADDRGP4 g_entities
ADDP4
ARGP4
ADDRGP4 respawn
CALLV
pop
LABELV $1461
line 2440
;2440:			ClientUserinfoChanged(i);
ADDRLP4 0
INDIRI4
ARGI4
ADDRGP4 ClientUserinfoChanged
CALLV
pop
line 2441
;2441:		}
LABELV $1459
line 2442
;2442:	}
LABELV $1453
line 2434
ADDRLP4 0
ADDRLP4 0
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
LABELV $1455
ADDRLP4 0
INDIRI4
ADDRGP4 level+24
INDIRI4
LTI4 $1452
line 2443
;2443:	level.clients[client].sess.teamLeader = qtrue;
ADDRFP4 4
INDIRI4
CNSTI4 5604
MULI4
ADDRGP4 level
INDIRP4
ADDP4
CNSTI4 720
ADDP4
CNSTI4 1
ASGNI4
line 2444
;2444:	ClientUserinfoChanged( client );
ADDRFP4 4
INDIRI4
ARGI4
ADDRGP4 ClientUserinfoChanged
CALLV
pop
line 2445
;2445:	PrintTeam(team, va("print \"%s is the new team leader\n\"", level.clients[client].pers.netname) );
ADDRGP4 $1463
ARGP4
ADDRFP4 4
INDIRI4
CNSTI4 5604
MULI4
ADDRGP4 level
INDIRP4
ADDP4
CNSTI4 512
ADDP4
ARGP4
ADDRLP4 4
ADDRGP4 va
CALLP4
ASGNP4
ADDRFP4 0
INDIRI4
ARGI4
ADDRLP4 4
INDIRP4
ARGP4
ADDRGP4 PrintTeam
CALLV
pop
line 2446
;2446:}
LABELV $1445
endproc SetLeader 8 8
export CheckTeamLeader
proc CheckTeamLeader 4 0
line 2453
;2447:
;2448:/*
;2449:==================
;2450:CheckTeamLeader
;2451:==================
;2452:*/
;2453:void CheckTeamLeader( int team ) {
line 2456
;2454:	int i;
;2455:
;2456:	for ( i = 0 ; i < level.maxclients ; i++ ) {
ADDRLP4 0
CNSTI4 0
ASGNI4
ADDRGP4 $1468
JUMPV
LABELV $1465
line 2457
;2457:		if (level.clients[i].sess.sessionTeam != team)
ADDRLP4 0
INDIRI4
CNSTI4 5604
MULI4
ADDRGP4 level
INDIRP4
ADDP4
CNSTI4 696
ADDP4
INDIRI4
ADDRFP4 0
INDIRI4
EQI4 $1470
line 2458
;2458:			continue;
ADDRGP4 $1466
JUMPV
LABELV $1470
line 2459
;2459:		if (level.clients[i].sess.teamLeader)
ADDRLP4 0
INDIRI4
CNSTI4 5604
MULI4
ADDRGP4 level
INDIRP4
ADDP4
CNSTI4 720
ADDP4
INDIRI4
CNSTI4 0
EQI4 $1472
line 2460
;2460:			break;
ADDRGP4 $1467
JUMPV
LABELV $1472
line 2461
;2461:	}
LABELV $1466
line 2456
ADDRLP4 0
ADDRLP4 0
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
LABELV $1468
ADDRLP4 0
INDIRI4
ADDRGP4 level+24
INDIRI4
LTI4 $1465
LABELV $1467
line 2462
;2462:	if (i >= level.maxclients) {
ADDRLP4 0
INDIRI4
ADDRGP4 level+24
INDIRI4
LTI4 $1474
line 2463
;2463:		for ( i = 0 ; i < level.maxclients ; i++ ) {
ADDRLP4 0
CNSTI4 0
ASGNI4
ADDRGP4 $1480
JUMPV
LABELV $1477
line 2464
;2464:			if (level.clients[i].sess.sessionTeam != team)
ADDRLP4 0
INDIRI4
CNSTI4 5604
MULI4
ADDRGP4 level
INDIRP4
ADDP4
CNSTI4 696
ADDP4
INDIRI4
ADDRFP4 0
INDIRI4
EQI4 $1482
line 2465
;2465:				continue;
ADDRGP4 $1478
JUMPV
LABELV $1482
line 2466
;2466:			if (!(g_entities[i].r.svFlags & SVF_BOT)) {
ADDRLP4 0
INDIRI4
CNSTI4 844
MULI4
ADDRGP4 g_entities+208+216
ADDP4
INDIRI4
CNSTI4 8
BANDI4
CNSTI4 0
NEI4 $1484
line 2467
;2467:				level.clients[i].sess.teamLeader = qtrue;
ADDRLP4 0
INDIRI4
CNSTI4 5604
MULI4
ADDRGP4 level
INDIRP4
ADDP4
CNSTI4 720
ADDP4
CNSTI4 1
ASGNI4
line 2468
;2468:				/*break;*/return;	// JUHOX BUGFIX
ADDRGP4 $1464
JUMPV
LABELV $1484
line 2470
;2469:			}
;2470:		}
LABELV $1478
line 2463
ADDRLP4 0
ADDRLP4 0
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
LABELV $1480
ADDRLP4 0
INDIRI4
ADDRGP4 level+24
INDIRI4
LTI4 $1477
line 2471
;2471:		for ( i = 0 ; i < level.maxclients ; i++ ) {
ADDRLP4 0
CNSTI4 0
ASGNI4
ADDRGP4 $1491
JUMPV
LABELV $1488
line 2472
;2472:			if (level.clients[i].sess.sessionTeam != team)
ADDRLP4 0
INDIRI4
CNSTI4 5604
MULI4
ADDRGP4 level
INDIRP4
ADDP4
CNSTI4 696
ADDP4
INDIRI4
ADDRFP4 0
INDIRI4
EQI4 $1493
line 2473
;2473:				continue;
ADDRGP4 $1489
JUMPV
LABELV $1493
line 2474
;2474:			level.clients[i].sess.teamLeader = qtrue;
ADDRLP4 0
INDIRI4
CNSTI4 5604
MULI4
ADDRGP4 level
INDIRP4
ADDP4
CNSTI4 720
ADDP4
CNSTI4 1
ASGNI4
line 2475
;2475:			break;
ADDRGP4 $1490
JUMPV
LABELV $1489
line 2471
ADDRLP4 0
ADDRLP4 0
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
LABELV $1491
ADDRLP4 0
INDIRI4
ADDRGP4 level+24
INDIRI4
LTI4 $1488
LABELV $1490
line 2477
;2476:		}
;2477:	}
LABELV $1474
line 2478
;2478:}
LABELV $1464
endproc CheckTeamLeader 4 0
export CheckTeamVote
proc CheckTeamVote 28 12
line 2485
;2479:
;2480:/*
;2481:==================
;2482:CheckTeamVote
;2483:==================
;2484:*/
;2485:void CheckTeamVote( int team ) {
line 2488
;2486:	int cs_offset;
;2487:
;2488:	if ( team == TEAM_RED )
ADDRFP4 0
INDIRI4
CNSTI4 1
NEI4 $1496
line 2489
;2489:		cs_offset = 0;
ADDRLP4 0
CNSTI4 0
ASGNI4
ADDRGP4 $1497
JUMPV
LABELV $1496
line 2490
;2490:	else if ( team == TEAM_BLUE )
ADDRFP4 0
INDIRI4
CNSTI4 2
NEI4 $1495
line 2491
;2491:		cs_offset = 1;
ADDRLP4 0
CNSTI4 1
ASGNI4
line 2493
;2492:	else
;2493:		return;
LABELV $1499
LABELV $1497
line 2495
;2494:
;2495:	if ( !level.teamVoteTime[cs_offset] ) {
ADDRLP4 0
INDIRI4
CNSTI4 2
LSHI4
ADDRGP4 level+4488
ADDP4
INDIRI4
CNSTI4 0
NEI4 $1500
line 2496
;2496:		return;
ADDRGP4 $1495
JUMPV
LABELV $1500
line 2498
;2497:	}
;2498:	if ( level.time - level.teamVoteTime[cs_offset] >= VOTE_TIME ) {
ADDRGP4 level+32
INDIRI4
ADDRLP4 0
INDIRI4
CNSTI4 2
LSHI4
ADDRGP4 level+4488
ADDP4
INDIRI4
SUBI4
CNSTI4 30000
LTI4 $1503
line 2499
;2499:		trap_SendServerCommand( -1, "print \"Team vote failed.\n\"" );
CNSTI4 -1
ARGI4
ADDRGP4 $1507
ARGP4
ADDRGP4 trap_SendServerCommand
CALLV
pop
line 2500
;2500:	} else {
ADDRGP4 $1504
JUMPV
LABELV $1503
line 2501
;2501:		if ( level.teamVoteYes[cs_offset] > level.numteamVotingClients[cs_offset]/2 ) {
ADDRLP4 0
INDIRI4
CNSTI4 2
LSHI4
ADDRGP4 level+4496
ADDP4
INDIRI4
ADDRLP4 0
INDIRI4
CNSTI4 2
LSHI4
ADDRGP4 level+4512
ADDP4
INDIRI4
CNSTI4 2
DIVI4
LEI4 $1508
line 2503
;2502:			// execute the command, then remove the vote
;2503:			trap_SendServerCommand( -1, "print \"Team vote passed.\n\"" );
CNSTI4 -1
ARGI4
ADDRGP4 $1512
ARGP4
ADDRGP4 trap_SendServerCommand
CALLV
pop
line 2505
;2504:			//
;2505:			if ( !Q_strncmp( "leader", level.teamVoteString[cs_offset], 6) ) {
ADDRGP4 $1515
ARGP4
ADDRLP4 0
INDIRI4
CNSTI4 10
LSHI4
ADDRGP4 level+2440
ADDP4
ARGP4
CNSTI4 6
ARGI4
ADDRLP4 8
ADDRGP4 Q_strncmp
CALLI4
ASGNI4
ADDRLP4 8
INDIRI4
CNSTI4 0
NEI4 $1513
line 2507
;2506:				//set the team leader
;2507:				SetLeader(team, atoi(level.teamVoteString[cs_offset] + 7));
ADDRLP4 0
INDIRI4
CNSTI4 10
LSHI4
ADDRGP4 level+2440+7
ADDP4
ARGP4
ADDRLP4 12
ADDRGP4 atoi
CALLI4
ASGNI4
ADDRFP4 0
INDIRI4
ARGI4
ADDRLP4 12
INDIRI4
ARGI4
ADDRGP4 SetLeader
CALLV
pop
line 2508
;2508:			}
ADDRGP4 $1509
JUMPV
LABELV $1513
line 2510
;2509:#if 1	// JUHOX: execute surrendering
;2510:			else if (!Q_strncmp("surrender", level.teamVoteString[cs_offset], 9)) {
ADDRGP4 $1521
ARGP4
ADDRLP4 0
INDIRI4
CNSTI4 10
LSHI4
ADDRGP4 level+2440
ADDP4
ARGP4
CNSTI4 9
ARGI4
ADDRLP4 12
ADDRGP4 Q_strncmp
CALLI4
ASGNI4
ADDRLP4 12
INDIRI4
CNSTI4 0
NEI4 $1519
line 2511
;2511:				level.teamScores[team==TEAM_RED? TEAM_BLUE : TEAM_RED] += g_gametype.integer == GT_CTF? 2 : 5;
ADDRFP4 0
INDIRI4
CNSTI4 1
NEI4 $1527
ADDRLP4 16
CNSTI4 2
ASGNI4
ADDRGP4 $1528
JUMPV
LABELV $1527
ADDRLP4 16
CNSTI4 1
ASGNI4
LABELV $1528
ADDRGP4 g_gametype+12
INDIRI4
CNSTI4 4
NEI4 $1529
ADDRLP4 20
CNSTI4 2
ASGNI4
ADDRGP4 $1530
JUMPV
LABELV $1529
ADDRLP4 20
CNSTI4 5
ASGNI4
LABELV $1530
ADDRLP4 24
ADDRLP4 16
INDIRI4
CNSTI4 2
LSHI4
ADDRGP4 level+44
ADDP4
ASGNP4
ADDRLP4 24
INDIRP4
ADDRLP4 24
INDIRP4
INDIRI4
ADDRLP4 20
INDIRI4
ADDI4
ASGNI4
line 2512
;2512:				CalculateRanks();
ADDRGP4 CalculateRanks
CALLV
pop
line 2513
;2513:				DoOverkill(NULL, team, ENTITYNUM_NONE);
CNSTP4 0
ARGP4
ADDRFP4 0
INDIRI4
ARGI4
CNSTI4 1023
ARGI4
ADDRGP4 DoOverkill
CALLV
pop
line 2514
;2514:			}
ADDRGP4 $1509
JUMPV
LABELV $1519
line 2516
;2515:#endif
;2516:			else {
line 2517
;2517:				trap_SendConsoleCommand( EXEC_APPEND, va("%s\n", level.teamVoteString[cs_offset] ) );
ADDRGP4 $1415
ARGP4
ADDRLP4 0
INDIRI4
CNSTI4 10
LSHI4
ADDRGP4 level+2440
ADDP4
ARGP4
ADDRLP4 16
ADDRGP4 va
CALLP4
ASGNP4
CNSTI4 2
ARGI4
ADDRLP4 16
INDIRP4
ARGP4
ADDRGP4 trap_SendConsoleCommand
CALLV
pop
line 2518
;2518:			}
line 2519
;2519:		} else if ( level.teamVoteNo[cs_offset] >= level.numteamVotingClients[cs_offset]/2 ) {
ADDRGP4 $1509
JUMPV
LABELV $1508
ADDRLP4 0
INDIRI4
CNSTI4 2
LSHI4
ADDRGP4 level+4504
ADDP4
INDIRI4
ADDRLP4 0
INDIRI4
CNSTI4 2
LSHI4
ADDRGP4 level+4512
ADDP4
INDIRI4
CNSTI4 2
DIVI4
LTI4 $1495
line 2521
;2520:			// same behavior as a timeout
;2521:			trap_SendServerCommand( -1, "print \"Team vote failed.\n\"" );
CNSTI4 -1
ARGI4
ADDRGP4 $1507
ARGP4
ADDRGP4 trap_SendServerCommand
CALLV
pop
line 2522
;2522:		} else {
line 2524
;2523:			// still waiting for a majority
;2524:			return;
LABELV $1533
LABELV $1509
line 2526
;2525:		}
;2526:	}
LABELV $1504
line 2527
;2527:	level.teamVoteTime[cs_offset] = 0;
ADDRLP4 0
INDIRI4
CNSTI4 2
LSHI4
ADDRGP4 level+4488
ADDP4
CNSTI4 0
ASGNI4
line 2528
;2528:	trap_SetConfigstring( CS_TEAMVOTE_TIME + cs_offset, "" );
ADDRLP4 0
INDIRI4
CNSTI4 12
ADDI4
ARGI4
ADDRGP4 $90
ARGP4
ADDRGP4 trap_SetConfigstring
CALLV
pop
line 2530
;2529:
;2530:}
LABELV $1495
endproc CheckTeamVote 28 12
data
align 4
LABELV $1538
byte 4 -1
align 4
LABELV $1539
byte 4 -1
align 4
LABELV $1540
byte 4 -1
align 4
LABELV $1541
byte 4 -1
align 4
LABELV $1542
byte 4 -1
align 4
LABELV $1543
byte 4 -1
align 4
LABELV $1544
byte 4 -1
align 4
LABELV $1545
byte 4 -1
align 4
LABELV $1546
byte 4 -1
align 4
LABELV $1547
byte 4 -1
align 4
LABELV $1548
byte 4 -1
align 4
LABELV $1549
byte 4 -1
align 4
LABELV $1550
byte 4 -1
align 4
LABELV $1551
byte 4 -1
align 4
LABELV $1552
byte 4 -1
align 4
LABELV $1553
byte 4 -1
align 4
LABELV $1554
byte 4 -1
align 4
LABELV $1555
byte 4 -1
align 4
LABELV $1556
byte 4 -1
align 4
LABELV $1557
byte 4 -1
align 4
LABELV $1558
byte 4 -1
align 4
LABELV $1559
byte 4 -1
align 4
LABELV $1560
byte 4 -1
align 4
LABELV $1561
byte 4 -1
align 4
LABELV $1562
byte 4 -1
align 4
LABELV $1563
byte 4 -1
align 4
LABELV $1564
byte 4 -1
align 4
LABELV $1565
byte 4 -1
align 4
LABELV $1566
byte 4 -1
align 4
LABELV $1567
byte 4 -1
code
proc CheckGamesettings 1036 132
line 2538
;2531:
;2532:
;2533:/*
;2534:==================
;2535:JUHOX: CheckGamesettings
;2536:==================
;2537:*/
;2538:static void CheckGamesettings(void) {
line 2575
;2539:#if MONSTER_MODE
;2540:	static int lastGametypeMod = -1;
;2541:	static int lastMapnameMod = -1;
;2542:	static int lastBasehealthMod = -1;
;2543:	static int lastDmflagsMod = -1;
;2544:	static int lastFraglimitMod = -1;
;2545:	static int lastCapturelimitMod = -1;
;2546:	static int lastTimelimitMod = -1;
;2547:	static int lastArtefactsMod = -1;
;2548:	static int lastRespawndelayMod = -1;
;2549:	static int lastGameseedMod = -1;
;2550:	static int lastFriendlyFireMod = -1;
;2551:	static int lastStaminaMod = -1;
;2552:	static int lastNoItemsMod = -1;
;2553:	static int lastNoHealthRegenMod = -1;
;2554:	static int lastCloakingDeviceMod = -1;
;2555:	static int lastUnlimitedAmmoMod = -1;
;2556:	static int lastArmorFragmentsMod = -1;
;2557:	static int lastLightningLimitMod = -1;
;2558:	static int lastGrappleMod = -1;
;2559:	static int lastMonsterLauncherMod = -1;
;2560:	static int lastMinMonstersMod = -1;
;2561:	static int lastMaxMonstersMod = -1;
;2562:	static int lastMonsterSpawnDelayMod = -1;
;2563:	static int lastMonsterHealthScaleMod = -1;
;2564:	static int lastMonsterGuardsMod = -1;
;2565:	static int lastMonsterTitansMod = -1;
;2566:	static int lastMonstersPerTrapMod = -1;
;2567:#if ESCAPE_MODE
;2568:	static int lastMonsterLoadMod = -1;
;2569:	static int lastDistanceLimitMod = -1;
;2570:	static int lastChallengingEnvMod = -1;
;2571:#endif
;2572:	char info[MAX_INFO_STRING];
;2573:
;2574:	if (
;2575:		lastGametypeMod != g_gametype.modificationCount ||
ADDRGP4 $1538
INDIRI4
ADDRGP4 g_gametype+4
INDIRI4
NEI4 $1628
ADDRGP4 $1539
INDIRI4
ADDRGP4 g_mapName+4
INDIRI4
NEI4 $1628
ADDRGP4 $1540
INDIRI4
ADDRGP4 g_baseHealth+4
INDIRI4
NEI4 $1628
ADDRGP4 $1541
INDIRI4
ADDRGP4 g_dmflags+4
INDIRI4
NEI4 $1628
ADDRGP4 $1542
INDIRI4
ADDRGP4 g_fraglimit+4
INDIRI4
NEI4 $1628
ADDRGP4 $1543
INDIRI4
ADDRGP4 g_capturelimit+4
INDIRI4
NEI4 $1628
ADDRGP4 $1544
INDIRI4
ADDRGP4 g_timelimit+4
INDIRI4
NEI4 $1628
ADDRGP4 $1566
INDIRI4
ADDRGP4 g_distanceLimit+4
INDIRI4
NEI4 $1628
ADDRGP4 $1565
INDIRI4
ADDRGP4 g_monsterLoad+4
INDIRI4
NEI4 $1628
ADDRGP4 $1567
INDIRI4
ADDRGP4 g_challengingEnv+4
INDIRI4
NEI4 $1628
ADDRGP4 $1545
INDIRI4
ADDRGP4 g_artefacts+4
INDIRI4
NEI4 $1628
ADDRGP4 $1546
INDIRI4
ADDRGP4 g_respawnDelay+4
INDIRI4
NEI4 $1628
ADDRGP4 $1547
INDIRI4
ADDRGP4 g_gameSeed+4
INDIRI4
NEI4 $1628
ADDRGP4 $1548
INDIRI4
ADDRGP4 g_friendlyFire+4
INDIRI4
NEI4 $1628
ADDRGP4 $1549
INDIRI4
ADDRGP4 g_stamina+4
INDIRI4
NEI4 $1628
ADDRGP4 $1550
INDIRI4
ADDRGP4 g_noItems+4
INDIRI4
NEI4 $1628
ADDRGP4 $1551
INDIRI4
ADDRGP4 g_noHealthRegen+4
INDIRI4
NEI4 $1628
ADDRGP4 $1552
INDIRI4
ADDRGP4 g_cloakingDevice+4
INDIRI4
NEI4 $1628
ADDRGP4 $1553
INDIRI4
ADDRGP4 g_unlimitedAmmo+4
INDIRI4
NEI4 $1628
ADDRGP4 $1554
INDIRI4
ADDRGP4 g_armorFragments+4
INDIRI4
NEI4 $1628
ADDRGP4 $1555
INDIRI4
ADDRGP4 g_lightningDamageLimit+4
INDIRI4
NEI4 $1628
ADDRGP4 $1556
INDIRI4
ADDRGP4 g_grapple+4
INDIRI4
NEI4 $1628
ADDRGP4 $1557
INDIRI4
ADDRGP4 g_monsterLauncher+4
INDIRI4
NEI4 $1628
ADDRGP4 $1558
INDIRI4
ADDRGP4 g_minMonsters+4
INDIRI4
NEI4 $1628
ADDRGP4 $1559
INDIRI4
ADDRGP4 g_maxMonsters+4
INDIRI4
NEI4 $1628
ADDRGP4 $1560
INDIRI4
ADDRGP4 g_monsterSpawnDelay+4
INDIRI4
NEI4 $1628
ADDRGP4 $1561
INDIRI4
ADDRGP4 g_monsterHealthScale+4
INDIRI4
NEI4 $1628
ADDRGP4 $1562
INDIRI4
ADDRGP4 g_monsterGuards+4
INDIRI4
NEI4 $1628
ADDRGP4 $1563
INDIRI4
ADDRGP4 g_monsterTitans+4
INDIRI4
NEI4 $1628
ADDRGP4 $1564
INDIRI4
ADDRGP4 g_monstersPerTrap+4
INDIRI4
EQI4 $1568
LABELV $1628
line 2607
;2576:		lastMapnameMod != g_mapName.modificationCount ||
;2577:		lastBasehealthMod != g_baseHealth.modificationCount ||
;2578:		lastDmflagsMod != g_dmflags.modificationCount ||
;2579:		lastFraglimitMod != g_fraglimit.modificationCount ||
;2580:		lastCapturelimitMod != g_capturelimit.modificationCount ||
;2581:		lastTimelimitMod != g_timelimit.modificationCount ||
;2582:#if ESCAPE_MODE
;2583:		lastDistanceLimitMod != g_distanceLimit.modificationCount ||
;2584:		lastMonsterLoadMod != g_monsterLoad.modificationCount ||
;2585:		lastChallengingEnvMod != g_challengingEnv.modificationCount ||
;2586:#endif
;2587:		lastArtefactsMod != g_artefacts.modificationCount ||
;2588:		lastRespawndelayMod != g_respawnDelay.modificationCount ||
;2589:		lastGameseedMod != g_gameSeed.modificationCount ||
;2590:		lastFriendlyFireMod != g_friendlyFire.modificationCount ||
;2591:		lastStaminaMod != g_stamina.modificationCount ||
;2592:		lastNoItemsMod != g_noItems.modificationCount ||
;2593:		lastNoHealthRegenMod != g_noHealthRegen.modificationCount ||
;2594:		lastCloakingDeviceMod != g_cloakingDevice.modificationCount ||
;2595:		lastUnlimitedAmmoMod != g_unlimitedAmmo.modificationCount ||
;2596:		lastArmorFragmentsMod != g_armorFragments.modificationCount ||
;2597:		lastLightningLimitMod != g_lightningDamageLimit.modificationCount ||
;2598:		lastGrappleMod != g_grapple.modificationCount ||
;2599:		lastMonsterLauncherMod != g_monsterLauncher.modificationCount ||
;2600:		lastMinMonstersMod != g_minMonsters.modificationCount ||
;2601:		lastMaxMonstersMod != g_maxMonsters.modificationCount ||
;2602:		lastMonsterSpawnDelayMod != g_monsterSpawnDelay.modificationCount ||
;2603:		lastMonsterHealthScaleMod != g_monsterHealthScale.modificationCount ||
;2604:		lastMonsterGuardsMod != g_monsterGuards.modificationCount ||
;2605:		lastMonsterTitansMod != g_monsterTitans.modificationCount ||
;2606:		lastMonstersPerTrapMod != g_monstersPerTrap.modificationCount
;2607:	) {
line 2610
;2608:		int highscoreType;
;2609:
;2610:		lastGametypeMod = g_gametype.modificationCount;
ADDRGP4 $1538
ADDRGP4 g_gametype+4
INDIRI4
ASGNI4
line 2611
;2611:		lastMapnameMod = g_mapName.modificationCount;
ADDRGP4 $1539
ADDRGP4 g_mapName+4
INDIRI4
ASGNI4
line 2612
;2612:		lastBasehealthMod = g_baseHealth.modificationCount;
ADDRGP4 $1540
ADDRGP4 g_baseHealth+4
INDIRI4
ASGNI4
line 2613
;2613:		lastDmflagsMod = g_dmflags.modificationCount;
ADDRGP4 $1541
ADDRGP4 g_dmflags+4
INDIRI4
ASGNI4
line 2614
;2614:		lastFraglimitMod = g_fraglimit.modificationCount;
ADDRGP4 $1542
ADDRGP4 g_fraglimit+4
INDIRI4
ASGNI4
line 2615
;2615:		lastCapturelimitMod = g_capturelimit.modificationCount;
ADDRGP4 $1543
ADDRGP4 g_capturelimit+4
INDIRI4
ASGNI4
line 2616
;2616:		lastTimelimitMod = g_timelimit.modificationCount;
ADDRGP4 $1544
ADDRGP4 g_timelimit+4
INDIRI4
ASGNI4
line 2618
;2617:#if ESCAPE_MODE
;2618:		lastDistanceLimitMod = g_distanceLimit.modificationCount;
ADDRGP4 $1566
ADDRGP4 g_distanceLimit+4
INDIRI4
ASGNI4
line 2619
;2619:		lastMonsterLoadMod = g_monsterLoad.modificationCount;
ADDRGP4 $1565
ADDRGP4 g_monsterLoad+4
INDIRI4
ASGNI4
line 2620
;2620:		lastChallengingEnvMod = g_challengingEnv.modificationCount;
ADDRGP4 $1567
ADDRGP4 g_challengingEnv+4
INDIRI4
ASGNI4
line 2622
;2621:#endif
;2622:		lastArtefactsMod = g_artefacts.modificationCount;
ADDRGP4 $1545
ADDRGP4 g_artefacts+4
INDIRI4
ASGNI4
line 2623
;2623:		lastRespawndelayMod = g_respawnDelay.modificationCount;
ADDRGP4 $1546
ADDRGP4 g_respawnDelay+4
INDIRI4
ASGNI4
line 2624
;2624:		lastGameseedMod = g_gameSeed.modificationCount;
ADDRGP4 $1547
ADDRGP4 g_gameSeed+4
INDIRI4
ASGNI4
line 2625
;2625:		lastFriendlyFireMod = g_friendlyFire.modificationCount;
ADDRGP4 $1548
ADDRGP4 g_friendlyFire+4
INDIRI4
ASGNI4
line 2626
;2626:		lastStaminaMod = g_stamina.modificationCount;
ADDRGP4 $1549
ADDRGP4 g_stamina+4
INDIRI4
ASGNI4
line 2627
;2627:		lastNoItemsMod = g_noItems.modificationCount;
ADDRGP4 $1550
ADDRGP4 g_noItems+4
INDIRI4
ASGNI4
line 2628
;2628:		lastNoHealthRegenMod = g_noHealthRegen.modificationCount;
ADDRGP4 $1551
ADDRGP4 g_noHealthRegen+4
INDIRI4
ASGNI4
line 2629
;2629:		lastCloakingDeviceMod = g_cloakingDevice.modificationCount;
ADDRGP4 $1552
ADDRGP4 g_cloakingDevice+4
INDIRI4
ASGNI4
line 2630
;2630:		lastUnlimitedAmmoMod = g_unlimitedAmmo.modificationCount;
ADDRGP4 $1553
ADDRGP4 g_unlimitedAmmo+4
INDIRI4
ASGNI4
line 2631
;2631:		lastArmorFragmentsMod = g_armorFragments.modificationCount;
ADDRGP4 $1554
ADDRGP4 g_armorFragments+4
INDIRI4
ASGNI4
line 2632
;2632:		lastLightningLimitMod = g_lightningDamageLimit.modificationCount;
ADDRGP4 $1555
ADDRGP4 g_lightningDamageLimit+4
INDIRI4
ASGNI4
line 2633
;2633:		lastGrappleMod = g_grapple.modificationCount;
ADDRGP4 $1556
ADDRGP4 g_grapple+4
INDIRI4
ASGNI4
line 2634
;2634:		lastMonsterLauncherMod = g_monsterLauncher.modificationCount;
ADDRGP4 $1557
ADDRGP4 g_monsterLauncher+4
INDIRI4
ASGNI4
line 2635
;2635:		lastMinMonstersMod = g_minMonsters.modificationCount;
ADDRGP4 $1558
ADDRGP4 g_minMonsters+4
INDIRI4
ASGNI4
line 2636
;2636:		lastMaxMonstersMod = g_maxMonsters.modificationCount;
ADDRGP4 $1559
ADDRGP4 g_maxMonsters+4
INDIRI4
ASGNI4
line 2637
;2637:		lastMonsterSpawnDelayMod = g_monsterSpawnDelay.modificationCount;
ADDRGP4 $1560
ADDRGP4 g_monsterSpawnDelay+4
INDIRI4
ASGNI4
line 2638
;2638:		lastMonsterHealthScaleMod = g_monsterHealthScale.modificationCount;
ADDRGP4 $1561
ADDRGP4 g_monsterHealthScale+4
INDIRI4
ASGNI4
line 2639
;2639:		lastMonsterGuardsMod = g_monsterGuards.modificationCount;
ADDRGP4 $1562
ADDRGP4 g_monsterGuards+4
INDIRI4
ASGNI4
line 2640
;2640:		lastMonsterTitansMod = g_monsterTitans.modificationCount;
ADDRGP4 $1563
ADDRGP4 g_monsterTitans+4
INDIRI4
ASGNI4
line 2641
;2641:		lastMonstersPerTrapMod = g_monsterLauncher.modificationCount;
ADDRGP4 $1564
ADDRGP4 g_monsterLauncher+4
INDIRI4
ASGNI4
line 2643
;2642:
;2643:		switch (g_gametype.integer) {
ADDRLP4 1028
ADDRGP4 g_gametype+12
INDIRI4
ASGNI4
ADDRLP4 1028
INDIRI4
CNSTI4 8
EQI4 $1662
ADDRLP4 1028
INDIRI4
CNSTI4 9
EQI4 $1667
ADDRGP4 $1659
JUMPV
LABELV $1662
line 2646
;2644:		case GT_STU:
;2645:			if (
;2646:				g_artefacts.integer > 0 &&
ADDRGP4 g_artefacts+12
INDIRI4
CNSTI4 0
LEI4 $1663
ADDRGP4 g_artefacts+12
INDIRI4
CNSTI4 999
GEI4 $1663
line 2648
;2647:				g_artefacts.integer < 999
;2648:			) {
line 2649
;2649:				highscoreType = GC_time;
ADDRLP4 1024
CNSTI4 2
ASGNI4
line 2650
;2650:			}
ADDRGP4 $1660
JUMPV
LABELV $1663
line 2651
;2651:			else {
line 2652
;2652:				highscoreType = GC_score;
ADDRLP4 1024
CNSTI4 1
ASGNI4
line 2653
;2653:			}
line 2654
;2654:			break;
ADDRGP4 $1660
JUMPV
LABELV $1667
line 2657
;2655:#if ESCAPE_MODE
;2656:		case GT_EFH:
;2657:			if (g_distanceLimit.integer <= 0) {
ADDRGP4 g_distanceLimit+12
INDIRI4
CNSTI4 0
GTI4 $1668
line 2658
;2658:				highscoreType = GC_distance;
ADDRLP4 1024
CNSTI4 3
ASGNI4
line 2659
;2659:			}
ADDRGP4 $1660
JUMPV
LABELV $1668
line 2660
;2660:			else {
line 2661
;2661:				highscoreType = GC_speed;
ADDRLP4 1024
CNSTI4 4
ASGNI4
line 2662
;2662:			}
line 2663
;2663:			break;
ADDRGP4 $1660
JUMPV
LABELV $1659
line 2666
;2664:#endif
;2665:		default:
;2666:			highscoreType = GC_none;
ADDRLP4 1024
CNSTI4 0
ASGNI4
line 2667
;2667:			break;
LABELV $1660
line 2670
;2668:		}
;2669:
;2670:		Com_sprintf(
ADDRLP4 0
ARGP4
CNSTI4 1024
ARGI4
ADDRGP4 $1671
ARGP4
ADDRGP4 g_gametype+12
INDIRI4
ARGI4
ADDRGP4 g_mapName+16
ARGP4
ADDRGP4 g_baseHealth+12
INDIRI4
ARGI4
ADDRGP4 g_dmflags+12
INDIRI4
ARGI4
ADDRGP4 g_gametype+12
INDIRI4
CNSTI4 4
NEI4 $1704
ADDRLP4 1032
ADDRGP4 g_capturelimit+12
INDIRI4
ASGNI4
ADDRGP4 $1705
JUMPV
LABELV $1704
ADDRLP4 1032
ADDRGP4 g_fraglimit+12
INDIRI4
ASGNI4
LABELV $1705
ADDRLP4 1032
INDIRI4
ARGI4
ADDRGP4 g_timelimit+12
INDIRI4
ARGI4
ADDRGP4 g_distanceLimit+12
INDIRI4
ARGI4
ADDRGP4 g_artefacts+12
INDIRI4
ARGI4
ADDRGP4 g_respawnDelay+12
INDIRI4
ARGI4
ADDRGP4 g_gameSeed+12
INDIRI4
ARGI4
ADDRGP4 g_friendlyFire+12
INDIRI4
ARGI4
ADDRGP4 g_stamina+12
INDIRI4
ARGI4
ADDRGP4 g_noItems+12
INDIRI4
ARGI4
ADDRGP4 g_noHealthRegen+12
INDIRI4
ARGI4
ADDRGP4 g_cloakingDevice+12
INDIRI4
ARGI4
ADDRGP4 g_unlimitedAmmo+12
INDIRI4
ARGI4
ADDRGP4 g_armorFragments+12
INDIRI4
ARGI4
ADDRGP4 g_lightningDamageLimit+12
INDIRI4
ARGI4
ADDRGP4 g_grapple+12
INDIRI4
ARGI4
ADDRGP4 g_challengingEnv+12
INDIRI4
ARGI4
ADDRGP4 g_monsterLauncher+12
INDIRI4
ARGI4
ADDRGP4 g_monsterLoad+12
INDIRI4
ARGI4
ADDRGP4 g_minMonsters+12
INDIRI4
ARGI4
ADDRGP4 g_maxMonsters+12
INDIRI4
ARGI4
ADDRGP4 g_monsterSpawnDelay+12
INDIRI4
ARGI4
ADDRGP4 g_monsterHealthScale+12
INDIRI4
ARGI4
ADDRGP4 g_monsterGuards+12
INDIRI4
ARGI4
ADDRGP4 g_monsterTitans+12
INDIRI4
ARGI4
ADDRGP4 g_monstersPerTrap+12
INDIRI4
ARGI4
ADDRLP4 1024
INDIRI4
ARGI4
ADDRGP4 Com_sprintf
CALLV
pop
line 2745
;2671:			info, sizeof(info),
;2672:			"gt\\%d"
;2673:			"\\map\\%s"
;2674:			"\\bh\\d%d"
;2675:			"\\dmf\\d%d"
;2676:			"\\fl\\d%d"
;2677:			"\\tl\\d%d"
;2678:#if ESCAPE_MODE
;2679:			"\\dl\\d%d"
;2680:#endif
;2681:			"\\art\\d%d"
;2682:			"\\rd\\d%d"
;2683:			"\\gs\\d%d"
;2684:			"\\ff\\d%d"
;2685:			"\\st\\d%d"
;2686:			"\\ni\\d%d"
;2687:			"\\nhr\\d%d"
;2688:			"\\cd\\d%d"
;2689:			"\\ua\\d%d"
;2690:			"\\af\\d%d"
;2691:			"\\ldl\\d%d"
;2692:			"\\gh\\d%d"
;2693:#if ESCAPE_MODE
;2694:			"\\che\\d%d"
;2695:#endif
;2696:			"\\ml\\d%d"
;2697:#if ESCAPE_MODE
;2698:			"\\mlo\\d%d"
;2699:#endif
;2700:			"\\mim\\d%d"
;2701:			"\\mam\\d%d"
;2702:			"\\msd\\d%d"
;2703:			"\\mhs\\d%d"
;2704:			"\\mg\\d%d"
;2705:			"\\mt\\d%d"
;2706:			"\\mpt\\d%d"
;2707:			"\\ht\\%d",
;2708:			g_gametype.integer,
;2709:			g_mapName.string,
;2710:			g_baseHealth.integer,
;2711:			g_dmflags.integer,
;2712:			g_gametype.integer == GT_CTF? g_capturelimit.integer : g_fraglimit.integer,
;2713:			g_timelimit.integer,
;2714:#if ESCAPE_MODE
;2715:			g_distanceLimit.integer,
;2716:#endif
;2717:			g_artefacts.integer,
;2718:			g_respawnDelay.integer,
;2719:			g_gameSeed.integer,
;2720:			g_friendlyFire.integer,
;2721:			g_stamina.integer,
;2722:			g_noItems.integer,
;2723:			g_noHealthRegen.integer,
;2724:			g_cloakingDevice.integer,
;2725:			g_unlimitedAmmo.integer,
;2726:			g_armorFragments.integer,
;2727:			g_lightningDamageLimit.integer,
;2728:			g_grapple.integer,
;2729:#if ESCAPE_MODE
;2730:			g_challengingEnv.integer,
;2731:#endif
;2732:			g_monsterLauncher.integer,
;2733:#if ESCAPE_MODE
;2734:			g_monsterLoad.integer,
;2735:#endif
;2736:			g_minMonsters.integer,
;2737:			g_maxMonsters.integer,
;2738:			g_monsterSpawnDelay.integer,
;2739:			g_monsterHealthScale.integer,
;2740:			g_monsterGuards.integer,
;2741:			g_monsterTitans.integer,
;2742:			g_monstersPerTrap.integer,
;2743:			highscoreType
;2744:		);
;2745:		trap_SetConfigstring(CS_GAMESETTINGS, info);
CNSTI4 711
ARGI4
ADDRLP4 0
ARGP4
ADDRGP4 trap_SetConfigstring
CALLV
pop
line 2746
;2746:	}
LABELV $1568
line 2748
;2747:#endif
;2748:}
LABELV $1537
endproc CheckGamesettings 1036 132
data
align 4
LABELV $1707
byte 4 -1
export CheckCvars
code
proc CheckCvars 4 8
line 2755
;2749:
;2750:/*
;2751:==================
;2752:CheckCvars
;2753:==================
;2754:*/
;2755:void CheckCvars( void ) {
line 2758
;2756:	static int lastMod = -1;
;2757:
;2758:	if ( g_password.modificationCount != lastMod ) {
ADDRGP4 g_password+4
INDIRI4
ADDRGP4 $1707
INDIRI4
EQI4 $1708
line 2759
;2759:		lastMod = g_password.modificationCount;
ADDRGP4 $1707
ADDRGP4 g_password+4
INDIRI4
ASGNI4
line 2760
;2760:		if ( *g_password.string && Q_stricmp( g_password.string, "none" ) ) {
ADDRGP4 g_password+16
INDIRI1
CVII4 1
CNSTI4 0
EQI4 $1712
ADDRGP4 g_password+16
ARGP4
ADDRGP4 $1716
ARGP4
ADDRLP4 0
ADDRGP4 Q_stricmp
CALLI4
ASGNI4
ADDRLP4 0
INDIRI4
CNSTI4 0
EQI4 $1712
line 2761
;2761:			trap_Cvar_Set( "g_needpass", "1" );
ADDRGP4 $171
ARGP4
ADDRGP4 $104
ARGP4
ADDRGP4 trap_Cvar_Set
CALLV
pop
line 2762
;2762:		} else {
ADDRGP4 $1713
JUMPV
LABELV $1712
line 2763
;2763:			trap_Cvar_Set( "g_needpass", "0" );
ADDRGP4 $171
ARGP4
ADDRGP4 $96
ARGP4
ADDRGP4 trap_Cvar_Set
CALLV
pop
line 2764
;2764:		}
LABELV $1713
line 2765
;2765:	}
LABELV $1708
line 2766
;2766:	CheckGamesettings();	// JUHOX
ADDRGP4 CheckGamesettings
CALLV
pop
line 2767
;2767:}
LABELV $1706
endproc CheckCvars 4 8
export G_RunThink
proc G_RunThink 8 8
line 2776
;2768:
;2769:/*
;2770:=============
;2771:G_RunThink
;2772:
;2773:Runs thinking code for this frame if necessary
;2774:=============
;2775:*/
;2776:void G_RunThink (gentity_t *ent) {
line 2779
;2777:	float	thinktime;
;2778:
;2779:	thinktime = ent->nextthink;
ADDRLP4 0
ADDRFP4 0
INDIRP4
CNSTI4 692
ADDP4
INDIRI4
CVIF4 4
ASGNF4
line 2780
;2780:	if (thinktime <= 0) {
ADDRLP4 0
INDIRF4
CNSTF4 0
GTF4 $1718
line 2781
;2781:		return;
ADDRGP4 $1717
JUMPV
LABELV $1718
line 2783
;2782:	}
;2783:	if (thinktime > level.time) {
ADDRLP4 0
INDIRF4
ADDRGP4 level+32
INDIRI4
CVIF4 4
LEF4 $1720
line 2784
;2784:		return;
ADDRGP4 $1717
JUMPV
LABELV $1720
line 2787
;2785:	}
;2786:	
;2787:	ent->nextthink = 0;
ADDRFP4 0
INDIRP4
CNSTI4 692
ADDP4
CNSTI4 0
ASGNI4
line 2788
;2788:	if (!ent->think) {
ADDRFP4 0
INDIRP4
CNSTI4 696
ADDP4
INDIRP4
CVPU4 4
CNSTU4 0
NEU4 $1723
line 2792
;2789:#if 0	// JUHOX: more detailed error message for NULL ent->think
;2790:		G_Error ( "NULL ent->think");
;2791:#else
;2792:		G_Error("NULL ent->think (%s)\n", ent->classname);
ADDRGP4 $1725
ARGP4
ADDRFP4 0
INDIRP4
CNSTI4 528
ADDP4
INDIRP4
ARGP4
ADDRGP4 G_Error
CALLV
pop
line 2794
;2793:#endif
;2794:	}
LABELV $1723
line 2795
;2795:	ent->think (ent);
ADDRLP4 4
ADDRFP4 0
INDIRP4
ASGNP4
ADDRLP4 4
INDIRP4
ARGP4
ADDRLP4 4
INDIRP4
CNSTI4 696
ADDP4
INDIRP4
CALLV
pop
line 2796
;2796:}
LABELV $1717
endproc G_RunThink 8 8
export G_SetPlayerRefOrigin
proc G_SetPlayerRefOrigin 0 0
line 2804
;2797:
;2798:/*
;2799:=============
;2800:JUHOX: G_SetPlayerRefOrigin
;2801:=============
;2802:*/
;2803:#if ESCAPE_MODE
;2804:void G_SetPlayerRefOrigin(playerState_t* ps) {
line 2805
;2805:	ps->stats[STAT_REFERENCE_X] = (level.referenceOrigin.x >> REFERENCE_SHIFT) & 0xffff;
ADDRFP4 0
INDIRP4
CNSTI4 236
ADDP4
ADDRGP4 level+23032
INDIRI4
CNSTI4 7
RSHI4
CNSTI4 65535
BANDI4
ASGNI4
line 2806
;2806:	ps->stats[STAT_REFERENCE_Y] = (level.referenceOrigin.y >> REFERENCE_SHIFT) & 0xffff;
ADDRFP4 0
INDIRP4
CNSTI4 240
ADDP4
ADDRGP4 level+23032+4
INDIRI4
CNSTI4 7
RSHI4
CNSTI4 65535
BANDI4
ASGNI4
line 2807
;2807:	ps->stats[STAT_REFERENCE_Z] = (level.referenceOrigin.z >> REFERENCE_SHIFT) & 0xffff;
ADDRFP4 0
INDIRP4
CNSTI4 244
ADDP4
ADDRGP4 level+23032+8
INDIRI4
CNSTI4 7
RSHI4
CNSTI4 65535
BANDI4
ASGNI4
line 2808
;2808:}
LABELV $1726
endproc G_SetPlayerRefOrigin 0 0
proc UpdateReferenceOrigin 188 4
line 2817
;2809:#endif
;2810:
;2811:/*
;2812:=============
;2813:JUHOX: UpdateReferenceOrigin
;2814:=============
;2815:*/
;2816:#if ESCAPE_MODE
;2817:static void UpdateReferenceOrigin(void) {
line 2825
;2818:	vec3_t middle;
;2819:	int i;
;2820:	int n;
;2821:	efhVector_t intMiddle;
;2822:	efhVector_t intDelta;
;2823:	vec3_t delta;
;2824:
;2825:	if (g_gametype.integer != GT_EFH) return;
ADDRGP4 g_gametype+12
INDIRI4
CNSTI4 9
EQI4 $1733
ADDRGP4 $1732
JUMPV
LABELV $1733
line 2828
;2826:
;2827:#if MEETING
;2828:	if (level.meeting) return;
ADDRGP4 level+24092
INDIRI4
CNSTI4 0
EQI4 $1736
ADDRGP4 $1732
JUMPV
LABELV $1736
line 2831
;2829:#endif
;2830:
;2831:	VectorClear(middle);
ADDRLP4 56
CNSTF4 0
ASGNF4
ADDRLP4 16+8
ADDRLP4 56
INDIRF4
ASGNF4
ADDRLP4 16+4
ADDRLP4 56
INDIRF4
ASGNF4
ADDRLP4 16
ADDRLP4 56
INDIRF4
ASGNF4
line 2832
;2832:	n = 0;
ADDRLP4 40
CNSTI4 0
ASGNI4
line 2833
;2833:	for (i = 0; i < level.maxclients; i++) {
ADDRLP4 0
CNSTI4 0
ASGNI4
ADDRGP4 $1744
JUMPV
LABELV $1741
line 2834
;2834:		if (!g_entities[i].inuse) continue;
ADDRLP4 0
INDIRI4
CNSTI4 844
MULI4
ADDRGP4 g_entities+524
ADDP4
INDIRI4
CNSTI4 0
NEI4 $1746
ADDRGP4 $1742
JUMPV
LABELV $1746
line 2835
;2835:		if (level.clients[i].pers.connected != CON_CONNECTED) continue;
ADDRLP4 0
INDIRI4
CNSTI4 5604
MULI4
ADDRGP4 level
INDIRP4
ADDP4
CNSTI4 468
ADDP4
INDIRI4
CNSTI4 2
EQI4 $1749
ADDRGP4 $1742
JUMPV
LABELV $1749
line 2837
;2836:
;2837:		VectorAdd(middle, level.clients[i].ps.origin, middle);
ADDRLP4 64
ADDRGP4 level
INDIRP4
ASGNP4
ADDRLP4 16
ADDRLP4 16
INDIRF4
ADDRLP4 0
INDIRI4
CNSTI4 5604
MULI4
ADDRLP4 64
INDIRP4
ADDP4
CNSTI4 20
ADDP4
INDIRF4
ADDF4
ASGNF4
ADDRLP4 16+4
ADDRLP4 16+4
INDIRF4
ADDRLP4 0
INDIRI4
CNSTI4 5604
MULI4
ADDRLP4 64
INDIRP4
ADDP4
CNSTI4 24
ADDP4
INDIRF4
ADDF4
ASGNF4
ADDRLP4 16+8
ADDRLP4 16+8
INDIRF4
ADDRLP4 0
INDIRI4
CNSTI4 5604
MULI4
ADDRGP4 level
INDIRP4
ADDP4
CNSTI4 28
ADDP4
INDIRF4
ADDF4
ASGNF4
line 2838
;2838:		n++;
ADDRLP4 40
ADDRLP4 40
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
line 2839
;2839:	}
LABELV $1742
line 2833
ADDRLP4 0
ADDRLP4 0
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
LABELV $1744
ADDRLP4 0
INDIRI4
ADDRGP4 level+24
INDIRI4
LTI4 $1741
line 2840
;2840:	if (n <= 0) return;
ADDRLP4 40
INDIRI4
CNSTI4 0
GTI4 $1755
ADDRGP4 $1732
JUMPV
LABELV $1755
line 2842
;2841:
;2842:	VectorScale(middle, 1.0 / n, middle);
ADDRLP4 60
ADDRLP4 40
INDIRI4
CVIF4 4
ASGNF4
ADDRLP4 16
ADDRLP4 16
INDIRF4
CNSTF4 1065353216
ADDRLP4 60
INDIRF4
DIVF4
MULF4
ASGNF4
ADDRLP4 16+4
ADDRLP4 16+4
INDIRF4
CNSTF4 1065353216
ADDRLP4 60
INDIRF4
DIVF4
MULF4
ASGNF4
ADDRLP4 16+8
ADDRLP4 16+8
INDIRF4
CNSTF4 1065353216
ADDRLP4 40
INDIRI4
CVIF4 4
DIVF4
MULF4
ASGNF4
line 2844
;2843:
;2844:	intMiddle.x = (long) middle[0];
ADDRLP4 44
ADDRLP4 16
INDIRF4
CVFI4 4
ASGNI4
line 2845
;2845:	intMiddle.y = (long) middle[1];
ADDRLP4 44+4
ADDRLP4 16+4
INDIRF4
CVFI4 4
ASGNI4
line 2846
;2846:	intMiddle.z = (long) middle[2];
ADDRLP4 44+8
ADDRLP4 16+8
INDIRF4
CVFI4 4
ASGNI4
line 2848
;2847:
;2848:	intDelta.x = intMiddle.x >> REFERENCE_SHIFT;
ADDRLP4 28
ADDRLP4 44
INDIRI4
CNSTI4 7
RSHI4
ASGNI4
line 2849
;2849:	intDelta.y = intMiddle.y >> REFERENCE_SHIFT;
ADDRLP4 28+4
ADDRLP4 44+4
INDIRI4
CNSTI4 7
RSHI4
ASGNI4
line 2850
;2850:	intDelta.z = intMiddle.z >> REFERENCE_SHIFT;
ADDRLP4 28+8
ADDRLP4 44+8
INDIRI4
CNSTI4 7
RSHI4
ASGNI4
line 2853
;2851:
;2852:	if (
;2853:		intDelta.x >= -1 &&
ADDRLP4 64
ADDRLP4 28
INDIRI4
ASGNI4
ADDRLP4 64
INDIRI4
CNSTI4 -1
LTI4 $1769
ADDRLP4 64
INDIRI4
CNSTI4 1
GTI4 $1769
ADDRLP4 28+4
INDIRI4
CNSTI4 -1
LTI4 $1769
ADDRLP4 28+4
INDIRI4
CNSTI4 1
GTI4 $1769
ADDRLP4 28+8
INDIRI4
CNSTI4 -1
LTI4 $1769
ADDRLP4 28+8
INDIRI4
CNSTI4 1
GTI4 $1769
line 2859
;2854:		intDelta.x <= +1 &&
;2855:		intDelta.y >= -1 &&
;2856:		intDelta.y <= +1 &&
;2857:		intDelta.z >= -1 &&
;2858:		intDelta.z <= +1
;2859:	) {
line 2860
;2860:		return;
ADDRGP4 $1732
JUMPV
LABELV $1769
line 2863
;2861:	}
;2862:
;2863:	intDelta.x <<= REFERENCE_SHIFT;
ADDRLP4 28
ADDRLP4 28
INDIRI4
CNSTI4 7
LSHI4
ASGNI4
line 2864
;2864:	intDelta.y <<= REFERENCE_SHIFT;
ADDRLP4 28+4
ADDRLP4 28+4
INDIRI4
CNSTI4 7
LSHI4
ASGNI4
line 2865
;2865:	intDelta.z <<= REFERENCE_SHIFT;
ADDRLP4 28+8
ADDRLP4 28+8
INDIRI4
CNSTI4 7
LSHI4
ASGNI4
line 2867
;2866:
;2867:	level.referenceOrigin.x += intDelta.x;
ADDRLP4 68
ADDRGP4 level+23032
ASGNP4
ADDRLP4 68
INDIRP4
ADDRLP4 68
INDIRP4
INDIRI4
ADDRLP4 28
INDIRI4
ADDI4
ASGNI4
line 2868
;2868:	level.referenceOrigin.y += intDelta.y;
ADDRLP4 72
ADDRGP4 level+23032+4
ASGNP4
ADDRLP4 72
INDIRP4
ADDRLP4 72
INDIRP4
INDIRI4
ADDRLP4 28+4
INDIRI4
ADDI4
ASGNI4
line 2869
;2869:	level.referenceOrigin.z += intDelta.z;
ADDRLP4 76
ADDRGP4 level+23032+8
ASGNP4
ADDRLP4 76
INDIRP4
ADDRLP4 76
INDIRP4
INDIRI4
ADDRLP4 28+8
INDIRI4
ADDI4
ASGNI4
line 2871
;2870:
;2871:	delta[0] = -intDelta.x;
ADDRLP4 4
ADDRLP4 28
INDIRI4
NEGI4
CVIF4 4
ASGNF4
line 2872
;2872:	delta[1] = -intDelta.y;
ADDRLP4 4+4
ADDRLP4 28+4
INDIRI4
NEGI4
CVIF4 4
ASGNF4
line 2873
;2873:	delta[2] = -intDelta.z;
ADDRLP4 4+8
ADDRLP4 28+8
INDIRI4
NEGI4
CVIF4 4
ASGNF4
line 2875
;2874:
;2875:	for (i = 0; i < level.num_entities; i++) {
ADDRLP4 0
CNSTI4 0
ASGNI4
ADDRGP4 $1791
JUMPV
LABELV $1788
line 2880
;2876:		gentity_t* ent;
;2877:		qboolean linked;
;2878:		playerState_t* ps;
;2879:
;2880:		ent = &g_entities[i];
ADDRLP4 80
ADDRLP4 0
INDIRI4
CNSTI4 844
MULI4
ADDRGP4 g_entities
ADDP4
ASGNP4
line 2881
;2881:		if (i >= MAX_CLIENTS) {
ADDRLP4 0
INDIRI4
CNSTI4 64
LTI4 $1793
line 2882
;2882:			if (!ent->inuse) continue;
ADDRLP4 80
INDIRP4
CNSTI4 524
ADDP4
INDIRI4
CNSTI4 0
NEI4 $1795
ADDRGP4 $1789
JUMPV
LABELV $1795
line 2883
;2883:			if (!ent->r.linked && ent->neverFree) continue;
ADDRLP4 80
INDIRP4
CNSTI4 416
ADDP4
INDIRI4
CNSTI4 0
NEI4 $1797
ADDRLP4 80
INDIRP4
CNSTI4 536
ADDP4
INDIRI4
CNSTI4 0
EQI4 $1797
ADDRGP4 $1789
JUMPV
LABELV $1797
line 2884
;2884:		}
LABELV $1793
line 2886
;2885:
;2886:		linked = ent->r.linked;
ADDRLP4 88
ADDRLP4 80
INDIRP4
CNSTI4 416
ADDP4
INDIRI4
ASGNI4
line 2887
;2887:		trap_UnlinkEntity(ent);
ADDRLP4 80
INDIRP4
ARGP4
ADDRGP4 trap_UnlinkEntity
CALLV
pop
line 2889
;2888:
;2889:		VectorAdd(ent->s.pos.trBase, delta, ent->s.pos.trBase);
ADDRLP4 80
INDIRP4
CNSTI4 24
ADDP4
ADDRLP4 80
INDIRP4
CNSTI4 24
ADDP4
INDIRF4
ADDRLP4 4
INDIRF4
ADDF4
ASGNF4
ADDRLP4 80
INDIRP4
CNSTI4 28
ADDP4
ADDRLP4 80
INDIRP4
CNSTI4 28
ADDP4
INDIRF4
ADDRLP4 4+4
INDIRF4
ADDF4
ASGNF4
ADDRLP4 80
INDIRP4
CNSTI4 32
ADDP4
ADDRLP4 80
INDIRP4
CNSTI4 32
ADDP4
INDIRF4
ADDRLP4 4+8
INDIRF4
ADDF4
ASGNF4
line 2890
;2890:		VectorAdd(ent->r.currentOrigin, delta, ent->r.currentOrigin);
ADDRLP4 80
INDIRP4
CNSTI4 488
ADDP4
ADDRLP4 80
INDIRP4
CNSTI4 488
ADDP4
INDIRF4
ADDRLP4 4
INDIRF4
ADDF4
ASGNF4
ADDRLP4 80
INDIRP4
CNSTI4 492
ADDP4
ADDRLP4 80
INDIRP4
CNSTI4 492
ADDP4
INDIRF4
ADDRLP4 4+4
INDIRF4
ADDF4
ASGNF4
ADDRLP4 80
INDIRP4
CNSTI4 496
ADDP4
ADDRLP4 80
INDIRP4
CNSTI4 496
ADDP4
INDIRF4
ADDRLP4 4+8
INDIRF4
ADDF4
ASGNF4
line 2892
;2891:
;2892:		ps = G_GetEntityPlayerState(ent);
ADDRLP4 80
INDIRP4
ARGP4
ADDRLP4 116
ADDRGP4 G_GetEntityPlayerState
CALLP4
ASGNP4
ADDRLP4 84
ADDRLP4 116
INDIRP4
ASGNP4
line 2893
;2893:		if (ps) {
ADDRLP4 84
INDIRP4
CVPU4 4
CNSTU4 0
EQU4 $1803
line 2894
;2894:			G_SetPlayerRefOrigin(ps);
ADDRLP4 84
INDIRP4
ARGP4
ADDRGP4 G_SetPlayerRefOrigin
CALLV
pop
line 2895
;2895:			VectorAdd(ps->origin, delta, ps->origin);
ADDRLP4 84
INDIRP4
CNSTI4 20
ADDP4
ADDRLP4 84
INDIRP4
CNSTI4 20
ADDP4
INDIRF4
ADDRLP4 4
INDIRF4
ADDF4
ASGNF4
ADDRLP4 84
INDIRP4
CNSTI4 24
ADDP4
ADDRLP4 84
INDIRP4
CNSTI4 24
ADDP4
INDIRF4
ADDRLP4 4+4
INDIRF4
ADDF4
ASGNF4
ADDRLP4 84
INDIRP4
CNSTI4 28
ADDP4
ADDRLP4 84
INDIRP4
CNSTI4 28
ADDP4
INDIRF4
ADDRLP4 4+8
INDIRF4
ADDF4
ASGNF4
line 2902
;2896:
;2897:			/*
;2898:			if (ent->client) {
;2899:				VectorAdd(ent->client->oldOrigin, delta, ent->client->oldOrigin);
;2900:			}
;2901:			*/
;2902:		}
ADDRGP4 $1804
JUMPV
LABELV $1803
line 2903
;2903:		else {
line 2904
;2904:			switch (ent->entClass) {
ADDRLP4 120
ADDRLP4 80
INDIRP4
CNSTI4 824
ADDP4
INDIRI4
ASGNI4
ADDRLP4 120
INDIRI4
CNSTI4 16
EQI4 $1810
ADDRLP4 120
INDIRI4
CNSTI4 16
LTI4 $1807
LABELV $1821
ADDRLP4 120
INDIRI4
CNSTI4 31
EQI4 $1810
ADDRGP4 $1807
JUMPV
LABELV $1810
line 2907
;2905:			case GEC_trigger_push:
;2906:			case GEC_target_push:
;2907:				VectorAdd(ent->s.origin, delta, ent->s.origin);
ADDRLP4 80
INDIRP4
CNSTI4 92
ADDP4
ADDRLP4 80
INDIRP4
CNSTI4 92
ADDP4
INDIRF4
ADDRLP4 4
INDIRF4
ADDF4
ASGNF4
ADDRLP4 80
INDIRP4
CNSTI4 96
ADDP4
ADDRLP4 80
INDIRP4
CNSTI4 96
ADDP4
INDIRF4
ADDRLP4 4+4
INDIRF4
ADDF4
ASGNF4
ADDRLP4 80
INDIRP4
CNSTI4 100
ADDP4
ADDRLP4 80
INDIRP4
CNSTI4 100
ADDP4
INDIRF4
ADDRLP4 4+8
INDIRF4
ADDF4
ASGNF4
line 2908
;2908:				break;
ADDRGP4 $1808
JUMPV
LABELV $1807
line 2910
;2909:			default:
;2910:				VectorAdd(ent->s.origin, delta, ent->s.origin);
ADDRLP4 80
INDIRP4
CNSTI4 92
ADDP4
ADDRLP4 80
INDIRP4
CNSTI4 92
ADDP4
INDIRF4
ADDRLP4 4
INDIRF4
ADDF4
ASGNF4
ADDRLP4 80
INDIRP4
CNSTI4 96
ADDP4
ADDRLP4 80
INDIRP4
CNSTI4 96
ADDP4
INDIRF4
ADDRLP4 4+4
INDIRF4
ADDF4
ASGNF4
ADDRLP4 80
INDIRP4
CNSTI4 100
ADDP4
ADDRLP4 80
INDIRP4
CNSTI4 100
ADDP4
INDIRF4
ADDRLP4 4+8
INDIRF4
ADDF4
ASGNF4
line 2911
;2911:				VectorAdd(ent->s.origin2, delta, ent->s.origin2);
ADDRLP4 80
INDIRP4
CNSTI4 104
ADDP4
ADDRLP4 80
INDIRP4
CNSTI4 104
ADDP4
INDIRF4
ADDRLP4 4
INDIRF4
ADDF4
ASGNF4
ADDRLP4 80
INDIRP4
CNSTI4 108
ADDP4
ADDRLP4 80
INDIRP4
CNSTI4 108
ADDP4
INDIRF4
ADDRLP4 4+4
INDIRF4
ADDF4
ASGNF4
ADDRLP4 80
INDIRP4
CNSTI4 112
ADDP4
ADDRLP4 80
INDIRP4
CNSTI4 112
ADDP4
INDIRF4
ADDRLP4 4+8
INDIRF4
ADDF4
ASGNF4
line 2912
;2912:				VectorAdd(ent->pos1, delta, ent->pos1);
ADDRLP4 80
INDIRP4
CNSTI4 616
ADDP4
ADDRLP4 80
INDIRP4
CNSTI4 616
ADDP4
INDIRF4
ADDRLP4 4
INDIRF4
ADDF4
ASGNF4
ADDRLP4 80
INDIRP4
CNSTI4 620
ADDP4
ADDRLP4 80
INDIRP4
CNSTI4 620
ADDP4
INDIRF4
ADDRLP4 4+4
INDIRF4
ADDF4
ASGNF4
ADDRLP4 80
INDIRP4
CNSTI4 624
ADDP4
ADDRLP4 80
INDIRP4
CNSTI4 624
ADDP4
INDIRF4
ADDRLP4 4+8
INDIRF4
ADDF4
ASGNF4
line 2913
;2913:				VectorAdd(ent->pos2, delta, ent->pos2);
ADDRLP4 80
INDIRP4
CNSTI4 628
ADDP4
ADDRLP4 80
INDIRP4
CNSTI4 628
ADDP4
INDIRF4
ADDRLP4 4
INDIRF4
ADDF4
ASGNF4
ADDRLP4 80
INDIRP4
CNSTI4 632
ADDP4
ADDRLP4 80
INDIRP4
CNSTI4 632
ADDP4
INDIRF4
ADDRLP4 4+4
INDIRF4
ADDF4
ASGNF4
ADDRLP4 80
INDIRP4
CNSTI4 636
ADDP4
ADDRLP4 80
INDIRP4
CNSTI4 636
ADDP4
INDIRF4
ADDRLP4 4+8
INDIRF4
ADDF4
ASGNF4
line 2914
;2914:				break;
LABELV $1808
line 2916
;2915:			}
;2916:		}
LABELV $1804
line 2918
;2917:
;2918:		if (linked) {
ADDRLP4 88
INDIRI4
CNSTI4 0
EQI4 $1822
line 2923
;2919:			/*
;2920:			VectorAdd(ent->r.absmin, delta, ent->r.absmin);
;2921:			VectorAdd(ent->r.absmax, delta, ent->r.absmax);
;2922:			*/
;2923:			trap_LinkEntity(ent);
ADDRLP4 80
INDIRP4
ARGP4
ADDRGP4 trap_LinkEntity
CALLV
pop
line 2924
;2924:		}
LABELV $1822
line 2925
;2925:	}
LABELV $1789
line 2875
ADDRLP4 0
ADDRLP4 0
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
LABELV $1791
ADDRLP4 0
INDIRI4
ADDRGP4 level+12
INDIRI4
LTI4 $1788
line 2926
;2926:}
LABELV $1732
endproc UpdateReferenceOrigin 188 4
proc ComputeCoveredDistance 24 12
line 2935
;2927:#endif
;2928:
;2929:/*
;2930:=============
;2931:JUHOX: ComputeCoveredDistance
;2932:=============
;2933:*/
;2934:#if ESCAPE_MODE
;2935:static void ComputeCoveredDistance(void) {
line 2940
;2936:	int i;
;2937:	long minDistance;
;2938:	int playersMissing;
;2939:
;2940:	if (g_gametype.integer != GT_EFH) return;
ADDRGP4 g_gametype+12
INDIRI4
CNSTI4 9
EQI4 $1825
ADDRGP4 $1824
JUMPV
LABELV $1825
line 2942
;2941:	if (
;2942:		level.intermissiontime ||
ADDRGP4 level+9144
INDIRI4
CNSTI4 0
NEI4 $1832
ADDRGP4 level+9140
INDIRI4
CNSTI4 0
EQI4 $1828
LABELV $1832
line 2944
;2943:		level.intermissionQueued
;2944:	) {
line 2945
;2945:		return;
ADDRGP4 $1824
JUMPV
LABELV $1828
line 2948
;2946:	}
;2947:#if MEETING
;2948:	if (level.meeting) return;
ADDRGP4 level+24092
INDIRI4
CNSTI4 0
EQI4 $1833
ADDRGP4 $1824
JUMPV
LABELV $1833
line 2951
;2949:#endif
;2950:
;2951:	minDistance = 0x7fffffff;
ADDRLP4 4
CNSTI4 2147483647
ASGNI4
line 2952
;2952:	playersMissing = 0;
ADDRLP4 8
CNSTI4 0
ASGNI4
line 2953
;2953:	for (i = 0; i < level.maxclients; i++) {
ADDRLP4 0
CNSTI4 0
ASGNI4
ADDRGP4 $1839
JUMPV
LABELV $1836
line 2957
;2954:		gentity_t* ent;
;2955:		long distance;
;2956:
;2957:		ent = &g_entities[i];
ADDRLP4 12
ADDRLP4 0
INDIRI4
CNSTI4 844
MULI4
ADDRGP4 g_entities
ADDP4
ASGNP4
line 2958
;2958:		if (!ent->inuse) continue;
ADDRLP4 12
INDIRP4
CNSTI4 524
ADDP4
INDIRI4
CNSTI4 0
NEI4 $1841
ADDRGP4 $1837
JUMPV
LABELV $1841
line 2959
;2959:		if (!ent->client) continue;
ADDRLP4 12
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CVPU4 4
CNSTU4 0
NEU4 $1843
ADDRGP4 $1837
JUMPV
LABELV $1843
line 2960
;2960:		if (ent->client->pers.connected != CON_CONNECTED) continue;
ADDRLP4 12
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 468
ADDP4
INDIRI4
CNSTI4 2
EQI4 $1845
ADDRGP4 $1837
JUMPV
LABELV $1845
line 2961
;2961:		if (ent->client->sess.sessionTeam == TEAM_SPECTATOR) continue;
ADDRLP4 12
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 696
ADDP4
INDIRI4
CNSTI4 3
NEI4 $1847
ADDRGP4 $1837
JUMPV
LABELV $1847
line 2963
;2962:
;2963:		distance = G_GetTotalWayLength(ent) / 32;
ADDRLP4 12
INDIRP4
ARGP4
ADDRLP4 20
ADDRGP4 G_GetTotalWayLength
CALLI4
ASGNI4
ADDRLP4 16
ADDRLP4 20
INDIRI4
CNSTI4 32
DIVI4
ASGNI4
line 2966
;2964:
;2965:		if (
;2966:			level.efhGoalDistance > 0 &&
ADDRGP4 level+23048
INDIRI4
CNSTI4 0
LEI4 $1849
ADDRLP4 16
INDIRI4
ADDRGP4 level+23048
INDIRI4
GEI4 $1849
line 2968
;2967:			distance < level.efhGoalDistance
;2968:		) {
line 2969
;2969:			playersMissing++;
ADDRLP4 8
ADDRLP4 8
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
line 2970
;2970:		}
LABELV $1849
line 2972
;2971:
;2972:		if (distance >= minDistance) continue;
ADDRLP4 16
INDIRI4
ADDRLP4 4
INDIRI4
LTI4 $1853
ADDRGP4 $1837
JUMPV
LABELV $1853
line 2974
;2973:
;2974:		minDistance = distance;
ADDRLP4 4
ADDRLP4 16
INDIRI4
ASGNI4
line 2975
;2975:	}
LABELV $1837
line 2953
ADDRLP4 0
ADDRLP4 0
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
LABELV $1839
ADDRLP4 0
INDIRI4
ADDRGP4 level+24
INDIRI4
LTI4 $1836
line 2977
;2976:
;2977:	if (minDistance == 0x7fffffff) {
ADDRLP4 4
INDIRI4
CNSTI4 2147483647
NEI4 $1855
line 2978
;2978:		minDistance = 0;
ADDRLP4 4
CNSTI4 0
ASGNI4
line 2979
;2979:	}
LABELV $1855
line 2981
;2980:
;2981:	if (minDistance == level.efhCoveredDistance) return;
ADDRLP4 4
INDIRI4
ADDRGP4 level+23044
INDIRI4
NEI4 $1857
ADDRGP4 $1824
JUMPV
LABELV $1857
line 2983
;2982:
;2983:	level.efhCoveredDistance = minDistance;
ADDRGP4 level+23044
ADDRLP4 4
INDIRI4
ASGNI4
line 2985
;2984:
;2985:	trap_SetConfigstring(CS_EFH_COVERED_DISTANCE, va("%d,%d", minDistance, playersMissing));
ADDRGP4 $317
ARGP4
ADDRLP4 4
INDIRI4
ARGI4
ADDRLP4 8
INDIRI4
ARGI4
ADDRLP4 12
ADDRGP4 va
CALLP4
ASGNP4
CNSTI4 722
ARGI4
ADDRLP4 12
INDIRP4
ARGP4
ADDRGP4 trap_SetConfigstring
CALLV
pop
line 2986
;2986:}
LABELV $1824
endproc ComputeCoveredDistance 24 12
bss
align 4
LABELV $1862
skip 4096
export G_RunFrame
code
proc G_RunFrame 60 12
line 3019
;2987:#endif
;2988:
;2989:/*
;2990:================
;2991:JUHOX: G_FreezePlayerState
;2992:================
;2993:*/
;2994:#if SCREENSHOT_TOOLS
;2995:void G_FreezePlayerState(playerState_t* ps, int msec) {
;2996:	int i;
;2997:
;2998:	if (ps->weaponTime) ps->weaponTime += msec;
;2999:	if (ps->legsTimer) ps->legsTimer += msec;
;3000:	if (ps->torsoTimer) ps->torsoTimer += msec;
;3001:	if (ps->externalEvent) ps->externalEventTime += msec;
;3002:
;3003:	for (i = 0; i < PW_NUM_POWERUPS; i++) {
;3004:		if (!ps->powerups[i]) continue;
;3005:		ps->powerups[i] += msec;
;3006:	}
;3007:	if (ps->powerups[PW_EFFECT_TIME]) ps->powerups[PW_EFFECT_TIME] += msec;
;3008:}
;3009:#endif
;3010:
;3011:
;3012:/*
;3013:================
;3014:G_RunFrame
;3015:
;3016:Advances the non-player objects in the world
;3017:================
;3018:*/
;3019:void G_RunFrame( int levelTime ) {
line 3028
;3020:	int			i;
;3021:	gentity_t	*ent;
;3022:	int			msec;
;3023:int start, end;
;3024:	int			m;	// JUHOX
;3025:	static int	entityBag[MAX_GENTITIES];	// JUHOX
;3026:
;3027:	// if we are waiting for the level to restart, do nothing
;3028:	if ( level.restarted ) {
ADDRGP4 level+84
INDIRI4
CNSTI4 0
EQI4 $1863
line 3029
;3029:		return;
ADDRGP4 $1861
JUMPV
LABELV $1863
line 3032
;3030:	}
;3031:
;3032:	level.framenum++;
ADDRLP4 24
ADDRGP4 level+28
ASGNP4
ADDRLP4 24
INDIRP4
ADDRLP4 24
INDIRP4
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
line 3033
;3033:	level.previousTime = level.time;
ADDRGP4 level+36
ADDRGP4 level+32
INDIRI4
ASGNI4
line 3034
;3034:	level.time = levelTime;
ADDRGP4 level+32
ADDRFP4 0
INDIRI4
ASGNI4
line 3035
;3035:	msec = level.time - level.previousTime;
ADDRLP4 20
ADDRGP4 level+32
INDIRI4
ADDRGP4 level+36
INDIRI4
SUBI4
ASGNI4
line 3038
;3036:
;3037:#if 1	// JUHOX: record flag possession times
;3038:	if (g_gametype.integer == GT_CTF) {
ADDRGP4 g_gametype+12
INDIRI4
CNSTI4 4
NEI4 $1872
line 3039
;3039:		switch (Team_GetFlagStatus(TEAM_RED)) {
CNSTI4 1
ARGI4
ADDRLP4 32
ADDRGP4 Team_GetFlagStatus
CALLI4
ASGNI4
ADDRLP4 28
ADDRLP4 32
INDIRI4
ASGNI4
ADDRLP4 28
INDIRI4
CNSTI4 1
EQI4 $1878
ADDRLP4 28
INDIRI4
CNSTI4 4
EQI4 $1880
ADDRGP4 $1876
JUMPV
LABELV $1878
line 3041
;3040:		case FLAG_TAKEN:
;3041:			level.ctfRedPossessionTime += msec;
ADDRLP4 40
ADDRGP4 level+72
ASGNP4
ADDRLP4 40
INDIRP4
ADDRLP4 40
INDIRP4
INDIRI4
ADDRLP4 20
INDIRI4
ADDI4
ASGNI4
line 3042
;3042:			break;
ADDRGP4 $1876
JUMPV
LABELV $1880
line 3044
;3043:		case FLAG_DROPPED:
;3044:			level.ctfRedPossessionTime += msec / 2;
ADDRLP4 44
ADDRGP4 level+72
ASGNP4
ADDRLP4 44
INDIRP4
ADDRLP4 44
INDIRP4
INDIRI4
ADDRLP4 20
INDIRI4
CNSTI4 2
DIVI4
ADDI4
ASGNI4
line 3045
;3045:			break;
line 3047
;3046:		default:
;3047:			break;
LABELV $1876
line 3050
;3048:		}
;3049:
;3050:		switch (Team_GetFlagStatus(TEAM_BLUE)) {
CNSTI4 2
ARGI4
ADDRLP4 44
ADDRGP4 Team_GetFlagStatus
CALLI4
ASGNI4
ADDRLP4 40
ADDRLP4 44
INDIRI4
ASGNI4
ADDRLP4 40
INDIRI4
CNSTI4 1
EQI4 $1885
ADDRLP4 40
INDIRI4
CNSTI4 4
EQI4 $1887
ADDRGP4 $1883
JUMPV
LABELV $1885
line 3052
;3051:		case FLAG_TAKEN:
;3052:			level.ctfBluePossessionTime += msec;
ADDRLP4 52
ADDRGP4 level+76
ASGNP4
ADDRLP4 52
INDIRP4
ADDRLP4 52
INDIRP4
INDIRI4
ADDRLP4 20
INDIRI4
ADDI4
ASGNI4
line 3053
;3053:			break;
ADDRGP4 $1883
JUMPV
LABELV $1887
line 3055
;3054:		case FLAG_DROPPED:
;3055:			level.ctfBluePossessionTime += msec / 2;
ADDRLP4 56
ADDRGP4 level+76
ASGNP4
ADDRLP4 56
INDIRP4
ADDRLP4 56
INDIRP4
INDIRI4
ADDRLP4 20
INDIRI4
CNSTI4 2
DIVI4
ADDI4
ASGNI4
line 3056
;3056:			break;
line 3058
;3057:		default:
;3058:			break;
LABELV $1883
line 3060
;3059:		}
;3060:	}
LABELV $1872
line 3094
;3061:#endif
;3062:
;3063:#if SCREENSHOT_TOOLS	// JUHOX
;3064:	if (level.stopTime) {
;3065:		for (i = 0; i < level.maxclients; i++) {
;3066:			gclient_t* client;
;3067:
;3068:			client = &level.clients[i];
;3069:			if (client->pers.connected != CON_CONNECTED) continue;
;3070:
;3071:			G_FreezePlayerState(&client->ps, msec);
;3072:			if (client->lastChargeTime) client->lastChargeTime += msec;
;3073:		}
;3074:		for (i = MAX_CLIENTS; i < level.num_entities; i++) {
;3075:			ent = &g_entities[i];
;3076:			if (!ent->inuse) continue;
;3077:
;3078:			ent->timestamp += msec;
;3079:			if (ent->nextthink) ent->nextthink += msec;
;3080:			
;3081:			if (ent->s.pos.trType >= TR_LINEAR) {
;3082:				ent->s.pos.trTime += msec;
;3083:			}
;3084:			if (ent->s.apos.trType >= TR_LINEAR) {
;3085:				ent->s.apos.trTime += msec;
;3086:			}
;3087:
;3088:			if (ent->monster) G_FreezeMonster(ent, msec);
;3089:		}
;3090:	}
;3091:#endif
;3092:
;3093:#if MONSTER_MODE	// JUHOX: send STU score to clients
;3094:	if (level.stuScore != level.stuScoreTransmitted) {
ADDRGP4 level+23020
INDIRI4
ADDRGP4 level+23024
INDIRI4
EQI4 $1889
line 3095
;3095:		trap_SetConfigstring(CS_STU_SCORE, va("%d", level.stuScore));
ADDRGP4 $380
ARGP4
ADDRGP4 level+23020
INDIRI4
ARGI4
ADDRLP4 28
ADDRGP4 va
CALLP4
ASGNP4
CNSTI4 715
ARGI4
ADDRLP4 28
INDIRP4
ARGP4
ADDRGP4 trap_SetConfigstring
CALLV
pop
line 3096
;3096:		level.stuScoreTransmitted = level.stuScore;
ADDRGP4 level+23024
ADDRGP4 level+23020
INDIRI4
ASGNI4
line 3097
;3097:	}
LABELV $1889
line 3101
;3098:#endif
;3099:
;3100:#if ESCAPE_MODE	// JUHOX: update world for EFH
;3101:	if (g_gametype.integer == GT_EFH) {
ADDRGP4 g_gametype+12
INDIRI4
CNSTI4 9
NEI4 $1896
line 3102
;3102:		UpdateReferenceOrigin();
ADDRGP4 UpdateReferenceOrigin
CALLV
pop
line 3103
;3103:		G_UpdateWorld();
ADDRGP4 G_UpdateWorld
CALLV
pop
line 3104
;3104:		ComputeCoveredDistance();
ADDRGP4 ComputeCoveredDistance
CALLV
pop
line 3105
;3105:	}
LABELV $1896
line 3109
;3106:#endif
;3107:
;3108:	// get any cvar changes
;3109:	G_UpdateCvars();
ADDRGP4 G_UpdateCvars
CALLV
pop
line 3111
;3110:
;3111:	TSS_Run();	// JUHOX
ADDRGP4 TSS_Run
CALLV
pop
line 3113
;3112:
;3113:	G_SendGameTemplate();	// JUHOX
ADDRGP4 G_SendGameTemplate
CALLV
pop
line 3117
;3114:
;3115:	// JUHOX: spawn monsters & artefacts
;3116:#if MONSTER_MODE
;3117:	G_MonsterScanForNoises();
ADDRGP4 G_MonsterScanForNoises
CALLV
pop
line 3118
;3118:	G_MonsterSpawning();
ADDRGP4 G_MonsterSpawning
CALLV
pop
line 3119
;3119:	if (g_gametype.integer == GT_STU) {
ADDRGP4 g_gametype+12
INDIRI4
CNSTI4 8
NEI4 $1899
line 3121
;3120:		if (
;3121:			g_artefacts.integer > 0 &&
ADDRGP4 g_artefacts+12
INDIRI4
CNSTI4 0
LEI4 $1902
ADDRGP4 level+23000
INDIRP4
CVPU4 4
CNSTU4 0
NEU4 $1902
ADDRGP4 level+24092
INDIRI4
CNSTI4 0
NEI4 $1902
ADDRGP4 level+32
INDIRI4
ADDRGP4 level+40
INDIRI4
CNSTI4 5000
ADDI4
LEI4 $1902
line 3125
;3122:			!level.artefact &&
;3123:			!level.meeting &&
;3124:			level.time > level.startTime + 5000
;3125:		) {
line 3126
;3126:			G_SpawnArtefact();
ADDRGP4 G_SpawnArtefact
CALLV
pop
line 3127
;3127:		}
LABELV $1902
line 3128
;3128:	}
LABELV $1899
line 3129
;3129:	G_UpdateMonsterCounters();
ADDRGP4 G_UpdateMonsterCounters
CALLV
pop
line 3135
;3130:#endif
;3131:
;3132:	//
;3133:	// go through all allocated objects
;3134:	//
;3135:	start = trap_Milliseconds();
ADDRLP4 28
ADDRGP4 trap_Milliseconds
CALLI4
ASGNI4
ADDRLP4 12
ADDRLP4 28
INDIRI4
ASGNI4
line 3141
;3136:	// JUHOX: advance level objects in random order
;3137:#if 0
;3138:	ent = &g_entities[0];
;3139:	for (i=0 ; i<level.num_entities ; i++, ent++) {
;3140:#else
;3141:	m = level.num_entities;
ADDRLP4 8
ADDRGP4 level+12
INDIRI4
ASGNI4
line 3142
;3142:	for (i = 0; i < m; i++) {
ADDRLP4 4
CNSTI4 0
ASGNI4
ADDRGP4 $1913
JUMPV
LABELV $1910
line 3143
;3143:		entityBag[i] = i;
ADDRLP4 4
INDIRI4
CNSTI4 2
LSHI4
ADDRGP4 $1862
ADDP4
ADDRLP4 4
INDIRI4
ASGNI4
line 3144
;3144:	}
LABELV $1911
line 3142
ADDRLP4 4
ADDRLP4 4
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
LABELV $1913
ADDRLP4 4
INDIRI4
ADDRLP4 8
INDIRI4
LTI4 $1910
ADDRGP4 $1915
JUMPV
LABELV $1914
line 3145
;3145:	while (m > 0) {
line 3146
;3146:		{
line 3149
;3147:			int b;
;3148:
;3149:			b = rand() % m;
ADDRLP4 36
ADDRGP4 rand
CALLI4
ASGNI4
ADDRLP4 32
ADDRLP4 36
INDIRI4
ADDRLP4 8
INDIRI4
MODI4
ASGNI4
line 3150
;3150:			i = entityBag[b];
ADDRLP4 4
ADDRLP4 32
INDIRI4
CNSTI4 2
LSHI4
ADDRGP4 $1862
ADDP4
INDIRI4
ASGNI4
line 3151
;3151:			entityBag[b] = entityBag[--m];
ADDRLP4 40
ADDRLP4 8
INDIRI4
CNSTI4 1
SUBI4
ASGNI4
ADDRLP4 8
ADDRLP4 40
INDIRI4
ASGNI4
ADDRLP4 44
ADDRGP4 $1862
ASGNP4
ADDRLP4 32
INDIRI4
CNSTI4 2
LSHI4
ADDRLP4 44
INDIRP4
ADDP4
ADDRLP4 40
INDIRI4
CNSTI4 2
LSHI4
ADDRLP4 44
INDIRP4
ADDP4
INDIRI4
ASGNI4
line 3152
;3152:			ent = &g_entities[i];
ADDRLP4 0
ADDRLP4 4
INDIRI4
CNSTI4 844
MULI4
ADDRGP4 g_entities
ADDP4
ASGNP4
line 3153
;3153:		}
line 3155
;3154:#endif
;3155:		if ( !ent->inuse ) {
ADDRLP4 0
INDIRP4
CNSTI4 524
ADDP4
INDIRI4
CNSTI4 0
NEI4 $1917
line 3156
;3156:			continue;
ADDRGP4 $1915
JUMPV
LABELV $1917
line 3160
;3157:		}
;3158:
;3159:		// clear events that are too old
;3160:		if ( level.time - ent->eventTime > EVENT_VALID_MSEC ) {
ADDRGP4 level+32
INDIRI4
ADDRLP4 0
INDIRP4
CNSTI4 556
ADDP4
INDIRI4
SUBI4
CNSTI4 300
LEI4 $1919
line 3173
;3161:			// JUHOX: new event clearing
;3162:#if 0
;3163:			if ( ent->s.event ) {
;3164:				ent->s.event = 0;	// &= EV_EVENT_BITS;
;3165:				if ( ent->client ) {
;3166:					ent->client->ps.externalEvent = 0;
;3167:					// predicted events should never be set to zero
;3168:					//ent->client->ps.events[0] = 0;
;3169:					//ent->client->ps.events[1] = 0;
;3170:				}
;3171:			}
;3172:#else
;3173:			ent->s.event = 0;
ADDRLP4 0
INDIRP4
CNSTI4 180
ADDP4
CNSTI4 0
ASGNI4
line 3174
;3174:			if (ent->client) ent->client->ps.externalEvent = 0;
ADDRLP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CVPU4 4
CNSTU4 0
EQU4 $1922
ADDRLP4 0
INDIRP4
CNSTI4 516
ADDP4
INDIRP4
CNSTI4 128
ADDP4
CNSTI4 0
ASGNI4
LABELV $1922
line 3176
;3175:#endif
;3176:			if ( ent->freeAfterEvent ) {
ADDRLP4 0
INDIRP4
CNSTI4 560
ADDP4
INDIRI4
CNSTI4 0
EQI4 $1924
line 3178
;3177:				// tempEntities or dropped items completely go away after their event
;3178:				G_FreeEntity( ent );
ADDRLP4 0
INDIRP4
ARGP4
ADDRGP4 G_FreeEntity
CALLV
pop
line 3179
;3179:				continue;
ADDRGP4 $1915
JUMPV
LABELV $1924
line 3180
;3180:			} else if ( ent->unlinkAfterEvent ) {
ADDRLP4 0
INDIRP4
CNSTI4 564
ADDP4
INDIRI4
CNSTI4 0
EQI4 $1926
line 3182
;3181:				// items that will respawn will hide themselves after their pickup event
;3182:				ent->unlinkAfterEvent = qfalse;
ADDRLP4 0
INDIRP4
CNSTI4 564
ADDP4
CNSTI4 0
ASGNI4
line 3183
;3183:				trap_UnlinkEntity( ent );
ADDRLP4 0
INDIRP4
ARGP4
ADDRGP4 trap_UnlinkEntity
CALLV
pop
line 3184
;3184:			}
LABELV $1926
line 3185
;3185:		}
LABELV $1919
line 3188
;3186:
;3187:		// temporary entities don't think
;3188:		if ( ent->freeAfterEvent ) {
ADDRLP4 0
INDIRP4
CNSTI4 560
ADDP4
INDIRI4
CNSTI4 0
EQI4 $1928
line 3189
;3189:			continue;
ADDRGP4 $1915
JUMPV
LABELV $1928
line 3192
;3190:		}
;3191:
;3192:		if ( !ent->r.linked && ent->neverFree ) {
ADDRLP4 0
INDIRP4
CNSTI4 416
ADDP4
INDIRI4
CNSTI4 0
NEI4 $1930
ADDRLP4 0
INDIRP4
CNSTI4 536
ADDP4
INDIRI4
CNSTI4 0
EQI4 $1930
line 3193
;3193:			continue;
ADDRGP4 $1915
JUMPV
LABELV $1930
line 3196
;3194:		}
;3195:
;3196:		if ( ent->s.eType == ET_MISSILE ) {
ADDRLP4 0
INDIRP4
CNSTI4 4
ADDP4
INDIRI4
CNSTI4 3
NEI4 $1932
line 3197
;3197:			G_RunMissile( ent );
ADDRLP4 0
INDIRP4
ARGP4
ADDRGP4 G_RunMissile
CALLV
pop
line 3198
;3198:			continue;
ADDRGP4 $1915
JUMPV
LABELV $1932
line 3201
;3199:		}
;3200:
;3201:		if ( ent->s.eType == ET_ITEM || ent->physicsObject ) {
ADDRLP4 0
INDIRP4
CNSTI4 4
ADDP4
INDIRI4
CNSTI4 2
EQI4 $1936
ADDRLP4 0
INDIRP4
CNSTI4 568
ADDP4
INDIRI4
CNSTI4 0
EQI4 $1934
LABELV $1936
line 3202
;3202:			G_RunItem( ent );
ADDRLP4 0
INDIRP4
ARGP4
ADDRGP4 G_RunItem
CALLV
pop
line 3203
;3203:			continue;
ADDRGP4 $1915
JUMPV
LABELV $1934
line 3206
;3204:		}
;3205:
;3206:		if ( ent->s.eType == ET_MOVER ) {
ADDRLP4 0
INDIRP4
CNSTI4 4
ADDP4
INDIRI4
CNSTI4 4
NEI4 $1937
line 3207
;3207:			G_RunMover( ent );
ADDRLP4 0
INDIRP4
ARGP4
ADDRGP4 G_RunMover
CALLV
pop
line 3208
;3208:			continue;
ADDRGP4 $1915
JUMPV
LABELV $1937
line 3211
;3209:		}
;3210:
;3211:		if ( i < MAX_CLIENTS ) {
ADDRLP4 4
INDIRI4
CNSTI4 64
GEI4 $1939
line 3215
;3212:#if SCREENSHOT_TOOLS
;3213:			if (level.stopTime && i > 0) continue;	// JUHOX
;3214:#endif
;3215:			G_RunClient( ent );
ADDRLP4 0
INDIRP4
ARGP4
ADDRGP4 G_RunClient
CALLV
pop
line 3216
;3216:			continue;
ADDRGP4 $1915
JUMPV
LABELV $1939
line 3219
;3217:		}
;3218:
;3219:		G_RunThink( ent );
ADDRLP4 0
INDIRP4
ARGP4
ADDRGP4 G_RunThink
CALLV
pop
line 3220
;3220:	}
LABELV $1915
line 3145
ADDRLP4 8
INDIRI4
CNSTI4 0
GTI4 $1914
line 3221
;3221:end = trap_Milliseconds();
ADDRLP4 32
ADDRGP4 trap_Milliseconds
CALLI4
ASGNI4
ADDRLP4 16
ADDRLP4 32
INDIRI4
ASGNI4
line 3223
;3222:
;3223:start = trap_Milliseconds();
ADDRLP4 36
ADDRGP4 trap_Milliseconds
CALLI4
ASGNI4
ADDRLP4 12
ADDRLP4 36
INDIRI4
ASGNI4
line 3225
;3224:	// perform final fixups on the players
;3225:	ent = &g_entities[0];
ADDRLP4 0
ADDRGP4 g_entities
ASGNP4
line 3226
;3226:	for (i=0 ; i < level.maxclients ; i++, ent++ ) {
ADDRLP4 4
CNSTI4 0
ASGNI4
ADDRGP4 $1944
JUMPV
LABELV $1941
line 3227
;3227:		if ( ent->inuse ) {
ADDRLP4 0
INDIRP4
CNSTI4 524
ADDP4
INDIRI4
CNSTI4 0
EQI4 $1946
line 3228
;3228:			ClientEndFrame( ent );
ADDRLP4 0
INDIRP4
ARGP4
ADDRGP4 ClientEndFrame
CALLV
pop
line 3229
;3229:		}
LABELV $1946
line 3230
;3230:	}
LABELV $1942
line 3226
ADDRLP4 4
ADDRLP4 4
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
ADDRLP4 0
ADDRLP4 0
INDIRP4
CNSTI4 844
ADDP4
ASGNP4
LABELV $1944
ADDRLP4 4
INDIRI4
ADDRGP4 level+24
INDIRI4
LTI4 $1941
line 3231
;3231:end = trap_Milliseconds();
ADDRLP4 40
ADDRGP4 trap_Milliseconds
CALLI4
ASGNI4
ADDRLP4 16
ADDRLP4 40
INDIRI4
ASGNI4
line 3234
;3232:
;3233:#if ESCAPE_MODE	// JUHOX: update lighting origins
;3234:	if (g_gametype.integer == GT_EFH) {
ADDRGP4 g_gametype+12
INDIRI4
CNSTI4 9
NEI4 $1948
line 3235
;3235:		G_UpdateLightingOrigins();
ADDRGP4 G_UpdateLightingOrigins
CALLV
pop
line 3236
;3236:	}
LABELV $1948
line 3240
;3237:#endif
;3238:
;3239:#if MONSTER_MODE	// JUHOX: update monster config strings
;3240:	G_UpdateMonsterCS();
ADDRGP4 G_UpdateMonsterCS
CALLV
pop
line 3244
;3241:#endif
;3242:
;3243:	// see if it is time to do a tournement restart
;3244:	CheckTournament();
ADDRGP4 CheckTournament
CALLV
pop
line 3247
;3245:
;3246:	// see if it is time to end the level
;3247:	CheckExitRules();
ADDRGP4 CheckExitRules
CALLV
pop
line 3250
;3248:
;3249:	// update to team status?
;3250:	CheckTeamStatus();
ADDRGP4 CheckTeamStatus
CALLV
pop
line 3253
;3251:
;3252:	// cancel vote if timed out
;3253:	CheckVote();
ADDRGP4 CheckVote
CALLV
pop
line 3256
;3254:
;3255:	// check team votes
;3256:	CheckTeamVote( TEAM_RED );
CNSTI4 1
ARGI4
ADDRGP4 CheckTeamVote
CALLV
pop
line 3257
;3257:	CheckTeamVote( TEAM_BLUE );
CNSTI4 2
ARGI4
ADDRGP4 CheckTeamVote
CALLV
pop
line 3260
;3258:
;3259:	// for tracking changes
;3260:	CheckCvars();
ADDRGP4 CheckCvars
CALLV
pop
line 3262
;3261:
;3262:	if (g_listEntity.integer) {
ADDRGP4 g_listEntity+12
INDIRI4
CNSTI4 0
EQI4 $1951
line 3263
;3263:		for (i = 0; i < MAX_GENTITIES; i++) {
ADDRLP4 4
CNSTI4 0
ASGNI4
LABELV $1954
line 3264
;3264:			G_Printf("%4i: %s\n", i, g_entities[i].classname);
ADDRGP4 $1958
ARGP4
ADDRLP4 4
INDIRI4
ARGI4
ADDRLP4 4
INDIRI4
CNSTI4 844
MULI4
ADDRGP4 g_entities+528
ADDP4
INDIRP4
ARGP4
ADDRGP4 G_Printf
CALLV
pop
line 3265
;3265:		}
LABELV $1955
line 3263
ADDRLP4 4
ADDRLP4 4
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
ADDRLP4 4
INDIRI4
CNSTI4 1024
LTI4 $1954
line 3266
;3266:		trap_Cvar_Set("g_listEntity", "0");
ADDRGP4 $197
ARGP4
ADDRGP4 $96
ARGP4
ADDRGP4 trap_Cvar_Set
CALLV
pop
line 3267
;3267:	}
LABELV $1951
line 3268
;3268:}
LABELV $1861
endproc G_RunFrame 60 12
export SetGameSeed
proc SetGameSeed 36 0
line 3278
;3269:
;3270:static unsigned long randomizers[GST_num_types][4][2];
;3271:static unsigned long seeds[GST_num_types][4];
;3272:
;3273:/*
;3274:================
;3275:JUHOX: SetGameSeed
;3276:================
;3277:*/
;3278:void SetGameSeed(void) {
line 3283
;3279:	unsigned long seed;
;3280:	int i;
;3281:	unsigned long staticSeed;
;3282:
;3283:	seed = g_gameSeed.integer & 0xffff;
ADDRLP4 8
ADDRGP4 g_gameSeed+12
INDIRI4
CNSTI4 65535
BANDI4
CVIU4 4
ASGNU4
line 3284
;3284:	if (!seed) seed = (rand() << 16) + rand();
ADDRLP4 8
INDIRU4
CNSTU4 0
NEU4 $1962
ADDRLP4 12
ADDRGP4 rand
CALLI4
ASGNI4
ADDRLP4 16
ADDRGP4 rand
CALLI4
ASGNI4
ADDRLP4 8
ADDRLP4 12
INDIRI4
CNSTI4 16
LSHI4
ADDRLP4 16
INDIRI4
ADDI4
CVIU4 4
ASGNU4
LABELV $1962
line 3286
;3285:
;3286:	staticSeed = 0xab73496e;
ADDRLP4 0
CNSTU4 2876459374
ASGNU4
line 3288
;3287:
;3288:	for (i = 0; i < GST_num_types; i++) {
ADDRLP4 4
CNSTI4 0
ASGNI4
LABELV $1964
line 3291
;3289:		int j;
;3290:
;3291:		for (j = 0; j < 4; j++) {
ADDRLP4 20
CNSTI4 0
ASGNI4
LABELV $1968
line 3294
;3292:			int k;
;3293:
;3294:			seeds[i][j] = seed;
ADDRLP4 20
INDIRI4
CNSTI4 2
LSHI4
ADDRLP4 4
INDIRI4
CNSTI4 4
LSHI4
ADDRGP4 seeds
ADDP4
ADDP4
ADDRLP4 8
INDIRU4
ASGNU4
line 3296
;3295:
;3296:			for (k = 0; k < 2; k++) {
ADDRLP4 24
CNSTI4 0
ASGNI4
LABELV $1972
line 3297
;3297:				randomizers[i][j][k] = staticSeed;
ADDRLP4 24
INDIRI4
CNSTI4 2
LSHI4
ADDRLP4 20
INDIRI4
CNSTI4 3
LSHI4
ADDRLP4 4
INDIRI4
CNSTI4 5
LSHI4
ADDRGP4 randomizers
ADDP4
ADDP4
ADDP4
ADDRLP4 0
INDIRU4
ASGNU4
line 3299
;3298:
;3299:				if (k == 0) randomizers[i][j][k] |= 1;
ADDRLP4 24
INDIRI4
CNSTI4 0
NEI4 $1976
ADDRLP4 28
ADDRLP4 24
INDIRI4
CNSTI4 2
LSHI4
ADDRLP4 20
INDIRI4
CNSTI4 3
LSHI4
ADDRLP4 4
INDIRI4
CNSTI4 5
LSHI4
ADDRGP4 randomizers
ADDP4
ADDP4
ADDP4
ASGNP4
ADDRLP4 28
INDIRP4
ADDRLP4 28
INDIRP4
INDIRU4
CNSTU4 1
BORU4
ASGNU4
LABELV $1976
line 3301
;3300:
;3301:				staticSeed = 0x59f138eb * (staticSeed ^ 0xc7298ba5);
ADDRLP4 0
ADDRLP4 0
INDIRU4
CNSTU4 3341388709
BXORU4
CNSTU4 1508980971
MULU4
ASGNU4
line 3302
;3302:				staticSeed = (staticSeed << 1) | (staticSeed >> 31);
ADDRLP4 0
ADDRLP4 0
INDIRU4
CNSTI4 1
LSHU4
ADDRLP4 0
INDIRU4
CNSTI4 31
RSHU4
BORU4
ASGNU4
line 3303
;3303:			}
LABELV $1973
line 3296
ADDRLP4 24
ADDRLP4 24
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
ADDRLP4 24
INDIRI4
CNSTI4 2
LTI4 $1972
line 3304
;3304:		}
LABELV $1969
line 3291
ADDRLP4 20
ADDRLP4 20
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
ADDRLP4 20
INDIRI4
CNSTI4 4
LTI4 $1968
line 3305
;3305:	}
LABELV $1965
line 3288
ADDRLP4 4
ADDRLP4 4
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
ADDRLP4 4
INDIRI4
CNSTI4 6
LTI4 $1964
line 3306
;3306:}
LABELV $1960
endproc SetGameSeed 36 0
export SeededRandom
proc SeededRandom 36 0
line 3313
;3307:
;3308:/*
;3309:================
;3310:JUHOX: SeededRandom
;3311:================
;3312:*/
;3313:unsigned long SeededRandom(gameseed_type_t type) {
line 3316
;3314:	unsigned long r;
;3315:
;3316:	r = 0xe3994b8f;
ADDRLP4 0
CNSTU4 3818474383
ASGNU4
line 3318
;3317:
;3318:	r += randomizers[type][0][0] * (seeds[type][0] ^ randomizers[type][0][1]);
ADDRLP4 4
ADDRFP4 0
INDIRI4
ASGNI4
ADDRLP4 0
ADDRLP4 0
INDIRU4
ADDRLP4 4
INDIRI4
CNSTI4 5
LSHI4
ADDRGP4 randomizers
ADDP4
INDIRU4
ADDRLP4 4
INDIRI4
CNSTI4 4
LSHI4
ADDRGP4 seeds
ADDP4
INDIRU4
ADDRLP4 4
INDIRI4
CNSTI4 5
LSHI4
ADDRGP4 randomizers+4
ADDP4
INDIRU4
BXORU4
MULU4
ADDU4
ASGNU4
line 3319
;3319:	seeds[type][0] = seeds[type][1];
ADDRLP4 8
ADDRFP4 0
INDIRI4
ASGNI4
ADDRLP4 8
INDIRI4
CNSTI4 4
LSHI4
ADDRGP4 seeds
ADDP4
ADDRLP4 8
INDIRI4
CNSTI4 4
LSHI4
ADDRGP4 seeds+4
ADDP4
INDIRU4
ASGNU4
line 3321
;3320:
;3321:	r += randomizers[type][1][0] * (seeds[type][1] ^ randomizers[type][1][1]);
ADDRLP4 12
ADDRFP4 0
INDIRI4
ASGNI4
ADDRLP4 0
ADDRLP4 0
INDIRU4
ADDRLP4 12
INDIRI4
CNSTI4 5
LSHI4
ADDRGP4 randomizers+8
ADDP4
INDIRU4
ADDRLP4 12
INDIRI4
CNSTI4 4
LSHI4
ADDRGP4 seeds+4
ADDP4
INDIRU4
ADDRLP4 12
INDIRI4
CNSTI4 5
LSHI4
ADDRGP4 randomizers+8+4
ADDP4
INDIRU4
BXORU4
MULU4
ADDU4
ASGNU4
line 3322
;3322:	seeds[type][1] = seeds[type][2];
ADDRLP4 16
ADDRFP4 0
INDIRI4
ASGNI4
ADDRLP4 16
INDIRI4
CNSTI4 4
LSHI4
ADDRGP4 seeds+4
ADDP4
ADDRLP4 16
INDIRI4
CNSTI4 4
LSHI4
ADDRGP4 seeds+8
ADDP4
INDIRU4
ASGNU4
line 3324
;3323:
;3324:	r += randomizers[type][2][0] * (seeds[type][2] ^ randomizers[type][2][1]);
ADDRLP4 20
ADDRFP4 0
INDIRI4
ASGNI4
ADDRLP4 0
ADDRLP4 0
INDIRU4
ADDRLP4 20
INDIRI4
CNSTI4 5
LSHI4
ADDRGP4 randomizers+16
ADDP4
INDIRU4
ADDRLP4 20
INDIRI4
CNSTI4 4
LSHI4
ADDRGP4 seeds+8
ADDP4
INDIRU4
ADDRLP4 20
INDIRI4
CNSTI4 5
LSHI4
ADDRGP4 randomizers+16+4
ADDP4
INDIRU4
BXORU4
MULU4
ADDU4
ASGNU4
line 3325
;3325:	seeds[type][2] = seeds[type][3];
ADDRLP4 24
ADDRFP4 0
INDIRI4
ASGNI4
ADDRLP4 24
INDIRI4
CNSTI4 4
LSHI4
ADDRGP4 seeds+8
ADDP4
ADDRLP4 24
INDIRI4
CNSTI4 4
LSHI4
ADDRGP4 seeds+12
ADDP4
INDIRU4
ASGNU4
line 3327
;3326:
;3327:	r += randomizers[type][3][0] * (seeds[type][3] ^ randomizers[type][3][1]);
ADDRLP4 28
ADDRFP4 0
INDIRI4
ASGNI4
ADDRLP4 0
ADDRLP4 0
INDIRU4
ADDRLP4 28
INDIRI4
CNSTI4 5
LSHI4
ADDRGP4 randomizers+24
ADDP4
INDIRU4
ADDRLP4 28
INDIRI4
CNSTI4 4
LSHI4
ADDRGP4 seeds+12
ADDP4
INDIRU4
ADDRLP4 28
INDIRI4
CNSTI4 5
LSHI4
ADDRGP4 randomizers+24+4
ADDP4
INDIRU4
BXORU4
MULU4
ADDU4
ASGNU4
line 3328
;3328:	r = (r << 1) | (r >> 31);
ADDRLP4 0
ADDRLP4 0
INDIRU4
CNSTI4 1
LSHU4
ADDRLP4 0
INDIRU4
CNSTI4 31
RSHU4
BORU4
ASGNU4
line 3329
;3329:	seeds[type][3] = r;
ADDRFP4 0
INDIRI4
CNSTI4 4
LSHI4
ADDRGP4 seeds+12
ADDP4
ADDRLP4 0
INDIRU4
ASGNU4
line 3331
;3330:
;3331:	return r;
ADDRLP4 0
INDIRU4
RETU4
LABELV $1978
endproc SeededRandom 36 0
export InitLocalSeed
proc InitLocalSeed 16 4
line 3339
;3332:}
;3333:
;3334:/*
;3335:================
;3336:JUHOX: InitLocalSeed
;3337:================
;3338:*/
;3339:void InitLocalSeed(gameseed_type_t type, localseed_t* seed) {
line 3340
;3340:	seed->seed0 = SeededRandom(type);
ADDRFP4 0
INDIRI4
ARGI4
ADDRLP4 0
ADDRGP4 SeededRandom
CALLU4
ASGNU4
ADDRFP4 4
INDIRP4
ADDRLP4 0
INDIRU4
ASGNU4
line 3341
;3341:	seed->seed1 = SeededRandom(type);
ADDRFP4 0
INDIRI4
ARGI4
ADDRLP4 4
ADDRGP4 SeededRandom
CALLU4
ASGNU4
ADDRFP4 4
INDIRP4
CNSTI4 4
ADDP4
ADDRLP4 4
INDIRU4
ASGNU4
line 3342
;3342:	seed->seed2 = SeededRandom(type);
ADDRFP4 0
INDIRI4
ARGI4
ADDRLP4 8
ADDRGP4 SeededRandom
CALLU4
ASGNU4
ADDRFP4 4
INDIRP4
CNSTI4 8
ADDP4
ADDRLP4 8
INDIRU4
ASGNU4
line 3343
;3343:	seed->seed3 = SeededRandom(type);
ADDRFP4 0
INDIRI4
ARGI4
ADDRLP4 12
ADDRGP4 SeededRandom
CALLU4
ASGNU4
ADDRFP4 4
INDIRP4
CNSTI4 12
ADDP4
ADDRLP4 12
INDIRU4
ASGNU4
line 3344
;3344:}
LABELV $1998
endproc InitLocalSeed 16 4
export G_InitGameTemplates
proc G_InitGameTemplates 0 12
line 3351
;3345:
;3346:/*
;3347:================
;3348:JUHOX: G_InitGameTemplates
;3349:================
;3350:*/
;3351:void G_InitGameTemplates(void) {
line 3352
;3352:	memset(&templateFileList, 0, sizeof(templateFileList));
ADDRGP4 templateFileList
ARGP4
CNSTI4 0
ARGI4
CNSTI4 1024
ARGI4
ADDRGP4 memset
CALLP4
pop
line 3353
;3353:	numTemplateFiles = 0;
ADDRGP4 numTemplateFiles
CNSTI4 0
ASGNI4
line 3354
;3354:	memset(&templateList, 0, sizeof(templateList));
ADDRGP4 templateList
ARGP4
CNSTI4 0
ARGI4
CNSTI4 81544
ARGI4
ADDRGP4 memset
CALLP4
pop
line 3355
;3355:	memset(&transferredTemplatesPerClient, 0, sizeof(transferredTemplatesPerClient));
ADDRGP4 transferredTemplatesPerClient
ARGP4
CNSTI4 0
ARGI4
CNSTI4 8448
ARGI4
ADDRGP4 memset
CALLP4
pop
line 3356
;3356:	memset(&clientWantsTemplateTransfer, 0, sizeof(clientWantsTemplateTransfer));
ADDRGP4 clientWantsTemplateTransfer
ARGP4
CNSTI4 0
ARGI4
CNSTI4 256
ARGI4
ADDRGP4 memset
CALLP4
pop
line 3357
;3357:	lastServedClient = 0;
ADDRGP4 lastServedClient
CNSTI4 0
ASGNI4
line 3358
;3358:	numClientsToServe = 0;
ADDRGP4 numClientsToServe
CNSTI4 0
ASGNI4
line 3359
;3359:	nextServiceTime = 0;
ADDRGP4 nextServiceTime
CNSTI4 0
ASGNI4
line 3360
;3360:}
LABELV $1999
endproc G_InitGameTemplates 0 12
proc GetTemplateFileList 1052 16
line 3367
;3361:
;3362:/*
;3363:================
;3364:JUHOX: GetTemplateFileList
;3365:================
;3366:*/
;3367:static qboolean GetTemplateFileList(void) {
line 3373
;3368:	int i;
;3369:	const char* name;
;3370:	char buf[MAX_STRING_CHARS];
;3371:	char* p;
;3372:
;3373:	trap_Cvar_VariableStringBuffer("svtmplfiles", buf, sizeof(buf));
ADDRGP4 $199
ARGP4
ADDRLP4 12
ARGP4
CNSTI4 1024
ARGI4
ADDRGP4 trap_Cvar_VariableStringBuffer
CALLV
pop
line 3374
;3374:	if (!buf[0]) {
ADDRLP4 12
INDIRI1
CVII4 1
CNSTI4 0
NEI4 $2001
line 3375
;3375:		numTemplateFiles = trap_FS_GetFileList("templates", ".tmpl", templateFileList, sizeof(templateFileList));
ADDRGP4 $2003
ARGP4
ADDRGP4 $2004
ARGP4
ADDRGP4 templateFileList
ARGP4
CNSTI4 1024
ARGI4
ADDRLP4 1036
ADDRGP4 trap_FS_GetFileList
CALLI4
ASGNI4
ADDRGP4 numTemplateFiles
ADDRLP4 1036
INDIRI4
ASGNI4
line 3377
;3376:
;3377:		p = buf;
ADDRLP4 0
ADDRLP4 12
ASGNP4
line 3378
;3378:		name = templateFileList;
ADDRLP4 8
ADDRGP4 templateFileList
ASGNP4
line 3379
;3379:		for (i = 0; i < numTemplateFiles; i++) {
ADDRLP4 4
CNSTI4 0
ASGNI4
ADDRGP4 $2008
JUMPV
LABELV $2005
line 3382
;3380:			int n;
;3381:
;3382:			n = strlen(name);
ADDRLP4 8
INDIRP4
ARGP4
ADDRLP4 1044
ADDRGP4 strlen
CALLI4
ASGNI4
ADDRLP4 1040
ADDRLP4 1044
INDIRI4
ASGNI4
line 3383
;3383:			if (i > 0) *(p++) = '\\';
ADDRLP4 4
INDIRI4
CNSTI4 0
LEI4 $2009
ADDRLP4 1048
ADDRLP4 0
INDIRP4
ASGNP4
ADDRLP4 0
ADDRLP4 1048
INDIRP4
CNSTI4 1
ADDP4
ASGNP4
ADDRLP4 1048
INDIRP4
CNSTI1 92
ASGNI1
LABELV $2009
line 3384
;3384:			strcpy(p, name);
ADDRLP4 0
INDIRP4
ARGP4
ADDRLP4 8
INDIRP4
ARGP4
ADDRGP4 strcpy
CALLP4
pop
line 3385
;3385:			p += n;
ADDRLP4 0
ADDRLP4 1040
INDIRI4
ADDRLP4 0
INDIRP4
ADDP4
ASGNP4
line 3386
;3386:			name += n + 1;
ADDRLP4 8
ADDRLP4 1040
INDIRI4
CNSTI4 1
ADDI4
ADDRLP4 8
INDIRP4
ADDP4
ASGNP4
line 3387
;3387:		}
LABELV $2006
line 3379
ADDRLP4 4
ADDRLP4 4
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
LABELV $2008
ADDRLP4 4
INDIRI4
ADDRGP4 numTemplateFiles
INDIRI4
LTI4 $2005
line 3388
;3388:		trap_Cvar_Set("svtmplfiles", buf);
ADDRGP4 $199
ARGP4
ADDRLP4 12
ARGP4
ADDRGP4 trap_Cvar_Set
CALLV
pop
line 3389
;3389:		return qtrue;
CNSTI4 1
RETI4
ADDRGP4 $2000
JUMPV
LABELV $2001
line 3391
;3390:	}
;3391:	else {
line 3392
;3392:		Q_strncpyz(templateFileList, buf, sizeof(templateFileList));
ADDRGP4 templateFileList
ARGP4
ADDRLP4 12
ARGP4
CNSTI4 1024
ARGI4
ADDRGP4 Q_strncpyz
CALLV
pop
line 3393
;3393:		p = templateFileList;
ADDRLP4 0
ADDRGP4 templateFileList
ASGNP4
line 3394
;3394:		numTemplateFiles = 0;
ADDRGP4 numTemplateFiles
CNSTI4 0
ASGNI4
ADDRGP4 $2012
JUMPV
LABELV $2011
line 3395
;3395:		while (*p) {
line 3396
;3396:			if (*p == '\\') {
ADDRLP4 0
INDIRP4
INDIRI1
CVII4 1
CNSTI4 92
NEI4 $2014
line 3397
;3397:				*p = 0;
ADDRLP4 0
INDIRP4
CNSTI1 0
ASGNI1
line 3398
;3398:				numTemplateFiles++;
ADDRLP4 1036
ADDRGP4 numTemplateFiles
ASGNP4
ADDRLP4 1036
INDIRP4
ADDRLP4 1036
INDIRP4
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
line 3399
;3399:			}
LABELV $2014
line 3400
;3400:			p++;
ADDRLP4 0
ADDRLP4 0
INDIRP4
CNSTI4 1
ADDP4
ASGNP4
line 3401
;3401:		}
LABELV $2012
line 3395
ADDRLP4 0
INDIRP4
INDIRI1
CVII4 1
CNSTI4 0
NEI4 $2011
line 3402
;3402:		if (p > templateFileList) numTemplateFiles++;
ADDRLP4 0
INDIRP4
CVPU4 4
ADDRGP4 templateFileList
CVPU4 4
LEU4 $2016
ADDRLP4 1036
ADDRGP4 numTemplateFiles
ASGNP4
ADDRLP4 1036
INDIRP4
ADDRLP4 1036
INDIRP4
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
LABELV $2016
line 3403
;3403:		return qfalse;
CNSTI4 0
RETI4
LABELV $2000
endproc GetTemplateFileList 1052 16
export G_LoadGameTemplates
proc G_LoadGameTemplates 48 12
line 3412
;3404:	}
;3405:}
;3406:
;3407:/*
;3408:================
;3409:JUHOX: G_LoadGameTemplates
;3410:================
;3411:*/
;3412:void G_LoadGameTemplates(void) {
line 3416
;3413:	int i;
;3414:	const char* name;
;3415:
;3416:	if (GetTemplateFileList()) {
ADDRLP4 8
ADDRGP4 GetTemplateFileList
CALLI4
ASGNI4
ADDRLP4 8
INDIRI4
CNSTI4 0
EQI4 $2019
line 3417
;3417:		level.loadingTemplates = qtrue;
ADDRGP4 level+23060
CNSTI4 1
ASGNI4
line 3418
;3418:		level.templateCounter = 0;
ADDRGP4 level+23064
CNSTI4 0
ASGNI4
line 3419
;3419:		level.templateName[0] = 0;
ADDRGP4 level+23068
CNSTI1 0
ASGNI1
line 3420
;3420:		name = templateFileList;
ADDRLP4 0
ADDRGP4 templateFileList
ASGNP4
line 3421
;3421:		for (i = 0; i < numTemplateFiles; i++) {
ADDRLP4 4
CNSTI4 0
ASGNI4
ADDRGP4 $2027
JUMPV
LABELV $2024
line 3422
;3422:			trap_SendConsoleCommand(EXEC_APPEND, va("tmplname %s; exec templates/%s\n", name, name));
ADDRGP4 $2028
ARGP4
ADDRLP4 0
INDIRP4
ARGP4
ADDRLP4 0
INDIRP4
ARGP4
ADDRLP4 16
ADDRGP4 va
CALLP4
ASGNP4
CNSTI4 2
ARGI4
ADDRLP4 16
INDIRP4
ARGP4
ADDRGP4 trap_SendConsoleCommand
CALLV
pop
line 3423
;3423:			name += strlen(name) + 1;
ADDRLP4 0
INDIRP4
ARGP4
ADDRLP4 20
ADDRGP4 strlen
CALLI4
ASGNI4
ADDRLP4 0
ADDRLP4 20
INDIRI4
CNSTI4 1
ADDI4
ADDRLP4 0
INDIRP4
ADDP4
ASGNP4
line 3424
;3424:		}
LABELV $2025
line 3421
ADDRLP4 4
ADDRLP4 4
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
LABELV $2027
ADDRLP4 4
INDIRI4
ADDRGP4 numTemplateFiles
INDIRI4
LTI4 $2024
line 3425
;3425:	}
LABELV $2019
line 3427
;3426:
;3427:	trap_SendConsoleCommand(EXEC_APPEND, "wait 3; templates_restart\n");
CNSTI4 2
ARGI4
ADDRGP4 $2029
ARGP4
ADDRGP4 trap_SendConsoleCommand
CALLV
pop
line 3429
;3428:
;3429:	{
line 3432
;3430:		char buf[32];
;3431:
;3432:		trap_Cvar_VariableStringBuffer("sv_mapChecksum", buf, sizeof(buf));
ADDRGP4 $2030
ARGP4
ADDRLP4 12
ARGP4
CNSTI4 32
ARGI4
ADDRGP4 trap_Cvar_VariableStringBuffer
CALLV
pop
line 3433
;3433:		sv_mapChecksum = atoi(buf);
ADDRLP4 12
ARGP4
ADDRLP4 44
ADDRGP4 atoi
CALLI4
ASGNI4
ADDRGP4 sv_mapChecksum
ADDRLP4 44
INDIRI4
ASGNI4
line 3434
;3434:	}
line 3435
;3435:}
LABELV $2018
endproc G_LoadGameTemplates 48 12
export G_SetTemplateName
proc G_SetTemplateName 12 12
line 3442
;3436:
;3437:/*
;3438:================
;3439:JUHOX: G_SetTemplateName
;3440:================
;3441:*/
;3442:void G_SetTemplateName(const char* name) {
line 3445
;3443:	int len;
;3444:
;3445:	level.templateCounter = 0;
ADDRGP4 level+23064
CNSTI4 0
ASGNI4
line 3446
;3446:	level.templateName[0] = 0;
ADDRGP4 level+23068
CNSTI1 0
ASGNI1
line 3447
;3447:	if (!level.loadingTemplates) return;
ADDRGP4 level+23060
INDIRI4
CNSTI4 0
NEI4 $2034
ADDRGP4 $2031
JUMPV
LABELV $2034
line 3449
;3448:
;3449:	Q_strncpyz(level.templateName, name, sizeof(level.templateName));
ADDRGP4 level+23068
ARGP4
ADDRFP4 0
INDIRP4
ARGP4
CNSTI4 1024
ARGI4
ADDRGP4 Q_strncpyz
CALLV
pop
line 3450
;3450:	len = strlen(level.templateName);
ADDRGP4 level+23068
ARGP4
ADDRLP4 4
ADDRGP4 strlen
CALLI4
ASGNI4
ADDRLP4 0
ADDRLP4 4
INDIRI4
ASGNI4
line 3451
;3451:	if (len >= 5) {
ADDRLP4 0
INDIRI4
CNSTI4 5
LTI4 $2040
line 3452
;3452:		if (!Q_stricmp(&level.templateName[len-5], ".tmpl")) {
ADDRLP4 0
INDIRI4
ADDRGP4 level+23068-5
ADDP4
ARGP4
ADDRGP4 $2004
ARGP4
ADDRLP4 8
ADDRGP4 Q_stricmp
CALLI4
ASGNI4
ADDRLP4 8
INDIRI4
CNSTI4 0
NEI4 $2042
line 3453
;3453:			level.templateName[len-5] = 0;
ADDRLP4 0
INDIRI4
ADDRGP4 level+23068-5
ADDP4
CNSTI1 0
ASGNI1
line 3454
;3454:		}
LABELV $2042
line 3455
;3455:	}
LABELV $2040
line 3456
;3456:}
LABELV $2031
endproc G_SetTemplateName 12 12
export G_DefineTemplate
proc G_DefineTemplate 1040 20
line 3463
;3457:
;3458:/*
;3459:================
;3460:JUHOX: G_DefineTemplate
;3461:================
;3462:*/
;3463:void G_DefineTemplate(const char* tmpl) {
line 3467
;3464:	const char* name;
;3465:	char cvarName[MAX_STRING_CHARS];
;3466:
;3467:	if (!level.loadingTemplates) return;
ADDRGP4 level+23060
INDIRI4
CNSTI4 0
NEI4 $2049
ADDRGP4 $2048
JUMPV
LABELV $2049
line 3468
;3468:	if (!level.templateName[0]) return;
ADDRGP4 level+23068
INDIRI1
CVII4 1
CNSTI4 0
NEI4 $2052
ADDRGP4 $2048
JUMPV
LABELV $2052
line 3470
;3469:
;3470:	if (!Info_Validate(tmpl)) return;
ADDRFP4 0
INDIRP4
ARGP4
ADDRLP4 1028
ADDRGP4 Info_Validate
CALLI4
ASGNI4
ADDRLP4 1028
INDIRI4
CNSTI4 0
NEI4 $2055
ADDRGP4 $2048
JUMPV
LABELV $2055
line 3471
;3471:	name = Info_ValueForKey(tmpl, "name");
ADDRFP4 0
INDIRP4
ARGP4
ADDRGP4 $783
ARGP4
ADDRLP4 1032
ADDRGP4 Info_ValueForKey
CALLP4
ASGNP4
ADDRLP4 1024
ADDRLP4 1032
INDIRP4
ASGNP4
line 3472
;3472:	if (!name[0]) return;
ADDRLP4 1024
INDIRP4
INDIRI1
CVII4 1
CNSTI4 0
NEI4 $2057
ADDRGP4 $2048
JUMPV
LABELV $2057
line 3474
;3473:
;3474:	Com_sprintf(cvarName, sizeof(cvarName), "%s%03d", level.templateName, level.templateCounter);
ADDRLP4 0
ARGP4
CNSTI4 1024
ARGI4
ADDRGP4 $2059
ARGP4
ADDRGP4 level+23068
ARGP4
ADDRGP4 level+23064
INDIRI4
ARGI4
ADDRGP4 Com_sprintf
CALLV
pop
line 3475
;3475:	trap_Cvar_Register(NULL, cvarName, "", CVAR_ROM | CVAR_NORESTART);
CNSTP4 0
ARGP4
ADDRLP4 0
ARGP4
ADDRGP4 $90
ARGP4
CNSTI4 1088
ARGI4
ADDRGP4 trap_Cvar_Register
CALLV
pop
line 3476
;3476:	trap_Cvar_Set(cvarName, tmpl);
ADDRLP4 0
ARGP4
ADDRFP4 0
INDIRP4
ARGP4
ADDRGP4 trap_Cvar_Set
CALLV
pop
line 3478
;3477:	
;3478:	level.templateCounter++;
ADDRLP4 1036
ADDRGP4 level+23064
ASGNP4
ADDRLP4 1036
INDIRP4
ADDRLP4 1036
INDIRP4
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
line 3479
;3479:}
LABELV $2048
endproc G_DefineTemplate 1040 20
export G_RestartGameTemplates
proc G_RestartGameTemplates 2000 16
line 3486
;3480:
;3481:/*
;3482:================
;3483:JUHOX: G_RestartGameTemplates
;3484:================
;3485:*/
;3486:void G_RestartGameTemplates(void) {
line 3489
;3487:	int i;
;3488:
;3489:	level.loadingTemplates = qfalse;
ADDRGP4 level+23060
CNSTI4 0
ASGNI4
line 3491
;3490:
;3491:	BG_GetGameTemplateList(&templateList, numTemplateFiles, templateFileList, qfalse);
ADDRGP4 templateList
ARGP4
ADDRGP4 numTemplateFiles
INDIRI4
ARGI4
ADDRGP4 templateFileList
ARGP4
CNSTI4 0
ARGI4
ADDRGP4 BG_GetGameTemplateList
CALLV
pop
line 3493
;3492:	
;3493:	memset(templateChecksumString, 0, sizeof(templateChecksumString));
ADDRGP4 templateChecksumString
ARGP4
CNSTI4 0
ARGI4
CNSTI4 1001
ARGI4
ADDRGP4 memset
CALLP4
pop
line 3494
;3494:	templateListChecksum = 0;
ADDRGP4 templateListChecksum
CNSTI4 0
ASGNI4
line 3495
;3495:	for (i = 0; i < templateList.numEntries; i++) {
ADDRLP4 0
CNSTI4 0
ASGNI4
ADDRGP4 $2068
JUMPV
LABELV $2065
line 3504
;3496:		char info[MAX_INFO_STRING];
;3497:		char name[64];
;3498:		char highscoreVar[64];
;3499:		int highscoreType;
;3500:		char highscore[32];
;3501:		char descriptor[MAX_HIGHSCORE_DESCRIPTOR];
;3502:		long checksum;
;3503:
;3504:		trap_Cvar_VariableStringBuffer(templateList.entries[i].cvar, info, sizeof(info));
ADDRLP4 0
INDIRI4
CNSTI4 4
LSHI4
ADDRGP4 templateList+65540
ADDP4
INDIRP4
ARGP4
ADDRLP4 4
ARGP4
CNSTI4 1024
ARGI4
ADDRGP4 trap_Cvar_VariableStringBuffer
CALLV
pop
line 3505
;3505:		Q_strncpyz(name, Info_ValueForKey(info, "name"), sizeof(name));
ADDRLP4 4
ARGP4
ADDRGP4 $783
ARGP4
ADDRLP4 1964
ADDRGP4 Info_ValueForKey
CALLP4
ASGNP4
ADDRLP4 1092
ARGP4
ADDRLP4 1964
INDIRP4
ARGP4
CNSTI4 64
ARGI4
ADDRGP4 Q_strncpyz
CALLV
pop
line 3506
;3506:		highscoreType = atoi(Info_ValueForKey(info, "ht"));
ADDRLP4 4
ARGP4
ADDRGP4 $2071
ARGP4
ADDRLP4 1968
ADDRGP4 Info_ValueForKey
CALLP4
ASGNP4
ADDRLP4 1968
INDIRP4
ARGP4
ADDRLP4 1972
ADDRGP4 atoi
CALLI4
ASGNI4
ADDRLP4 1960
ADDRLP4 1972
INDIRI4
ASGNI4
line 3507
;3507:		Q_strncpyz(highscoreVar, Info_ValueForKey(info, "hn"), sizeof(highscoreVar));
ADDRLP4 4
ARGP4
ADDRGP4 $2072
ARGP4
ADDRLP4 1976
ADDRGP4 Info_ValueForKey
CALLP4
ASGNP4
ADDRLP4 1028
ARGP4
ADDRLP4 1976
INDIRP4
ARGP4
CNSTI4 64
ARGI4
ADDRGP4 Q_strncpyz
CALLV
pop
line 3508
;3508:		trap_Cvar_VariableStringBuffer(va("%s0", highscoreVar), highscore, sizeof(highscore));
ADDRGP4 $315
ARGP4
ADDRLP4 1028
ARGP4
ADDRLP4 1980
ADDRGP4 va
CALLP4
ASGNP4
ADDRLP4 1980
INDIRP4
ARGP4
ADDRLP4 1156
ARGP4
CNSTI4 32
ARGI4
ADDRGP4 trap_Cvar_VariableStringBuffer
CALLV
pop
line 3509
;3509:		trap_Cvar_VariableStringBuffer(va("%s1", highscoreVar), descriptor, sizeof(descriptor));
ADDRGP4 $867
ARGP4
ADDRLP4 1028
ARGP4
ADDRLP4 1984
ADDRGP4 va
CALLP4
ASGNP4
ADDRLP4 1984
INDIRP4
ARGP4
ADDRLP4 1188
ARGP4
CNSTI4 768
ARGI4
ADDRGP4 trap_Cvar_VariableStringBuffer
CALLV
pop
line 3510
;3510:		checksum = BG_TemplateChecksum(name, highscoreType, highscore, descriptor);
ADDRLP4 1092
ARGP4
ADDRLP4 1960
INDIRI4
ARGI4
ADDRLP4 1156
ARGP4
ADDRLP4 1188
ARGP4
ADDRLP4 1988
ADDRGP4 BG_TemplateChecksum
CALLI4
ASGNI4
ADDRLP4 1956
ADDRLP4 1988
INDIRI4
ASGNI4
line 3511
;3511:		templateListChecksum += checksum;
ADDRLP4 1992
ADDRGP4 templateListChecksum
ASGNP4
ADDRLP4 1992
INDIRP4
ADDRLP4 1992
INDIRP4
INDIRI4
ADDRLP4 1956
INDIRI4
ADDI4
ASGNI4
line 3512
;3512:		templateChecksumString[i] = BG_ChecksumChar(checksum);
ADDRLP4 1956
INDIRI4
ARGI4
ADDRLP4 1996
ADDRGP4 BG_ChecksumChar
CALLI4
ASGNI4
ADDRLP4 0
INDIRI4
ADDRGP4 templateChecksumString
ADDP4
ADDRLP4 1996
INDIRI4
CVII1 4
ASGNI1
line 3513
;3513:	}
LABELV $2066
line 3495
ADDRLP4 0
ADDRLP4 0
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
LABELV $2068
ADDRLP4 0
INDIRI4
ADDRGP4 templateList+81540
INDIRI4
LTI4 $2065
line 3514
;3514:}
LABELV $2063
endproc G_RestartGameTemplates 2000 16
proc IsTemplateTransferred 12 0
line 3521
;3515:
;3516:/*
;3517:================
;3518:JUHOX: IsTemplateTransferred
;3519:================
;3520:*/
;3521:static qboolean IsTemplateTransferred(const transferredTemplates_t* tt, int listIndex) {
line 3522
;3522:	if (listIndex < 0 || listIndex >= templateList.numEntries) return qtrue;
ADDRLP4 0
ADDRFP4 4
INDIRI4
ASGNI4
ADDRLP4 0
INDIRI4
CNSTI4 0
LTI4 $2077
ADDRLP4 0
INDIRI4
ADDRGP4 templateList+81540
INDIRI4
LTI4 $2074
LABELV $2077
CNSTI4 1
RETI4
ADDRGP4 $2073
JUMPV
LABELV $2074
line 3524
;3523:
;3524:	return (tt->flags[listIndex >> 3] & (1 << (listIndex & 7)))? qtrue : qfalse;
ADDRLP4 8
ADDRFP4 4
INDIRI4
ASGNI4
ADDRLP4 8
INDIRI4
CNSTI4 3
RSHI4
ADDRFP4 0
INDIRP4
CNSTI4 4
ADDP4
ADDP4
INDIRU1
CVUI4 1
CNSTI4 1
ADDRLP4 8
INDIRI4
CNSTI4 7
BANDI4
LSHI4
BANDI4
CNSTI4 0
EQI4 $2079
ADDRLP4 4
CNSTI4 1
ASGNI4
ADDRGP4 $2080
JUMPV
LABELV $2079
ADDRLP4 4
CNSTI4 0
ASGNI4
LABELV $2080
ADDRLP4 4
INDIRI4
RETI4
LABELV $2073
endproc IsTemplateTransferred 12 0
proc MarkTemplateAsTransferred 20 8
line 3532
;3525:}
;3526:
;3527:/*
;3528:================
;3529:JUHOX: MarkTemplateAsTransferred
;3530:================
;3531:*/
;3532:static void MarkTemplateAsTransferred(transferredTemplates_t* tt, int listIndex) {
line 3533
;3533:	if (listIndex < 0 || listIndex >= templateList.numEntries) return;
ADDRLP4 0
ADDRFP4 4
INDIRI4
ASGNI4
ADDRLP4 0
INDIRI4
CNSTI4 0
LTI4 $2085
ADDRLP4 0
INDIRI4
ADDRGP4 templateList+81540
INDIRI4
LTI4 $2082
LABELV $2085
ADDRGP4 $2081
JUMPV
LABELV $2082
line 3534
;3534:	if (IsTemplateTransferred(tt, listIndex)) return;
ADDRFP4 0
INDIRP4
ARGP4
ADDRFP4 4
INDIRI4
ARGI4
ADDRLP4 4
ADDRGP4 IsTemplateTransferred
CALLI4
ASGNI4
ADDRLP4 4
INDIRI4
CNSTI4 0
EQI4 $2086
ADDRGP4 $2081
JUMPV
LABELV $2086
line 3536
;3535:
;3536:	tt->flags[listIndex >> 3] |= 1 << (listIndex & 7);
ADDRLP4 8
ADDRFP4 4
INDIRI4
ASGNI4
ADDRLP4 12
ADDRLP4 8
INDIRI4
CNSTI4 3
RSHI4
ADDRFP4 0
INDIRP4
CNSTI4 4
ADDP4
ADDP4
ASGNP4
ADDRLP4 12
INDIRP4
ADDRLP4 12
INDIRP4
INDIRU1
CVUI4 1
CNSTI4 1
ADDRLP4 8
INDIRI4
CNSTI4 7
BANDI4
LSHI4
BORI4
CVIU4 4
CVUU1 4
ASGNU1
line 3537
;3537:	tt->number++;
ADDRLP4 16
ADDRFP4 0
INDIRP4
ASGNP4
ADDRLP4 16
INDIRP4
ADDRLP4 16
INDIRP4
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
line 3538
;3538:}
LABELV $2081
endproc MarkTemplateAsTransferred 20 8
proc ClearTransferredTemplates 0 12
line 3560
;3539:
;3540:/*
;3541:================
;3542:JUHOX: MarkTemplateAsNotTransferred
;3543:================
;3544:*/
;3545:/*
;3546:static void MarkTemplateAsNotTransferred(transferredTemplates_t* tt, int listIndex) {
;3547:	if (listIndex < 0 || listIndex >= templateList.numEntries) return;
;3548:	if (!IsTemplateTransferred(tt, listIndex)) return;
;3549:
;3550:	tt->flags[listIndex >> 3] &= ~(1 << (listIndex & 7));
;3551:	tt->number--;
;3552:}
;3553:*/
;3554:
;3555:/*
;3556:================
;3557:JUHOX: ClearTransferredTemplates
;3558:================
;3559:*/
;3560:static void ClearTransferredTemplates(transferredTemplates_t* tt) {
line 3561
;3561:	memset(tt, 0, sizeof(*tt));
ADDRFP4 0
INDIRP4
ARGP4
CNSTI4 0
ARGI4
CNSTI4 132
ARGI4
ADDRGP4 memset
CALLP4
pop
line 3562
;3562:}
LABELV $2088
endproc ClearTransferredTemplates 0 12
export G_TemplateList_Request
proc G_TemplateList_Request 8 12
line 3569
;3563:
;3564:/*
;3565:================
;3566:JUHOX: G_TemplateList_Request
;3567:================
;3568:*/
;3569:void G_TemplateList_Request(int clientNum, int numberOfTemplates, long checksum) {
line 3570
;3570:	if (clientNum < 0 || clientNum >= MAX_CLIENTS) return;
ADDRLP4 0
ADDRFP4 0
INDIRI4
ASGNI4
ADDRLP4 0
INDIRI4
CNSTI4 0
LTI4 $2092
ADDRLP4 0
INDIRI4
CNSTI4 64
LTI4 $2090
LABELV $2092
ADDRGP4 $2089
JUMPV
LABELV $2090
line 3571
;3571:	if (clientWantsTemplateTransfer[clientNum]) return;
ADDRFP4 0
INDIRI4
CNSTI4 2
LSHI4
ADDRGP4 clientWantsTemplateTransfer
ADDP4
INDIRI4
CNSTI4 0
EQI4 $2093
ADDRGP4 $2089
JUMPV
LABELV $2093
line 3573
;3572:
;3573:	if (numberOfTemplates == templateList.numEntries && checksum == templateListChecksum) {
ADDRFP4 4
INDIRI4
ADDRGP4 templateList+81540
INDIRI4
NEI4 $2095
ADDRFP4 8
INDIRI4
ADDRGP4 templateListChecksum
INDIRI4
NEI4 $2095
line 3574
;3574:		trap_SendServerCommand(
ADDRGP4 $2098
ARGP4
ADDRGP4 templateList+81540
INDIRI4
ARGI4
ADDRGP4 templateListChecksum
INDIRI4
ARGI4
ADDRLP4 4
ADDRGP4 va
CALLP4
ASGNP4
ADDRFP4 0
INDIRI4
ARGI4
ADDRLP4 4
INDIRP4
ARGP4
ADDRGP4 trap_SendServerCommand
CALLV
pop
line 3578
;3575:			clientNum,
;3576:			va("templatelist_complete_cg %d %d", templateList.numEntries, templateListChecksum)
;3577:		);
;3578:		return;
ADDRGP4 $2089
JUMPV
LABELV $2095
line 3581
;3579:	}
;3580:
;3581:	clientWantsTemplateTransfer[clientNum] = qtrue;
ADDRFP4 0
INDIRI4
CNSTI4 2
LSHI4
ADDRGP4 clientWantsTemplateTransfer
ADDP4
CNSTI4 1
ASGNI4
line 3582
;3582:	numClientsToServe++;
ADDRLP4 4
ADDRGP4 numClientsToServe
ASGNP4
ADDRLP4 4
INDIRP4
ADDRLP4 4
INDIRP4
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
line 3583
;3583:}
LABELV $2089
endproc G_TemplateList_Request 8 12
export G_TemplateList_Stop
proc G_TemplateList_Stop 8 0
line 3590
;3584:
;3585:/*
;3586:================
;3587:JUHOX: G_TemplateList_Stop
;3588:================
;3589:*/
;3590:void G_TemplateList_Stop(int clientNum) {
line 3591
;3591:	if (clientNum < 0 || clientNum >= MAX_CLIENTS) return;
ADDRLP4 0
ADDRFP4 0
INDIRI4
ASGNI4
ADDRLP4 0
INDIRI4
CNSTI4 0
LTI4 $2103
ADDRLP4 0
INDIRI4
CNSTI4 64
LTI4 $2101
LABELV $2103
ADDRGP4 $2100
JUMPV
LABELV $2101
line 3592
;3592:	if (!clientWantsTemplateTransfer[clientNum]) return;
ADDRFP4 0
INDIRI4
CNSTI4 2
LSHI4
ADDRGP4 clientWantsTemplateTransfer
ADDP4
INDIRI4
CNSTI4 0
NEI4 $2104
ADDRGP4 $2100
JUMPV
LABELV $2104
line 3594
;3593:
;3594:	clientWantsTemplateTransfer[clientNum] = qfalse;
ADDRFP4 0
INDIRI4
CNSTI4 2
LSHI4
ADDRGP4 clientWantsTemplateTransfer
ADDP4
CNSTI4 0
ASGNI4
line 3595
;3595:	numClientsToServe--;
ADDRLP4 4
ADDRGP4 numClientsToServe
ASGNP4
ADDRLP4 4
INDIRP4
ADDRLP4 4
INDIRP4
INDIRI4
CNSTI4 1
SUBI4
ASGNI4
line 3596
;3596:}
LABELV $2100
endproc G_TemplateList_Stop 8 0
export G_TemplateList_Error
proc G_TemplateList_Error 24 12
line 3603
;3597:
;3598:/*
;3599:================
;3600:JUHOX: G_TemplateList_Error
;3601:================
;3602:*/
;3603:void G_TemplateList_Error(int clientNum, const char* checkString) {
line 3607
;3604:	transferredTemplates_t* tt;
;3605:	int i, n;
;3606:
;3607:	if (clientNum < 0 || clientNum >= MAX_CLIENTS) return;
ADDRLP4 12
ADDRFP4 0
INDIRI4
ASGNI4
ADDRLP4 12
INDIRI4
CNSTI4 0
LTI4 $2109
ADDRLP4 12
INDIRI4
CNSTI4 64
LTI4 $2107
LABELV $2109
ADDRGP4 $2106
JUMPV
LABELV $2107
line 3609
;3608:
;3609:	tt = &transferredTemplatesPerClient[clientNum];
ADDRLP4 8
ADDRFP4 0
INDIRI4
CNSTI4 132
MULI4
ADDRGP4 transferredTemplatesPerClient
ADDP4
ASGNP4
line 3610
;3610:	ClearTransferredTemplates(tt);
ADDRLP4 8
INDIRP4
ARGP4
ADDRGP4 ClearTransferredTemplates
CALLV
pop
line 3612
;3611:
;3612:	n = strlen(checkString);
ADDRFP4 4
INDIRP4
ARGP4
ADDRLP4 16
ADDRGP4 strlen
CALLI4
ASGNI4
ADDRLP4 4
ADDRLP4 16
INDIRI4
ASGNI4
line 3613
;3613:	if (templateList.numEntries < n) n = templateList.numEntries;
ADDRGP4 templateList+81540
INDIRI4
ADDRLP4 4
INDIRI4
GEI4 $2110
ADDRLP4 4
ADDRGP4 templateList+81540
INDIRI4
ASGNI4
LABELV $2110
line 3615
;3614:
;3615:	for (i = 0; i < n; i++) {
ADDRLP4 0
CNSTI4 0
ASGNI4
ADDRGP4 $2117
JUMPV
LABELV $2114
line 3616
;3616:		if (checkString[i] == templateChecksumString[i]) {
ADDRLP4 0
INDIRI4
ADDRFP4 4
INDIRP4
ADDP4
INDIRI1
CVII4 1
ADDRLP4 0
INDIRI4
ADDRGP4 templateChecksumString
ADDP4
INDIRI1
CVII4 1
NEI4 $2118
line 3617
;3617:			MarkTemplateAsTransferred(tt, i);
ADDRLP4 8
INDIRP4
ARGP4
ADDRLP4 0
INDIRI4
ARGI4
ADDRGP4 MarkTemplateAsTransferred
CALLV
pop
line 3618
;3618:		}
LABELV $2118
line 3619
;3619:	}
LABELV $2115
line 3615
ADDRLP4 0
ADDRLP4 0
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
LABELV $2117
ADDRLP4 0
INDIRI4
ADDRLP4 4
INDIRI4
LTI4 $2114
line 3620
;3620:	if (tt->number >= templateList.numEntries) {
ADDRLP4 8
INDIRP4
INDIRI4
ADDRGP4 templateList+81540
INDIRI4
LTI4 $2120
line 3622
;3621:		// no obvious error. re-transfer everything.
;3622:		ClearTransferredTemplates(tt);
ADDRLP4 8
INDIRP4
ARGP4
ADDRGP4 ClearTransferredTemplates
CALLV
pop
line 3623
;3623:	}
LABELV $2120
line 3625
;3624:
;3625:	G_TemplateList_Request(clientNum, -1, -1);
ADDRFP4 0
INDIRI4
ARGI4
CNSTI4 -1
ARGI4
CNSTI4 -1
ARGI4
ADDRGP4 G_TemplateList_Request
CALLV
pop
line 3626
;3626:}
LABELV $2106
endproc G_TemplateList_Error 24 12
proc NextClientToServe 8 0
line 3633
;3627:
;3628:/*
;3629:================
;3630:JUHOX: NextClientToServe
;3631:================
;3632:*/
;3633:static int NextClientToServe(void) {
line 3636
;3634:	int i;
;3635:
;3636:	if (numClientsToServe <= 0) return -1;
ADDRGP4 numClientsToServe
INDIRI4
CNSTI4 0
GTI4 $2124
CNSTI4 -1
RETI4
ADDRGP4 $2123
JUMPV
LABELV $2124
line 3638
;3637:
;3638:	for (i = 0; i < MAX_CLIENTS; i++) {
ADDRLP4 0
CNSTI4 0
ASGNI4
LABELV $2126
line 3639
;3639:		lastServedClient++;
ADDRLP4 4
ADDRGP4 lastServedClient
ASGNP4
ADDRLP4 4
INDIRP4
ADDRLP4 4
INDIRP4
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
line 3640
;3640:		if (lastServedClient >= MAX_CLIENTS) lastServedClient = 0;
ADDRGP4 lastServedClient
INDIRI4
CNSTI4 64
LTI4 $2130
ADDRGP4 lastServedClient
CNSTI4 0
ASGNI4
LABELV $2130
line 3642
;3641:
;3642:		if (clientWantsTemplateTransfer[lastServedClient]) return lastServedClient;
ADDRGP4 lastServedClient
INDIRI4
CNSTI4 2
LSHI4
ADDRGP4 clientWantsTemplateTransfer
ADDP4
INDIRI4
CNSTI4 0
EQI4 $2132
ADDRGP4 lastServedClient
INDIRI4
RETI4
ADDRGP4 $2123
JUMPV
LABELV $2132
line 3643
;3643:	}
LABELV $2127
line 3638
ADDRLP4 0
ADDRLP4 0
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
ADDRLP4 0
INDIRI4
CNSTI4 64
LTI4 $2126
line 3644
;3644:	return -1;
CNSTI4 -1
RETI4
LABELV $2123
endproc NextClientToServe 8 0
export G_SendGameTemplate
proc G_SendGameTemplate 2008 24
line 3652
;3645:}
;3646:
;3647:/*
;3648:================
;3649:JUHOX: G_SendGameTemplate
;3650:================
;3651:*/
;3652:void G_SendGameTemplate(void) {
line 3657
;3653:	int clientNum;
;3654:	transferredTemplates_t* tt;
;3655:	int i;
;3656:
;3657:	if (numClientsToServe <= 0) return;
ADDRGP4 numClientsToServe
INDIRI4
CNSTI4 0
GTI4 $2135
ADDRGP4 $2134
JUMPV
LABELV $2135
line 3659
;3658:
;3659:	if (nextServiceTime > level.time) return;
ADDRGP4 nextServiceTime
INDIRI4
ADDRGP4 level+32
INDIRI4
LEI4 $2137
ADDRGP4 $2134
JUMPV
LABELV $2137
line 3660
;3660:	nextServiceTime = level.time + 100;
ADDRGP4 nextServiceTime
ADDRGP4 level+32
INDIRI4
CNSTI4 100
ADDI4
ASGNI4
line 3662
;3661:
;3662:	clientNum = NextClientToServe();
ADDRLP4 12
ADDRGP4 NextClientToServe
CALLI4
ASGNI4
ADDRLP4 8
ADDRLP4 12
INDIRI4
ASGNI4
line 3663
;3663:	if (clientNum < 0 || clientNum >= MAX_CLIENTS) return;
ADDRLP4 8
INDIRI4
CNSTI4 0
LTI4 $2143
ADDRLP4 8
INDIRI4
CNSTI4 64
LTI4 $2141
LABELV $2143
ADDRGP4 $2134
JUMPV
LABELV $2141
line 3665
;3664:
;3665:	tt = &transferredTemplatesPerClient[clientNum];
ADDRLP4 4
ADDRLP4 8
INDIRI4
CNSTI4 132
MULI4
ADDRGP4 transferredTemplatesPerClient
ADDP4
ASGNP4
line 3666
;3666:	if (tt->number >= templateList.numEntries) goto TransferComplete;
ADDRLP4 4
INDIRP4
INDIRI4
ADDRGP4 templateList+81540
INDIRI4
LTI4 $2144
ADDRGP4 $2147
JUMPV
LABELV $2144
line 3668
;3667:
;3668:	for (i = 0; i < templateList.numEntries; i++) {
ADDRLP4 0
CNSTI4 0
ASGNI4
ADDRGP4 $2151
JUMPV
LABELV $2148
line 3669
;3669:		if (!IsTemplateTransferred(tt, i)) {
ADDRLP4 4
INDIRP4
ARGP4
ADDRLP4 0
INDIRI4
ARGI4
ADDRLP4 20
ADDRGP4 IsTemplateTransferred
CALLI4
ASGNI4
ADDRLP4 20
INDIRI4
CNSTI4 0
NEI4 $2153
line 3677
;3670:			char info[MAX_INFO_STRING];
;3671:			char name[64];
;3672:			char highscoreVar[64];
;3673:			int highscoreType;
;3674:			char highscore[32];
;3675:			char descriptor[MAX_HIGHSCORE_DESCRIPTOR];
;3676:
;3677:			trap_Cvar_VariableStringBuffer(templateList.entries[i].cvar, info, sizeof(info));
ADDRLP4 0
INDIRI4
CNSTI4 4
LSHI4
ADDRGP4 templateList+65540
ADDP4
INDIRP4
ARGP4
ADDRLP4 24
ARGP4
CNSTI4 1024
ARGI4
ADDRGP4 trap_Cvar_VariableStringBuffer
CALLV
pop
line 3678
;3678:			Q_strncpyz(name, Info_ValueForKey(info, "name"), sizeof(name));
ADDRLP4 24
ARGP4
ADDRGP4 $783
ARGP4
ADDRLP4 1980
ADDRGP4 Info_ValueForKey
CALLP4
ASGNP4
ADDRLP4 1112
ARGP4
ADDRLP4 1980
INDIRP4
ARGP4
CNSTI4 64
ARGI4
ADDRGP4 Q_strncpyz
CALLV
pop
line 3679
;3679:			highscoreType = atoi(Info_ValueForKey(info, "ht"));
ADDRLP4 24
ARGP4
ADDRGP4 $2071
ARGP4
ADDRLP4 1984
ADDRGP4 Info_ValueForKey
CALLP4
ASGNP4
ADDRLP4 1984
INDIRP4
ARGP4
ADDRLP4 1988
ADDRGP4 atoi
CALLI4
ASGNI4
ADDRLP4 1976
ADDRLP4 1988
INDIRI4
ASGNI4
line 3680
;3680:			Q_strncpyz(highscoreVar, Info_ValueForKey(info, "hn"), sizeof(highscoreVar));
ADDRLP4 24
ARGP4
ADDRGP4 $2072
ARGP4
ADDRLP4 1992
ADDRGP4 Info_ValueForKey
CALLP4
ASGNP4
ADDRLP4 1048
ARGP4
ADDRLP4 1992
INDIRP4
ARGP4
CNSTI4 64
ARGI4
ADDRGP4 Q_strncpyz
CALLV
pop
line 3681
;3681:			trap_Cvar_VariableStringBuffer(va("%s0", highscoreVar), highscore, sizeof(highscore));
ADDRGP4 $315
ARGP4
ADDRLP4 1048
ARGP4
ADDRLP4 1996
ADDRGP4 va
CALLP4
ASGNP4
ADDRLP4 1996
INDIRP4
ARGP4
ADDRLP4 1176
ARGP4
CNSTI4 32
ARGI4
ADDRGP4 trap_Cvar_VariableStringBuffer
CALLV
pop
line 3682
;3682:			trap_Cvar_VariableStringBuffer(va("%s1", highscoreVar), descriptor, sizeof(descriptor));
ADDRGP4 $867
ARGP4
ADDRLP4 1048
ARGP4
ADDRLP4 2000
ADDRGP4 va
CALLP4
ASGNP4
ADDRLP4 2000
INDIRP4
ARGP4
ADDRLP4 1208
ARGP4
CNSTI4 768
ARGI4
ADDRGP4 trap_Cvar_VariableStringBuffer
CALLV
pop
line 3683
;3683:			trap_SendServerCommand(
ADDRGP4 $2156
ARGP4
ADDRLP4 0
INDIRI4
ARGI4
ADDRLP4 1112
ARGP4
ADDRLP4 1976
INDIRI4
ARGI4
ADDRLP4 1176
ARGP4
ADDRLP4 1208
ARGP4
ADDRLP4 2004
ADDRGP4 va
CALLP4
ASGNP4
ADDRLP4 8
INDIRI4
ARGI4
ADDRLP4 2004
INDIRP4
ARGP4
ADDRGP4 trap_SendServerCommand
CALLV
pop
line 3687
;3684:				clientNum,
;3685:				va("sv_template_cg %d \"%s\" %d \"%s\" \"%s\"", i, name, highscoreType, highscore, descriptor)
;3686:			);
;3687:			MarkTemplateAsTransferred(tt, i);
ADDRLP4 4
INDIRP4
ARGP4
ADDRLP4 0
INDIRI4
ARGI4
ADDRGP4 MarkTemplateAsTransferred
CALLV
pop
line 3688
;3688:			return;
ADDRGP4 $2134
JUMPV
LABELV $2153
line 3690
;3689:		}
;3690:	}
LABELV $2149
line 3668
ADDRLP4 0
ADDRLP4 0
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
LABELV $2151
ADDRLP4 0
INDIRI4
ADDRGP4 templateList+81540
INDIRI4
LTI4 $2148
LABELV $2147
line 3693
;3691:
;3692:	TransferComplete:
;3693:	trap_SendServerCommand(
ADDRGP4 $2098
ARGP4
ADDRGP4 templateList+81540
INDIRI4
ARGI4
ADDRGP4 templateListChecksum
INDIRI4
ARGI4
ADDRLP4 20
ADDRGP4 va
CALLP4
ASGNP4
ADDRLP4 8
INDIRI4
ARGI4
ADDRLP4 20
INDIRP4
ARGP4
ADDRGP4 trap_SendServerCommand
CALLV
pop
line 3697
;3694:		clientNum,
;3695:		va("templatelist_complete_cg %d %d", templateList.numEntries, templateListChecksum)
;3696:	);
;3697:	G_TemplateList_Stop(clientNum);
ADDRLP4 8
INDIRI4
ARGI4
ADDRGP4 G_TemplateList_Stop
CALLV
pop
line 3698
;3698:}
LABELV $2134
endproc G_SendGameTemplate 2008 24
export G_PrintTemplateList
proc G_PrintTemplateList 8 12
line 3705
;3699:
;3700:/*
;3701:================
;3702:JUHOX: G_PrintTemplateList
;3703:================
;3704:*/
;3705:void G_PrintTemplateList(void) {
line 3708
;3706:	int i;
;3707:
;3708:	if (templateList.numEntries <= 0) {
ADDRGP4 templateList+81540
INDIRI4
CNSTI4 0
GTI4 $2159
line 3709
;3709:		G_Printf("No templates installed.\n");
ADDRGP4 $2162
ARGP4
ADDRGP4 G_Printf
CALLV
pop
line 3710
;3710:		return;
ADDRGP4 $2158
JUMPV
LABELV $2159
line 3713
;3711:	}
;3712:
;3713:	for (i = 0; i < templateList.numEntries; i++) {
ADDRLP4 0
CNSTI4 0
ASGNI4
ADDRGP4 $2166
JUMPV
LABELV $2163
line 3714
;3714:		G_Printf("%3d: %s\n", i, templateList.entries[i].name);
ADDRGP4 $2168
ARGP4
ADDRLP4 0
INDIRI4
ARGI4
ADDRLP4 0
INDIRI4
CNSTI4 4
LSHI4
ADDRGP4 templateList+65540+4
ADDP4
INDIRP4
ARGP4
ADDRGP4 G_Printf
CALLV
pop
line 3715
;3715:	}
LABELV $2164
line 3713
ADDRLP4 0
ADDRLP4 0
INDIRI4
CNSTI4 1
ADDI4
ASGNI4
LABELV $2166
ADDRLP4 0
INDIRI4
ADDRGP4 templateList+81540
INDIRI4
LTI4 $2163
line 3716
;3716:}
LABELV $2158
endproc G_PrintTemplateList 8 12
proc SetValue 4 8
line 3723
;3717:
;3718:/*
;3719:================
;3720:JUHOX: SetValue
;3721:================
;3722:*/
;3723:static void SetValue(const char* name, int v) {
line 3724
;3724:	trap_Cvar_Set(name, va("%d", v));
ADDRGP4 $380
ARGP4
ADDRFP4 4
INDIRI4
ARGI4
ADDRLP4 0
ADDRGP4 va
CALLP4
ASGNP4
ADDRFP4 0
INDIRP4
ARGP4
ADDRLP4 0
INDIRP4
ARGP4
ADDRGP4 trap_Cvar_Set
CALLV
pop
line 3725
;3725:}
LABELV $2171
endproc SetValue 4 8
export G_PlayTemplate
proc G_PlayTemplate 1560 12
line 3732
;3726:
;3727:/*
;3728:================
;3729:JUHOX: G_PlayTemplate
;3730:================
;3731:*/
;3732:void G_PlayTemplate(int index) {
line 3737
;3733:	const char* templateVarName;
;3734:	char info[MAX_INFO_STRING];
;3735:	gametemplate_t gtmpl;
;3736:
;3737:	if (index < 0 || index >= templateList.numEntries) {
ADDRLP4 1540
ADDRFP4 0
INDIRI4
ASGNI4
ADDRLP4 1540
INDIRI4
CNSTI4 0
LTI4 $2176
ADDRLP4 1540
INDIRI4
ADDRGP4 templateList+81540
INDIRI4
LTI4 $2173
LABELV $2176
line 3738
;3738:		if (templateList.numEntries > 0) {
ADDRGP4 templateList+81540
INDIRI4
CNSTI4 0
LEI4 $2177
line 3739
;3739:			G_Printf("Invalid template index #%d, use 0 - %d\n", index, templateList.numEntries);
ADDRGP4 $2180
ARGP4
ADDRFP4 0
INDIRI4
ARGI4
ADDRGP4 templateList+81540
INDIRI4
ARGI4
ADDRGP4 G_Printf
CALLV
pop
line 3740
;3740:		}
ADDRGP4 $2172
JUMPV
LABELV $2177
line 3741
;3741:		else {
line 3742
;3742:			G_Printf("No templates installed.\n");
ADDRGP4 $2162
ARGP4
ADDRGP4 G_Printf
CALLV
pop
line 3743
;3743:		}
line 3744
;3744:		return;
ADDRGP4 $2172
JUMPV
LABELV $2173
line 3747
;3745:	}
;3746:
;3747:	templateVarName = templateList.entries[index].cvar;
ADDRLP4 512
ADDRFP4 0
INDIRI4
CNSTI4 4
LSHI4
ADDRGP4 templateList+65540
ADDP4
INDIRP4
ASGNP4
line 3748
;3748:	trap_Cvar_VariableStringBuffer(templateVarName, info, sizeof(info));
ADDRLP4 512
INDIRP4
ARGP4
ADDRLP4 516
ARGP4
CNSTI4 1024
ARGI4
ADDRGP4 trap_Cvar_VariableStringBuffer
CALLV
pop
line 3749
;3749:	if (!BG_ParseGameTemplate(info, &gtmpl)) {
ADDRLP4 516
ARGP4
ADDRLP4 0
ARGP4
ADDRLP4 1544
ADDRGP4 BG_ParseGameTemplate
CALLI4
ASGNI4
ADDRLP4 1544
INDIRI4
CNSTI4 0
NEI4 $2183
line 3750
;3750:		G_Printf("Template #%d is faulty.\n", index);
ADDRGP4 $2185
ARGP4
ADDRFP4 0
INDIRI4
ARGI4
ADDRGP4 G_Printf
CALLV
pop
line 3751
;3751:		return;
ADDRGP4 $2172
JUMPV
LABELV $2183
line 3754
;3752:	}
;3753:	
;3754:	trap_Cvar_Set("g_template", templateVarName);
ADDRGP4 $145
ARGP4
ADDRLP4 512
INDIRP4
ARGP4
ADDRGP4 trap_Cvar_Set
CALLV
pop
line 3756
;3755:
;3756:	if (gtmpl.tksMaxplayers && gtmpl.maxplayers > 0) {
ADDRLP4 0+144
INDIRI4
CNSTI4 0
EQI4 $2186
ADDRLP4 0+140
INDIRI4
CNSTI4 0
LEI4 $2186
line 3757
;3757:		if (gtmpl.maxplayers > g_maxclients.integer) SetValue("sv_maxclients", gtmpl.maxplayers);
ADDRLP4 0+140
INDIRI4
ADDRGP4 g_maxclients+12
INDIRI4
LEI4 $2190
ADDRGP4 $100
ARGP4
ADDRLP4 0+140
INDIRI4
ARGI4
ADDRGP4 SetValue
CALLV
pop
LABELV $2190
line 3758
;3758:		if (g_maxGameClients.integer > 0 && gtmpl.maxplayers > g_maxGameClients.integer) {
ADDRGP4 g_maxGameClients+12
INDIRI4
CNSTI4 0
LEI4 $2195
ADDRLP4 0+140
INDIRI4
ADDRGP4 g_maxGameClients+12
INDIRI4
LEI4 $2195
line 3759
;3759:			SetValue("g_maxGameClients", gtmpl.maxplayers);
ADDRGP4 $102
ARGP4
ADDRLP4 0+140
INDIRI4
ARGI4
ADDRGP4 SetValue
CALLV
pop
line 3760
;3760:		}
LABELV $2195
line 3761
;3761:	}
LABELV $2186
line 3762
;3762:	if (gtmpl.tksArmorfragments) SetValue("g_armorFragments", gtmpl.armorfragments);
ADDRLP4 0+460
INDIRI4
CNSTI4 0
EQI4 $2201
ADDRGP4 $105
ARGP4
ADDRLP4 0+456
INDIRI4
ARGI4
ADDRGP4 SetValue
CALLV
pop
LABELV $2201
line 3763
;3763:	if (gtmpl.tksBasehealth) SetValue("g_baseHealth", gtmpl.basehealth);
ADDRLP4 0+276
INDIRI4
CNSTI4 0
EQI4 $2205
ADDRGP4 $106
ARGP4
ADDRLP4 0+272
INDIRI4
ARGI4
ADDRGP4 SetValue
CALLV
pop
LABELV $2205
line 3764
;3764:	if (gtmpl.tksStamina) SetValue("g_stamina", gtmpl.stamina);
ADDRLP4 0+396
INDIRI4
CNSTI4 0
EQI4 $2209
ADDRGP4 $150
ARGP4
ADDRLP4 0+392
INDIRI4
ARGI4
ADDRGP4 SetValue
CALLV
pop
LABELV $2209
line 3765
;3765:	if (gtmpl.tksLightningdamagelimit) SetValue("g_lightningDamageLimit", gtmpl.lightningdamagelimit);
ADDRLP4 0+468
INDIRI4
CNSTI4 0
EQI4 $2213
ADDRGP4 $151
ARGP4
ADDRLP4 0+464
INDIRI4
ARGI4
ADDRGP4 SetValue
CALLV
pop
LABELV $2213
line 3766
;3766:	if (gtmpl.tksGrapple) SetValue("g_grapple", gtmpl.grapple);
ADDRLP4 0+476
INDIRI4
CNSTI4 0
EQI4 $2217
ADDRGP4 $152
ARGP4
ADDRLP4 0+472
INDIRI4
ARGI4
ADDRGP4 SetValue
CALLV
pop
LABELV $2217
line 3767
;3767:	if (gtmpl.tksDmflags) SetValue("dmflags", gtmpl.dmflags);
ADDRLP4 0+484
INDIRI4
CNSTI4 0
EQI4 $2221
ADDRGP4 $108
ARGP4
ADDRLP4 0+480
INDIRI4
ARGI4
ADDRGP4 SetValue
CALLV
pop
LABELV $2221
line 3768
;3768:	if (gtmpl.tksSpeed) SetValue("g_speed", gtmpl.speed);
ADDRLP4 0+492
INDIRI4
CNSTI4 0
EQI4 $2225
ADDRGP4 $173
ARGP4
ADDRLP4 0+488
INDIRI4
ARGI4
ADDRGP4 SetValue
CALLV
pop
LABELV $2225
line 3769
;3769:	if (gtmpl.tksKnockback) SetValue("g_knockback", gtmpl.knockback);
ADDRLP4 0+500
INDIRI4
CNSTI4 0
EQI4 $2229
ADDRGP4 $178
ARGP4
ADDRLP4 0+496
INDIRI4
ARGI4
ADDRGP4 SetValue
CALLV
pop
LABELV $2229
line 3770
;3770:	if (gtmpl.tksGravity) SetValue("g_gravityLatch", gtmpl.gravity);
ADDRLP4 0+508
INDIRI4
CNSTI4 0
EQI4 $2233
ADDRGP4 $177
ARGP4
ADDRLP4 0+504
INDIRI4
ARGI4
ADDRGP4 SetValue
CALLV
pop
ADDRGP4 $2234
JUMPV
LABELV $2233
line 3771
;3771:	else trap_Cvar_Set("g_gravityLatch", "");
ADDRGP4 $177
ARGP4
ADDRGP4 $90
ARGP4
ADDRGP4 trap_Cvar_Set
CALLV
pop
LABELV $2234
line 3772
;3772:	if (gtmpl.tksTsssafetymode) SetValue("tssSafetyModeAllowed", gtmpl.tsssafetymode);
ADDRLP4 0+444
INDIRI4
CNSTI4 0
EQI4 $2237
ADDRGP4 $103
ARGP4
ADDRLP4 0+440
INDIRI4
ARGI4
ADDRGP4 SetValue
CALLV
pop
LABELV $2237
line 3773
;3773:	if (gtmpl.tksNoitems) SetValue("g_noItems", gtmpl.noitems);
ADDRLP4 0+404
INDIRI4
CNSTI4 0
EQI4 $2241
ADDRGP4 $153
ARGP4
ADDRLP4 0+400
INDIRI4
ARGI4
ADDRGP4 SetValue
CALLV
pop
LABELV $2241
line 3774
;3774:	if (gtmpl.tksNohealthregen) SetValue("g_noHealthRegen", gtmpl.nohealthregen);
ADDRLP4 0+412
INDIRI4
CNSTI4 0
EQI4 $2245
ADDRGP4 $154
ARGP4
ADDRLP4 0+408
INDIRI4
ARGI4
ADDRGP4 SetValue
CALLV
pop
LABELV $2245
line 3775
;3775:	if (gtmpl.tksCloakingdevice) SetValue("g_cloakingDevice", gtmpl.cloakingdevice);
ADDRLP4 0+420
INDIRI4
CNSTI4 0
EQI4 $2249
ADDRGP4 $156
ARGP4
ADDRLP4 0+416
INDIRI4
ARGI4
ADDRGP4 SetValue
CALLV
pop
LABELV $2249
line 3776
;3776:	if (gtmpl.tksUnlimitedammo) SetValue("g_unlimitedAmmo", gtmpl.unlimitedammo);
ADDRLP4 0+428
INDIRI4
CNSTI4 0
EQI4 $2253
ADDRGP4 $155
ARGP4
ADDRLP4 0+424
INDIRI4
ARGI4
ADDRGP4 SetValue
CALLV
pop
LABELV $2253
line 3778
;3777:#if MONSTER_MODE
;3778:	if (gtmpl.tksMonsterlauncher) SetValue("g_monsterLauncher", gtmpl.monsterLauncher);
ADDRLP4 0+300
INDIRI4
CNSTI4 0
EQI4 $2257
ADDRGP4 $135
ARGP4
ADDRLP4 0+288
INDIRI4
ARGI4
ADDRGP4 SetValue
CALLV
pop
LABELV $2257
line 3779
;3779:	if (gtmpl.tksScoremode) SetValue("g_scoreMode", gtmpl.scoremode);
ADDRLP4 0+292
INDIRI4
CNSTI4 0
EQI4 $2261
ADDRGP4 $139
ARGP4
ADDRLP4 0+296
INDIRI4
ARGI4
ADDRGP4 SetValue
CALLV
pop
LABELV $2261
line 3781
;3780:#endif
;3781:	if (gtmpl.tksTimelimit) SetValue("timelimit", gtmpl.timelimit);
ADDRLP4 0+244
INDIRI4
CNSTI4 0
EQI4 $2265
ADDRGP4 $111
ARGP4
ADDRLP4 0+240
INDIRI4
ARGI4
ADDRGP4 SetValue
CALLV
pop
LABELV $2265
line 3783
;3782:	
;3783:	switch(gtmpl.gametype) {
ADDRLP4 1548
ADDRLP4 0+64
INDIRI4
ASGNI4
ADDRLP4 1548
INDIRI4
CNSTI4 0
LTI4 $2269
ADDRLP4 1548
INDIRI4
CNSTI4 9
GTI4 $2269
ADDRLP4 1548
INDIRI4
CNSTI4 2
LSHI4
ADDRGP4 $2445
ADDP4
INDIRP4
JUMPV
data
align 4
LABELV $2445
address $2273
address $2288
address $2269
address $2298
address $2320
address $2269
address $2269
address $2269
address $2341
address $2400
code
LABELV $2273
LABELV $2269
line 3786
;3784:	case GT_FFA:
;3785:	default:
;3786:		if (gtmpl.tksFraglimit) SetValue("fraglimit", gtmpl.fraglimit);
ADDRLP4 0+236
INDIRI4
CNSTI4 0
EQI4 $2274
ADDRGP4 $109
ARGP4
ADDRLP4 0+232
INDIRI4
ARGI4
ADDRGP4 SetValue
CALLV
pop
LABELV $2274
line 3787
;3787:		if (gtmpl.tksRespawndelay) SetValue("respawndelay", gtmpl.respawndelay);
ADDRLP4 0+268
INDIRI4
CNSTI4 0
EQI4 $2278
ADDRGP4 $2281
ARGP4
ADDRLP4 0+264
INDIRI4
ARGI4
ADDRGP4 SetValue
CALLV
pop
LABELV $2278
line 3788
;3788:		if (gtmpl.tksGameseed) SetValue("g_gameseed", gtmpl.gameseed);
ADDRLP4 0+228
INDIRI4
CNSTI4 0
EQI4 $2270
ADDRGP4 $2286
ARGP4
ADDRLP4 0+224
INDIRI4
ARGI4
ADDRGP4 SetValue
CALLV
pop
line 3789
;3789:		break;
ADDRGP4 $2270
JUMPV
LABELV $2288
line 3792
;3790:
;3791:	case GT_TOURNAMENT:
;3792:		if (gtmpl.tksFraglimit) SetValue("fraglimit", gtmpl.fraglimit);
ADDRLP4 0+236
INDIRI4
CNSTI4 0
EQI4 $2289
ADDRGP4 $109
ARGP4
ADDRLP4 0+232
INDIRI4
ARGI4
ADDRGP4 SetValue
CALLV
pop
LABELV $2289
line 3793
;3793:		if (gtmpl.tksGameseed) SetValue("g_gamessed", gtmpl.gameseed);
ADDRLP4 0+228
INDIRI4
CNSTI4 0
EQI4 $2270
ADDRGP4 $2296
ARGP4
ADDRLP4 0+224
INDIRI4
ARGI4
ADDRGP4 SetValue
CALLV
pop
line 3794
;3794:		break;
ADDRGP4 $2270
JUMPV
LABELV $2298
line 3797
;3795:
;3796:	case GT_TEAM:
;3797:		if (gtmpl.tksFraglimit) SetValue("fraglimit", gtmpl.fraglimit);
ADDRLP4 0+236
INDIRI4
CNSTI4 0
EQI4 $2299
ADDRGP4 $109
ARGP4
ADDRLP4 0+232
INDIRI4
ARGI4
ADDRGP4 SetValue
CALLV
pop
LABELV $2299
line 3798
;3798:		if (gtmpl.tksFriendlyfire) SetValue("g_friendlyfire", gtmpl.friendlyfire);
ADDRLP4 0+388
INDIRI4
CNSTI4 0
EQI4 $2303
ADDRGP4 $2306
ARGP4
ADDRLP4 0+384
INDIRI4
ARGI4
ADDRGP4 SetValue
CALLV
pop
LABELV $2303
line 3799
;3799:		if (gtmpl.tksRespawndelay) SetValue("respawndelay", gtmpl.respawndelay);
ADDRLP4 0+268
INDIRI4
CNSTI4 0
EQI4 $2308
ADDRGP4 $2281
ARGP4
ADDRLP4 0+264
INDIRI4
ARGI4
ADDRGP4 SetValue
CALLV
pop
LABELV $2308
line 3800
;3800:		if (gtmpl.tksGameseed) SetValue("g_gameseed", gtmpl.gameseed);
ADDRLP4 0+228
INDIRI4
CNSTI4 0
EQI4 $2312
ADDRGP4 $2286
ARGP4
ADDRLP4 0+224
INDIRI4
ARGI4
ADDRGP4 SetValue
CALLV
pop
LABELV $2312
line 3801
;3801:		if (gtmpl.tksTss) SetValue("tss", gtmpl.tss);
ADDRLP4 0+436
INDIRI4
CNSTI4 0
EQI4 $2270
ADDRGP4 $149
ARGP4
ADDRLP4 0+432
INDIRI4
ARGI4
ADDRGP4 SetValue
CALLV
pop
line 3802
;3802:		break;
ADDRGP4 $2270
JUMPV
LABELV $2320
line 3805
;3803:
;3804:	case GT_CTF:
;3805:		if (gtmpl.tksFraglimit) SetValue("capturelimit", gtmpl.fraglimit);
ADDRLP4 0+236
INDIRI4
CNSTI4 0
EQI4 $2321
ADDRGP4 $112
ARGP4
ADDRLP4 0+232
INDIRI4
ARGI4
ADDRGP4 SetValue
CALLV
pop
LABELV $2321
line 3806
;3806:		if (gtmpl.tksFriendlyfire) SetValue("g_friendlyfire", gtmpl.friendlyfire);
ADDRLP4 0+388
INDIRI4
CNSTI4 0
EQI4 $2325
ADDRGP4 $2306
ARGP4
ADDRLP4 0+384
INDIRI4
ARGI4
ADDRGP4 SetValue
CALLV
pop
LABELV $2325
line 3807
;3807:		if (gtmpl.tksRespawndelay) SetValue("respawndelay", gtmpl.respawndelay);
ADDRLP4 0+268
INDIRI4
CNSTI4 0
EQI4 $2329
ADDRGP4 $2281
ARGP4
ADDRLP4 0+264
INDIRI4
ARGI4
ADDRGP4 SetValue
CALLV
pop
LABELV $2329
line 3808
;3808:		if (gtmpl.tksGameseed) SetValue("g_gameseed", gtmpl.gameseed);
ADDRLP4 0+228
INDIRI4
CNSTI4 0
EQI4 $2333
ADDRGP4 $2286
ARGP4
ADDRLP4 0+224
INDIRI4
ARGI4
ADDRGP4 SetValue
CALLV
pop
LABELV $2333
line 3809
;3809:		if (gtmpl.tksTss) SetValue("tss", gtmpl.tss);
ADDRLP4 0+436
INDIRI4
CNSTI4 0
EQI4 $2270
ADDRGP4 $149
ARGP4
ADDRLP4 0+432
INDIRI4
ARGI4
ADDRGP4 SetValue
CALLV
pop
line 3810
;3810:		break;
ADDRGP4 $2270
JUMPV
LABELV $2341
line 3814
;3811:
;3812:#if MONSTER_MODE	// JUHOX: set STU cvars
;3813:	case GT_STU:
;3814:		if (gtmpl.tksFraglimit) SetValue("fraglimit", gtmpl.fraglimit);
ADDRLP4 0+236
INDIRI4
CNSTI4 0
EQI4 $2342
ADDRGP4 $109
ARGP4
ADDRLP4 0+232
INDIRI4
ARGI4
ADDRGP4 SetValue
CALLV
pop
LABELV $2342
line 3815
;3815:		if (gtmpl.tksArtefacts) SetValue("g_artefacts", gtmpl.artefacts);
ADDRLP4 0+260
INDIRI4
CNSTI4 0
EQI4 $2346
ADDRGP4 $113
ARGP4
ADDRLP4 0+256
INDIRI4
ARGI4
ADDRGP4 SetValue
CALLV
pop
LABELV $2346
line 3816
;3816:		if (gtmpl.tksFriendlyfire) SetValue("g_friendlyfire", gtmpl.friendlyfire);
ADDRLP4 0+388
INDIRI4
CNSTI4 0
EQI4 $2350
ADDRGP4 $2306
ARGP4
ADDRLP4 0+384
INDIRI4
ARGI4
ADDRGP4 SetValue
CALLV
pop
LABELV $2350
line 3817
;3817:		if (gtmpl.tksRespawndelay) SetValue("respawndelay", gtmpl.respawndelay);
ADDRLP4 0+268
INDIRI4
CNSTI4 0
EQI4 $2354
ADDRGP4 $2281
ARGP4
ADDRLP4 0+264
INDIRI4
ARGI4
ADDRGP4 SetValue
CALLV
pop
LABELV $2354
line 3818
;3818:		if (gtmpl.tksGameseed) SetValue("g_gameseed", gtmpl.gameseed);
ADDRLP4 0+228
INDIRI4
CNSTI4 0
EQI4 $2358
ADDRGP4 $2286
ARGP4
ADDRLP4 0+224
INDIRI4
ARGI4
ADDRGP4 SetValue
CALLV
pop
LABELV $2358
line 3820
;3819:
;3820:		if (gtmpl.tksMinmonsters) SetValue("g_minmonsters", gtmpl.minmonsters);
ADDRLP4 0+316
INDIRI4
CNSTI4 0
EQI4 $2362
ADDRGP4 $2365
ARGP4
ADDRLP4 0+312
INDIRI4
ARGI4
ADDRGP4 SetValue
CALLV
pop
LABELV $2362
line 3821
;3821:		if (gtmpl.tksMaxmonsters) SetValue("g_maxmonsters", gtmpl.maxmonsters);
ADDRLP4 0+324
INDIRI4
CNSTI4 0
EQI4 $2367
ADDRGP4 $2370
ARGP4
ADDRLP4 0+320
INDIRI4
ARGI4
ADDRGP4 SetValue
CALLV
pop
LABELV $2367
line 3822
;3822:		if (gtmpl.tksMonsterspertrap) SetValue("g_monstersPerTrap", gtmpl.monsterspertrap);
ADDRLP4 0+332
INDIRI4
CNSTI4 0
EQI4 $2372
ADDRGP4 $127
ARGP4
ADDRLP4 0+328
INDIRI4
ARGI4
ADDRGP4 SetValue
CALLV
pop
LABELV $2372
line 3823
;3823:		if (gtmpl.tksMonsterspawndelay) SetValue("g_monsterSpawnDelay", gtmpl.monsterspawndelay);
ADDRLP4 0+340
INDIRI4
CNSTI4 0
EQI4 $2376
ADDRGP4 $118
ARGP4
ADDRLP4 0+336
INDIRI4
ARGI4
ADDRGP4 SetValue
CALLV
pop
LABELV $2376
line 3824
;3824:		if (gtmpl.tksMonsterhealthscale) SetValue("g_monsterHealthScale", gtmpl.monsterhealthscale);
ADDRLP4 0+348
INDIRI4
CNSTI4 0
EQI4 $2380
ADDRGP4 $120
ARGP4
ADDRLP4 0+344
INDIRI4
ARGI4
ADDRGP4 SetValue
CALLV
pop
LABELV $2380
line 3825
;3825:		if (gtmpl.tksMonsterprogessivehealth) SetValue("g_monsterProgression", gtmpl.monsterprogressivehealth);
ADDRLP4 0+356
INDIRI4
CNSTI4 0
EQI4 $2384
ADDRGP4 $122
ARGP4
ADDRLP4 0+352
INDIRI4
ARGI4
ADDRGP4 SetValue
CALLV
pop
LABELV $2384
line 3826
;3826:		if (gtmpl.tksGuards) SetValue("g_monsterGuards", gtmpl.guards);
ADDRLP4 0+364
INDIRI4
CNSTI4 0
EQI4 $2388
ADDRGP4 $123
ARGP4
ADDRLP4 0+360
INDIRI4
ARGI4
ADDRGP4 SetValue
CALLV
pop
LABELV $2388
line 3827
;3827:		if (gtmpl.tksTitans) SetValue("g_monsterTitans", gtmpl.titans);
ADDRLP4 0+372
INDIRI4
CNSTI4 0
EQI4 $2392
ADDRGP4 $125
ARGP4
ADDRLP4 0+368
INDIRI4
ARGI4
ADDRGP4 SetValue
CALLV
pop
LABELV $2392
line 3828
;3828:		if (gtmpl.tksMonsterbreeding) SetValue("g_monsterBreeding", gtmpl.monsterbreeding);
ADDRLP4 0+380
INDIRI4
CNSTI4 0
EQI4 $2270
ADDRGP4 $138
ARGP4
ADDRLP4 0+376
INDIRI4
ARGI4
ADDRGP4 SetValue
CALLV
pop
line 3829
;3829:		break;
ADDRGP4 $2270
JUMPV
LABELV $2400
line 3834
;3830:#endif
;3831:
;3832:#if ESCAPE_MODE	// JUHOX: set EFH cvars
;3833:	case GT_EFH:
;3834:		if (gtmpl.tksFraglimit) SetValue("fraglimit", gtmpl.fraglimit);
ADDRLP4 0+236
INDIRI4
CNSTI4 0
EQI4 $2401
ADDRGP4 $109
ARGP4
ADDRLP4 0+232
INDIRI4
ARGI4
ADDRGP4 SetValue
CALLV
pop
LABELV $2401
line 3835
;3835:		if (gtmpl.tksDistancelimit) SetValue("distancelimit", gtmpl.distancelimit);
ADDRLP4 0+252
INDIRI4
CNSTI4 0
EQI4 $2405
ADDRGP4 $141
ARGP4
ADDRLP4 0+248
INDIRI4
ARGI4
ADDRGP4 SetValue
CALLV
pop
LABELV $2405
line 3836
;3836:		if (gtmpl.tksFriendlyfire) SetValue("g_friendlyfire", gtmpl.friendlyfire);
ADDRLP4 0+388
INDIRI4
CNSTI4 0
EQI4 $2409
ADDRGP4 $2306
ARGP4
ADDRLP4 0+384
INDIRI4
ARGI4
ADDRGP4 SetValue
CALLV
pop
LABELV $2409
line 3837
;3837:		if (gtmpl.tksRespawndelay) SetValue("respawndelay", gtmpl.respawndelay);
ADDRLP4 0+268
INDIRI4
CNSTI4 0
EQI4 $2413
ADDRGP4 $2281
ARGP4
ADDRLP4 0+264
INDIRI4
ARGI4
ADDRGP4 SetValue
CALLV
pop
LABELV $2413
line 3838
;3838:		if (gtmpl.tksGameseed) SetValue("g_gameseed", gtmpl.gameseed);
ADDRLP4 0+228
INDIRI4
CNSTI4 0
EQI4 $2417
ADDRGP4 $2286
ARGP4
ADDRLP4 0+224
INDIRI4
ARGI4
ADDRGP4 SetValue
CALLV
pop
LABELV $2417
line 3839
;3839:		if (gtmpl.tksChallengingEnv) SetValue("g_challengingEnv", gtmpl.challengingEnv);
ADDRLP4 0+284
INDIRI4
CNSTI4 0
EQI4 $2421
ADDRGP4 $143
ARGP4
ADDRLP4 0+280
INDIRI4
ARGI4
ADDRGP4 SetValue
CALLV
pop
LABELV $2421
line 3841
;3840:
;3841:		if (gtmpl.tksMonsterload) SetValue("g_monsterLoad", gtmpl.monsterLoad);
ADDRLP4 0+308
INDIRI4
CNSTI4 0
EQI4 $2425
ADDRGP4 $140
ARGP4
ADDRLP4 0+304
INDIRI4
ARGI4
ADDRGP4 SetValue
CALLV
pop
LABELV $2425
line 3842
;3842:		if (gtmpl.tksMonsterhealthscale) SetValue("g_monsterHealthScale", gtmpl.monsterhealthscale);
ADDRLP4 0+348
INDIRI4
CNSTI4 0
EQI4 $2429
ADDRGP4 $120
ARGP4
ADDRLP4 0+344
INDIRI4
ARGI4
ADDRGP4 SetValue
CALLV
pop
LABELV $2429
line 3843
;3843:		if (gtmpl.tksMonsterprogessivehealth) SetValue("g_monsterProgression", gtmpl.monsterprogressivehealth);
ADDRLP4 0+356
INDIRI4
CNSTI4 0
EQI4 $2433
ADDRGP4 $122
ARGP4
ADDRLP4 0+352
INDIRI4
ARGI4
ADDRGP4 SetValue
CALLV
pop
LABELV $2433
line 3844
;3844:		if (gtmpl.tksGuards) SetValue("g_monsterGuards", gtmpl.guards);
ADDRLP4 0+364
INDIRI4
CNSTI4 0
EQI4 $2437
ADDRGP4 $123
ARGP4
ADDRLP4 0+360
INDIRI4
ARGI4
ADDRGP4 SetValue
CALLV
pop
LABELV $2437
line 3845
;3845:		if (gtmpl.tksTitans) SetValue("g_monsterTitans", gtmpl.titans);
ADDRLP4 0+372
INDIRI4
CNSTI4 0
EQI4 $2270
ADDRGP4 $125
ARGP4
ADDRLP4 0+368
INDIRI4
ARGI4
ADDRGP4 SetValue
CALLV
pop
line 3846
;3846:		break;
LABELV $2270
line 3850
;3847:#endif
;3848:	}
;3849:
;3850:	SetValue("g_gameType", gtmpl.gametype);
ADDRGP4 $2446
ARGP4
ADDRLP4 0+64
INDIRI4
ARGI4
ADDRGP4 SetValue
CALLV
pop
line 3851
;3851:	if (gtmpl.mapName[0]) {
ADDRLP4 0+68
INDIRI1
CVII4 1
CNSTI4 0
EQI4 $2448
line 3852
;3852:		trap_SendConsoleCommand(EXEC_APPEND, va("map %s\n", gtmpl.mapName));
ADDRGP4 $2451
ARGP4
ADDRLP4 0+68
ARGP4
ADDRLP4 1556
ADDRGP4 va
CALLP4
ASGNP4
CNSTI4 2
ARGI4
ADDRLP4 1556
INDIRP4
ARGP4
ADDRGP4 trap_SendConsoleCommand
CALLV
pop
line 3853
;3853:	}
ADDRGP4 $2449
JUMPV
LABELV $2448
line 3854
;3854:	else {
line 3855
;3855:		trap_SendConsoleCommand(EXEC_APPEND, "map_restart 0\n");
CNSTI4 2
ARGI4
ADDRGP4 $923
ARGP4
ADDRGP4 trap_SendConsoleCommand
CALLV
pop
line 3856
;3856:	}
LABELV $2449
line 3857
;3857:}
LABELV $2172
endproc G_PlayTemplate 1560 12
bss
align 4
LABELV seeds
skip 96
align 4
LABELV randomizers
skip 192
export g_listEntity
align 4
LABELV g_listEntity
skip 272
export g_podiumDrop
align 4
LABELV g_podiumDrop
skip 272
export g_podiumDist
align 4
LABELV g_podiumDist
skip 272
export g_logSync
align 4
LABELV g_logSync
skip 272
export g_log
align 4
LABELV g_log
skip 272
align 4
LABELV hiscoreRejectionReason
skip 4
align 4
LABELV nextServiceTime
skip 4
align 4
LABELV numClientsToServe
skip 4
align 4
LABELV lastServedClient
skip 4
align 4
LABELV clientWantsTemplateTransfer
skip 256
align 4
LABELV transferredTemplatesPerClient
skip 8448
export templateChecksumString
align 1
LABELV templateChecksumString
skip 1001
export templateListChecksum
align 4
LABELV templateListChecksum
skip 4
export g_clients
align 4
LABELV g_clients
skip 358656
import trap_SnapVector
import trap_GeneticParentsAndChildSelection
import trap_BotResetWeaponState
import trap_BotFreeWeaponState
import trap_BotAllocWeaponState
import trap_BotLoadWeaponWeights
import trap_BotGetWeaponInfo
import trap_BotChooseBestFightWeapon
import trap_BotAddAvoidSpot
import trap_BotInitMoveState
import trap_BotFreeMoveState
import trap_BotAllocMoveState
import trap_BotPredictVisiblePosition
import trap_BotMovementViewTarget
import trap_BotReachabilityArea
import trap_BotResetLastAvoidReach
import trap_BotResetAvoidReach
import trap_BotMoveInDirection
import trap_BotMoveToGoal
import trap_BotResetMoveState
import trap_BotFreeGoalState
import trap_BotAllocGoalState
import trap_BotMutateGoalFuzzyLogic
import trap_BotSaveGoalFuzzyLogic
import trap_BotInterbreedGoalFuzzyLogic
import trap_BotFreeItemWeights
import trap_BotLoadItemWeights
import trap_BotUpdateEntityItems
import trap_BotInitLevelItems
import trap_BotSetAvoidGoalTime
import trap_BotAvoidGoalTime
import trap_BotGetLevelItemGoal
import trap_BotGetMapLocationGoal
import trap_BotGetNextCampSpotGoal
import trap_BotItemGoalInVisButNotVisible
import trap_BotTouchingGoal
import trap_BotChooseNBGItem
import trap_BotChooseLTGItem
import trap_BotGetSecondGoal
import trap_BotGetTopGoal
import trap_BotGoalName
import trap_BotDumpGoalStack
import trap_BotDumpAvoidGoals
import trap_BotEmptyGoalStack
import trap_BotPopGoal
import trap_BotPushGoal
import trap_BotResetAvoidGoals
import trap_BotRemoveFromAvoidGoals
import trap_BotResetGoalState
import trap_BotSetChatName
import trap_BotSetChatGender
import trap_BotLoadChatFile
import trap_BotReplaceSynonyms
import trap_UnifyWhiteSpaces
import trap_BotMatchVariable
import trap_BotFindMatch
import trap_StringContains
import trap_BotGetChatMessage
import trap_BotEnterChat
import trap_BotChatLength
import trap_BotReplyChat
import trap_BotNumInitialChats
import trap_BotInitialChat
import trap_BotNumConsoleMessages
import trap_BotNextConsoleMessage
import trap_BotRemoveConsoleMessage
import trap_BotQueueConsoleMessage
import trap_BotFreeChatState
import trap_BotAllocChatState
import trap_Characteristic_String
import trap_Characteristic_BInteger
import trap_Characteristic_Integer
import trap_Characteristic_BFloat
import trap_Characteristic_Float
import trap_BotFreeCharacter
import trap_BotLoadCharacter
import trap_EA_ResetInput
import trap_EA_GetInput
import trap_EA_EndRegular
import trap_EA_View
import trap_EA_Move
import trap_EA_DelayedJump
import trap_EA_Jump
import trap_EA_SelectWeapon
import trap_EA_MoveRight
import trap_EA_MoveLeft
import trap_EA_MoveBack
import trap_EA_MoveForward
import trap_EA_MoveDown
import trap_EA_MoveUp
import trap_EA_Crouch
import trap_EA_Respawn
import trap_EA_Use
import trap_EA_Attack
import trap_EA_Talk
import trap_EA_Gesture
import trap_EA_Action
import trap_EA_Command
import trap_EA_SayTeam
import trap_EA_Say
import trap_AAS_PredictClientMovement
import trap_AAS_Swimming
import trap_AAS_AlternativeRouteGoals
import trap_AAS_PredictRoute
import trap_AAS_EnableRoutingArea
import trap_AAS_AreaTravelTimeToGoalArea
import trap_AAS_AreaReachability
import trap_AAS_IntForBSPEpairKey
import trap_AAS_FloatForBSPEpairKey
import trap_AAS_VectorForBSPEpairKey
import trap_AAS_ValueForBSPEpairKey
import trap_AAS_NextBSPEntity
import trap_AAS_PointContents
import trap_AAS_TraceAreas
import trap_AAS_PointReachabilityAreaIndex
import trap_AAS_PointAreaNum
import trap_AAS_Time
import trap_AAS_PresenceTypeBoundingBox
import trap_AAS_Initialized
import trap_AAS_EntityInfo
import trap_AAS_AreaInfo
import trap_AAS_BBoxAreas
import trap_BotUserCommand
import trap_BotGetServerCommand
import trap_BotGetSnapshotEntity
import trap_BotLibTest
import trap_BotLibUpdateEntity
import trap_BotLibLoadMap
import trap_BotLibStartFrame
import trap_BotLibDefine
import trap_BotLibVarGet
import trap_BotLibVarSet
import trap_BotLibShutdown
import trap_BotLibSetup
import trap_DebugPolygonDelete
import trap_DebugPolygonCreate
import trap_GetEntityToken
import trap_GetUsercmd
import trap_BotFreeClient
import trap_BotAllocateClient
import trap_EntityContact
import trap_EntitiesInBox
import trap_UnlinkEntity
import trap_LinkEntity
import trap_AreasConnected
import trap_AdjustAreaPortalState
import trap_InPVSIgnorePortals
import trap_InPVS
import trap_PointContents
import trap_Trace
import trap_SetBrushModel
import trap_GetServerinfo
import trap_SetUserinfo
import trap_GetUserinfo
import trap_GetConfigstring
import trap_SetConfigstring
import trap_SendServerCommand
import trap_DropClient
import trap_LocateGameData
import trap_Cvar_VariableStringBuffer
import trap_Cvar_VariableValue
import trap_Cvar_VariableIntegerValue
import trap_Cvar_Set
import trap_Cvar_Update
import trap_Cvar_Register
import trap_SendConsoleCommand
import trap_FS_Seek
import trap_FS_GetFileList
import trap_FS_FCloseFile
import trap_FS_Write
import trap_FS_Read
import trap_FS_FOpenFile
import trap_Args
import trap_Argv
import trap_Argc
import trap_Milliseconds
import trap_Error
import trap_Printf
export g_mapName
align 4
LABELV g_mapName
skip 272
import g_proxMineTimeout
import g_singlePlayer
import g_enableBreath
import g_enableDust
export g_rankings
align 4
LABELV g_rankings
skip 272
export pmove_msec
align 4
LABELV pmove_msec
skip 272
export pmove_fixed
align 4
LABELV pmove_fixed
skip 272
export g_smoothClients
align 4
LABELV g_smoothClients
skip 272
import g_blueteam
import g_redteam
import g_cubeTimeout
import g_obeliskRespawnDelay
import g_obeliskRegenAmount
import g_obeliskRegenPeriod
import g_obeliskHealth
export g_filterBan
align 4
LABELV g_filterBan
skip 272
export g_banIPs
align 4
LABELV g_banIPs
skip 272
export g_teamForceBalance
align 4
LABELV g_teamForceBalance
skip 272
export g_teamAutoJoin
align 4
LABELV g_teamAutoJoin
skip 272
export g_allowVote
align 4
LABELV g_allowVote
skip 272
export g_blood
align 4
LABELV g_blood
skip 272
export g_doWarmup
align 4
LABELV g_doWarmup
skip 272
export g_warmup
align 4
LABELV g_warmup
skip 272
export g_motd
align 4
LABELV g_motd
skip 272
export g_synchronousClients
align 4
LABELV g_synchronousClients
skip 272
export g_weaponTeamRespawn
align 4
LABELV g_weaponTeamRespawn
skip 272
export g_weaponRespawn
align 4
LABELV g_weaponRespawn
skip 272
export g_debugDamage
align 4
LABELV g_debugDamage
skip 272
export g_debugAlloc
align 4
LABELV g_debugAlloc
skip 272
export g_debugMove
align 4
LABELV g_debugMove
skip 272
export g_inactivity
align 4
LABELV g_inactivity
skip 272
export g_forcerespawn
align 4
LABELV g_forcerespawn
skip 272
export g_quadfactor
align 4
LABELV g_quadfactor
skip 272
export g_knockback
align 4
LABELV g_knockback
skip 272
export g_speed
align 4
LABELV g_speed
skip 272
export g_gravity
align 4
LABELV g_gravity
skip 272
export g_needpass
align 4
LABELV g_needpass
skip 272
export g_password
align 4
LABELV g_password
skip 272
export g_friendlyFire
align 4
LABELV g_friendlyFire
skip 272
export g_meeting
align 4
LABELV g_meeting
skip 272
export g_weaponLimit
align 4
LABELV g_weaponLimit
skip 272
export g_cloakingDevice
align 4
LABELV g_cloakingDevice
skip 272
export g_unlimitedAmmo
align 4
LABELV g_unlimitedAmmo
skip 272
export g_noHealthRegen
align 4
LABELV g_noHealthRegen
skip 272
export g_noItems
align 4
LABELV g_noItems
skip 272
export g_grapple
align 4
LABELV g_grapple
skip 272
export g_lightningDamageLimit
align 4
LABELV g_lightningDamageLimit
skip 272
export g_baseHealth
align 4
LABELV g_baseHealth
skip 272
export g_stamina
align 4
LABELV g_stamina
skip 272
export g_armorFragments
align 4
LABELV g_armorFragments
skip 272
export g_tssSafetyMode
align 4
LABELV g_tssSafetyMode
skip 272
export g_tss
align 4
LABELV g_tss
skip 272
export g_respawnAtPOD
align 4
LABELV g_respawnAtPOD
skip 272
export g_respawnDelay
align 4
LABELV g_respawnDelay
skip 272
export g_gameSeed
align 4
LABELV g_gameSeed
skip 272
export g_template
align 4
LABELV g_template
skip 272
export g_debugEFH
align 4
LABELV g_debugEFH
skip 272
export g_challengingEnv
align 4
LABELV g_challengingEnv
skip 272
export g_distanceLimit
align 4
LABELV g_distanceLimit
skip 272
export g_monsterLoad
align 4
LABELV g_monsterLoad
skip 272
export g_scoreMode
align 4
LABELV g_scoreMode
skip 272
export g_monsterProgression
align 4
LABELV g_monsterProgression
skip 272
export g_monsterBreeding
align 4
LABELV g_monsterBreeding
skip 272
export g_maxMonstersPP
align 4
LABELV g_maxMonstersPP
skip 272
export g_monsterLauncher
align 4
LABELV g_monsterLauncher
skip 272
export g_skipEndSequence
align 4
LABELV g_skipEndSequence
skip 272
export g_monstersPerTrap
align 4
LABELV g_monstersPerTrap
skip 272
export g_monsterTitans
align 4
LABELV g_monsterTitans
skip 272
export g_monsterGuards
align 4
LABELV g_monsterGuards
skip 272
export g_monsterHealthScale
align 4
LABELV g_monsterHealthScale
skip 272
export g_monsterSpawnDelay
align 4
LABELV g_monsterSpawnDelay
skip 272
export g_maxMonsters
align 4
LABELV g_maxMonsters
skip 272
export g_minMonsters
align 4
LABELV g_minMonsters
skip 272
export g_artefacts
align 4
LABELV g_artefacts
skip 272
export g_capturelimit
align 4
LABELV g_capturelimit
skip 272
export g_timelimit
align 4
LABELV g_timelimit
skip 272
export g_fraglimit
align 4
LABELV g_fraglimit
skip 272
export g_dmflags
align 4
LABELV g_dmflags
skip 272
export g_restarted
align 4
LABELV g_restarted
skip 272
export g_maxGameClients
align 4
LABELV g_maxGameClients
skip 272
export g_maxclients
align 4
LABELV g_maxclients
skip 272
export g_cheats
align 4
LABELV g_cheats
skip 272
export g_dedicated
align 4
LABELV g_dedicated
skip 272
export g_gametype
align 4
LABELV g_gametype
skip 272
export g_editmode
align 4
LABELV g_editmode
skip 272
export g_entities
align 4
LABELV g_entities
skip 864256
export level
align 4
LABELV level
skip 24096
import Pickup_Team
import CheckTeamStatus
import TeamplayInfoMessage
import Team_GetLocationMsg
import Team_GetLocation
import SelectCTFSpawnPoint
import Team_FreeEntity
import Team_ReturnFlag
import Team_InitGame
import Team_CheckHurtCarrier
import Team_FragBonuses
import Team_DroppedFlagThink
import AddTeamScore
import TeamColorString
import OtherTeamName
import TeamName
import OtherTeam
import BotTestAAS
import BotAIStartFrame
import BotAIShutdownClient
import BotAISetupClient
import BotAILoadMap
import BotAIShutdown
import BotAISetup
import IsPlayerFighting
import G_Constitution
import G_GetEntityPlayerState
import EntityAudible
import G_MonsterAction
import G_CheckMonsterDamage
import G_GetMonsterGeneric1
import G_IsMovable
import G_CanBeDamaged
import G_UpdateMonsterCounters
import G_AddMonsterSeed
import G_ReleaseTrap
import G_IsFriendlyMonster
import G_MonsterOwner
import G_IsAttackingGuard
import G_ChargeMonsters
import G_IsMonsterSuccessfulAttacking
import G_IsMonsterNearEntity
import IsFightingMonster
import G_MonsterSpawning
import G_SpawnMonster
import G_MonsterType
import G_MonsterBaseHealth
import G_MonsterHealthScale
import G_GetMonsterSpawnPoint
import G_GetMonsterBounds
import G_KillMonster
import G_MonsterScanForNoises
import CheckTouchedMonsters
import G_NumMonsters
import G_UpdateMonsterCS
import G_InitMonsters
import BotInterbreedEndMatch
import Svcmd_BotList_f
import Svcmd_AddBot_f
import G_BotConnect
import G_RemoveQueuedBotBegin
import G_CheckBotSpawn
import G_GetBotInfoByName
import G_GetBotInfoByNumber
import G_InitBots
import Svcmd_AbortPodium_f
import SpawnModelsOnVictoryPads
import UpdateTournamentInfo
import G_WriteSessionData
import G_InitWorldSession
import G_InitSessionData
import G_ReadSessionData
import Svcmd_GameMem_f
import G_InitMemory
import G_Alloc
import CheckObeliskAttack
import Team_GetDroppedOrTakenFlag
import Team_CheckDroppedItem
import OnSameTeam
import Team_GetFlagStatus
import G_RunClient
import ClientEndFrame
import ClientThink
import ClientImpacts
import SetTargetPos
import CheckPlayerDischarge
import TotalChargeDamage
import TSS_Run
import TSS_DangerIndex
import IsPlayerInvolvedInFighting
import NearHomeBase
import ClientCommand
import ClientBegin
import ClientDisconnect
import ClientUserinfoChanged
import ClientSetPlayerClass
import ClientConnect
import SelectAppropriateSpawnPoint
import DeathmatchScoreboardMessage
import G_SetStats
import FireWeapon
import G_FilterPacket
import G_ProcessIPBans
import ConsoleCommand
import PositionWouldTelefrag
import SpotWouldTelefrag
import AddScore
import player_die
import ClientSpawn
import InitBodyQue
import InitClientResp
import InitClientPersistant
import respawn
import CopyToBodyQue
import SelectSpawnPoint
import SetClientViewAngle
import PickTeam
import TeamLeader
import TeamCount
import GetRespawnLocationType
import ForceRespawn
import Weapon_HookThink
import Weapon_HookFree
import CheckTitanAttack
import CheckGauntletAttack
import SnapVectorTowards
import CalcMuzzlePoint
import LogAccuracyHit
import Weapon_GrapplingHook_Throw
import TeleportPlayer
import trigger_teleporter_touch
import InitMover
import Touch_DoorTrigger
import G_RunMover
import fire_monster_seed
import fire_grapple
import fire_bfg
import fire_rocket
import fire_grenade
import fire_plasma
import fire_blaster
import G_RunMissile
import GibEntity
import ScorePlum
import DropArmor
import DropHealth
import TossClientCubes
import TossClientItems
import body_die
import G_InvulnerabilityEffect
import G_RadiusDamage
import G_Damage
import CanDamage
import DoOverkill
import BuildShaderStateConfig
import AddRemap
import G_SetOrigin
import G_AddEvent
import G_AddPredictableEvent
import vectoyaw
import vtos
import tv
import G_acos
import G_TouchSolids
import G_TouchTriggers
import G_EntitiesFree
import G_FreeEntity
import G_Sound
import G_TempEntity
import G_NumEntitiesFree
import G_Spawn
import G_InitGentity
import G_SetMovedir
import G_UseTargets
import G_PickTarget
import G_Find
import G_KillBox
import G_TeamCommand
import G_SoundIndex
import G_ModelIndex
import SaveRegisteredItems
import RegisterItem
import ClearRegisteredItems
import G_SpawnArtefact
import G_BounceItemRotation
import Touch_Item
import Add_Ammo
import ArmorIndex
import Think_Weapon
import FinishSpawningItem
import G_SpawnItem
import SetRespawn
import LaunchItem
import Drop_Item
import PrecacheItem
import UseHoldableItem
import RespawnItem
import G_RunItem
import G_CheckTeamItems
import G_Say
import Cmd_FollowCycle_f
import SetTeam
import BroadcastTeamChange
import StopFollowing
import Cmd_Score_f
import G_EFH_NextDebugSegment
import G_EFH_SpaceExtent
import G_UpdateLightingOrigins
import G_GetTotalWayLength
import G_MakeWorldAwareOfMonsterDeath
import G_FindSegment
import G_UpdateWorld
import G_SpawnWorld
import G_InitWorldSystem
import G_NewString
import G_SpawnEntitiesFromString
import G_SpawnVector
import G_SpawnInt
import G_SpawnFloat
import G_SpawnString
export sv_mapChecksum
align 4
LABELV sv_mapChecksum
skip 4
export templateList
align 4
LABELV templateList
skip 81544
export numTemplateFiles
align 4
LABELV numTemplateFiles
skip 4
export templateFileList
align 1
LABELV templateFileList
skip 1024
import BG_PlayerTargetOffset
import BG_PlayerTouchesItem
import BG_PlayerStateToEntityStateExtraPolate
import BG_PlayerStateToEntityState
import BG_TouchJumpPad
import BG_AddPredictableEventToPlayerstate
import BG_EvaluateTrajectoryDelta
import BG_EvaluateTrajectory
import BG_CanItemBeGrabbed
import BG_FindItemForHoldable
import BG_FindItemForPowerup
import BG_FindItemForWeapon
import BG_FindItem
import bg_numItems
import bg_itemlist
import weaponAmmoCharacteristics
import Pmove
import PM_UpdateViewAngles
import BG_TSS_GetPlayerEntityInfo
import BG_TSS_GetPlayerInfo
import BG_TSS_SetPlayerInfo
import BG_TSS_DecodeLeadership
import BG_TSS_CodeLeadership
import BG_TSS_DecodeInstructions
import BG_TSS_CodeInstructions
import TSS_DecodeInt
import TSS_CodeInt
import TSS_DecodeNibble
import TSS_CodeNibble
import BG_TSS_AssignPlayers
import BG_TSS_TakeProportionAway
import BG_TSS_Proportion
import BG_VectorChecksum
import BG_ChecksumChar
import BG_TemplateChecksum
import BG_GetGameTemplateList
import BG_ParseGameTemplate
import local_crandom
import local_random
import DeriveLocalSeed
import LocallySeededRandom
import Info_NextPair
import Info_Validate
import Info_SetValueForKey_Big
import Info_SetValueForKey
import Info_RemoveKey_big
import Info_RemoveKey
import Info_ValueForKey
import va
import Q_CleanStr
import Q_PrintStrlen
import Q_strcat
import Q_strncpyz
import Q_strrchr
import Q_strupr
import Q_strlwr
import Q_stricmpn
import Q_strncmp
import Q_stricmp
import Q_isalpha
import Q_isupper
import Q_islower
import Q_isprint
import Com_sprintf
import Parse3DMatrix
import Parse2DMatrix
import Parse1DMatrix
import SkipRestOfLine
import SkipBracedSection
import COM_MatchToken
import COM_ParseWarning
import COM_ParseError
import COM_Compress
import COM_ParseExt
import COM_Parse
import COM_GetCurrentParseLine
import COM_BeginParseSession
import COM_DefaultExtension
import COM_StripExtension
import COM_SkipPath
import Com_Clamp
import PerpendicularVector
import AngleVectors
import MatrixMultiply
import MakeNormalVectors
import RotateAroundDirection
import RotatePointAroundVector
import ProjectPointOnPlane
import PlaneFromPoints
import AngleDelta
import AngleNormalize180
import AngleNormalize360
import AnglesSubtract
import AngleSubtract
import LerpAngle
import AngleMod
import BoxOnPlaneSide
import SetPlaneSignbits
import AxisCopy
import AxisClear
import AnglesToAxis
import vectoangles
import lrand
import Q_crandom
import Q_random
import Q_rand
import Q_acos
import Q_log2
import VectorRotate
import Vector4Scale
import VectorNormalize2
import VectorNormalize
import CrossProduct
import VectorInverse
import VectorNormalizeFast
import DistanceSquared
import Distance
import VectorLengthSquared
import VectorLength
import VectorCompare
import AddPointToBounds
import ClearBounds
import RadiusFromBounds
import NormalizeColor
import ColorBytes4
import ColorBytes3
import _VectorMA
import _VectorScale
import _VectorCopy
import _VectorAdd
import _VectorSubtract
import _DotProduct
import ByteToDir
import DirToByte
import ClampShort
import ClampChar
import Q_rsqrt
import Q_fabs
import axisDefault
import vec3_origin
import g_color_table
import colorDkGrey
import colorMdGrey
import colorLtGrey
import colorWhite
import colorCyan
import colorMagenta
import colorYellow
import colorBlue
import colorGreen
import colorRed
import colorBlack
import bytedirs
import Com_Memcpy
import Com_Memset
import Hunk_Alloc
import FloatSwap
import LongSwap
import ShortSwap
import acos
import fabs
import abs
import tan
import atan2
import cos
import sin
import sqrt
import floor
import ceil
import memcpy
import memset
import memmove
import sscanf
import vsprintf
import _atoi
import atoi
import _atof
import atof
import toupper
import tolower
import strncpy
import strstr
import strchr
import strcmp
import strcpy
import strcat
import strlen
import rand
import srand
import qsort
lit
align 1
LABELV $2451
byte 1 109
byte 1 97
byte 1 112
byte 1 32
byte 1 37
byte 1 115
byte 1 10
byte 1 0
align 1
LABELV $2446
byte 1 103
byte 1 95
byte 1 103
byte 1 97
byte 1 109
byte 1 101
byte 1 84
byte 1 121
byte 1 112
byte 1 101
byte 1 0
align 1
LABELV $2370
byte 1 103
byte 1 95
byte 1 109
byte 1 97
byte 1 120
byte 1 109
byte 1 111
byte 1 110
byte 1 115
byte 1 116
byte 1 101
byte 1 114
byte 1 115
byte 1 0
align 1
LABELV $2365
byte 1 103
byte 1 95
byte 1 109
byte 1 105
byte 1 110
byte 1 109
byte 1 111
byte 1 110
byte 1 115
byte 1 116
byte 1 101
byte 1 114
byte 1 115
byte 1 0
align 1
LABELV $2306
byte 1 103
byte 1 95
byte 1 102
byte 1 114
byte 1 105
byte 1 101
byte 1 110
byte 1 100
byte 1 108
byte 1 121
byte 1 102
byte 1 105
byte 1 114
byte 1 101
byte 1 0
align 1
LABELV $2296
byte 1 103
byte 1 95
byte 1 103
byte 1 97
byte 1 109
byte 1 101
byte 1 115
byte 1 115
byte 1 101
byte 1 100
byte 1 0
align 1
LABELV $2286
byte 1 103
byte 1 95
byte 1 103
byte 1 97
byte 1 109
byte 1 101
byte 1 115
byte 1 101
byte 1 101
byte 1 100
byte 1 0
align 1
LABELV $2281
byte 1 114
byte 1 101
byte 1 115
byte 1 112
byte 1 97
byte 1 119
byte 1 110
byte 1 100
byte 1 101
byte 1 108
byte 1 97
byte 1 121
byte 1 0
align 1
LABELV $2185
byte 1 84
byte 1 101
byte 1 109
byte 1 112
byte 1 108
byte 1 97
byte 1 116
byte 1 101
byte 1 32
byte 1 35
byte 1 37
byte 1 100
byte 1 32
byte 1 105
byte 1 115
byte 1 32
byte 1 102
byte 1 97
byte 1 117
byte 1 108
byte 1 116
byte 1 121
byte 1 46
byte 1 10
byte 1 0
align 1
LABELV $2180
byte 1 73
byte 1 110
byte 1 118
byte 1 97
byte 1 108
byte 1 105
byte 1 100
byte 1 32
byte 1 116
byte 1 101
byte 1 109
byte 1 112
byte 1 108
byte 1 97
byte 1 116
byte 1 101
byte 1 32
byte 1 105
byte 1 110
byte 1 100
byte 1 101
byte 1 120
byte 1 32
byte 1 35
byte 1 37
byte 1 100
byte 1 44
byte 1 32
byte 1 117
byte 1 115
byte 1 101
byte 1 32
byte 1 48
byte 1 32
byte 1 45
byte 1 32
byte 1 37
byte 1 100
byte 1 10
byte 1 0
align 1
LABELV $2168
byte 1 37
byte 1 51
byte 1 100
byte 1 58
byte 1 32
byte 1 37
byte 1 115
byte 1 10
byte 1 0
align 1
LABELV $2162
byte 1 78
byte 1 111
byte 1 32
byte 1 116
byte 1 101
byte 1 109
byte 1 112
byte 1 108
byte 1 97
byte 1 116
byte 1 101
byte 1 115
byte 1 32
byte 1 105
byte 1 110
byte 1 115
byte 1 116
byte 1 97
byte 1 108
byte 1 108
byte 1 101
byte 1 100
byte 1 46
byte 1 10
byte 1 0
align 1
LABELV $2156
byte 1 115
byte 1 118
byte 1 95
byte 1 116
byte 1 101
byte 1 109
byte 1 112
byte 1 108
byte 1 97
byte 1 116
byte 1 101
byte 1 95
byte 1 99
byte 1 103
byte 1 32
byte 1 37
byte 1 100
byte 1 32
byte 1 34
byte 1 37
byte 1 115
byte 1 34
byte 1 32
byte 1 37
byte 1 100
byte 1 32
byte 1 34
byte 1 37
byte 1 115
byte 1 34
byte 1 32
byte 1 34
byte 1 37
byte 1 115
byte 1 34
byte 1 0
align 1
LABELV $2098
byte 1 116
byte 1 101
byte 1 109
byte 1 112
byte 1 108
byte 1 97
byte 1 116
byte 1 101
byte 1 108
byte 1 105
byte 1 115
byte 1 116
byte 1 95
byte 1 99
byte 1 111
byte 1 109
byte 1 112
byte 1 108
byte 1 101
byte 1 116
byte 1 101
byte 1 95
byte 1 99
byte 1 103
byte 1 32
byte 1 37
byte 1 100
byte 1 32
byte 1 37
byte 1 100
byte 1 0
align 1
LABELV $2072
byte 1 104
byte 1 110
byte 1 0
align 1
LABELV $2071
byte 1 104
byte 1 116
byte 1 0
align 1
LABELV $2059
byte 1 37
byte 1 115
byte 1 37
byte 1 48
byte 1 51
byte 1 100
byte 1 0
align 1
LABELV $2030
byte 1 115
byte 1 118
byte 1 95
byte 1 109
byte 1 97
byte 1 112
byte 1 67
byte 1 104
byte 1 101
byte 1 99
byte 1 107
byte 1 115
byte 1 117
byte 1 109
byte 1 0
align 1
LABELV $2029
byte 1 119
byte 1 97
byte 1 105
byte 1 116
byte 1 32
byte 1 51
byte 1 59
byte 1 32
byte 1 116
byte 1 101
byte 1 109
byte 1 112
byte 1 108
byte 1 97
byte 1 116
byte 1 101
byte 1 115
byte 1 95
byte 1 114
byte 1 101
byte 1 115
byte 1 116
byte 1 97
byte 1 114
byte 1 116
byte 1 10
byte 1 0
align 1
LABELV $2028
byte 1 116
byte 1 109
byte 1 112
byte 1 108
byte 1 110
byte 1 97
byte 1 109
byte 1 101
byte 1 32
byte 1 37
byte 1 115
byte 1 59
byte 1 32
byte 1 101
byte 1 120
byte 1 101
byte 1 99
byte 1 32
byte 1 116
byte 1 101
byte 1 109
byte 1 112
byte 1 108
byte 1 97
byte 1 116
byte 1 101
byte 1 115
byte 1 47
byte 1 37
byte 1 115
byte 1 10
byte 1 0
align 1
LABELV $2004
byte 1 46
byte 1 116
byte 1 109
byte 1 112
byte 1 108
byte 1 0
align 1
LABELV $2003
byte 1 116
byte 1 101
byte 1 109
byte 1 112
byte 1 108
byte 1 97
byte 1 116
byte 1 101
byte 1 115
byte 1 0
align 1
LABELV $1958
byte 1 37
byte 1 52
byte 1 105
byte 1 58
byte 1 32
byte 1 37
byte 1 115
byte 1 10
byte 1 0
align 1
LABELV $1725
byte 1 78
byte 1 85
byte 1 76
byte 1 76
byte 1 32
byte 1 101
byte 1 110
byte 1 116
byte 1 45
byte 1 62
byte 1 116
byte 1 104
byte 1 105
byte 1 110
byte 1 107
byte 1 32
byte 1 40
byte 1 37
byte 1 115
byte 1 41
byte 1 10
byte 1 0
align 1
LABELV $1716
byte 1 110
byte 1 111
byte 1 110
byte 1 101
byte 1 0
align 1
LABELV $1671
byte 1 103
byte 1 116
byte 1 92
byte 1 37
byte 1 100
byte 1 92
byte 1 109
byte 1 97
byte 1 112
byte 1 92
byte 1 37
byte 1 115
byte 1 92
byte 1 98
byte 1 104
byte 1 92
byte 1 100
byte 1 37
byte 1 100
byte 1 92
byte 1 100
byte 1 109
byte 1 102
byte 1 92
byte 1 100
byte 1 37
byte 1 100
byte 1 92
byte 1 102
byte 1 108
byte 1 92
byte 1 100
byte 1 37
byte 1 100
byte 1 92
byte 1 116
byte 1 108
byte 1 92
byte 1 100
byte 1 37
byte 1 100
byte 1 92
byte 1 100
byte 1 108
byte 1 92
byte 1 100
byte 1 37
byte 1 100
byte 1 92
byte 1 97
byte 1 114
byte 1 116
byte 1 92
byte 1 100
byte 1 37
byte 1 100
byte 1 92
byte 1 114
byte 1 100
byte 1 92
byte 1 100
byte 1 37
byte 1 100
byte 1 92
byte 1 103
byte 1 115
byte 1 92
byte 1 100
byte 1 37
byte 1 100
byte 1 92
byte 1 102
byte 1 102
byte 1 92
byte 1 100
byte 1 37
byte 1 100
byte 1 92
byte 1 115
byte 1 116
byte 1 92
byte 1 100
byte 1 37
byte 1 100
byte 1 92
byte 1 110
byte 1 105
byte 1 92
byte 1 100
byte 1 37
byte 1 100
byte 1 92
byte 1 110
byte 1 104
byte 1 114
byte 1 92
byte 1 100
byte 1 37
byte 1 100
byte 1 92
byte 1 99
byte 1 100
byte 1 92
byte 1 100
byte 1 37
byte 1 100
byte 1 92
byte 1 117
byte 1 97
byte 1 92
byte 1 100
byte 1 37
byte 1 100
byte 1 92
byte 1 97
byte 1 102
byte 1 92
byte 1 100
byte 1 37
byte 1 100
byte 1 92
byte 1 108
byte 1 100
byte 1 108
byte 1 92
byte 1 100
byte 1 37
byte 1 100
byte 1 92
byte 1 103
byte 1 104
byte 1 92
byte 1 100
byte 1 37
byte 1 100
byte 1 92
byte 1 99
byte 1 104
byte 1 101
byte 1 92
byte 1 100
byte 1 37
byte 1 100
byte 1 92
byte 1 109
byte 1 108
byte 1 92
byte 1 100
byte 1 37
byte 1 100
byte 1 92
byte 1 109
byte 1 108
byte 1 111
byte 1 92
byte 1 100
byte 1 37
byte 1 100
byte 1 92
byte 1 109
byte 1 105
byte 1 109
byte 1 92
byte 1 100
byte 1 37
byte 1 100
byte 1 92
byte 1 109
byte 1 97
byte 1 109
byte 1 92
byte 1 100
byte 1 37
byte 1 100
byte 1 92
byte 1 109
byte 1 115
byte 1 100
byte 1 92
byte 1 100
byte 1 37
byte 1 100
byte 1 92
byte 1 109
byte 1 104
byte 1 115
byte 1 92
byte 1 100
byte 1 37
byte 1 100
byte 1 92
byte 1 109
byte 1 103
byte 1 92
byte 1 100
byte 1 37
byte 1 100
byte 1 92
byte 1 109
byte 1 116
byte 1 92
byte 1 100
byte 1 37
byte 1 100
byte 1 92
byte 1 109
byte 1 112
byte 1 116
byte 1 92
byte 1 100
byte 1 37
byte 1 100
byte 1 92
byte 1 104
byte 1 116
byte 1 92
byte 1 37
byte 1 100
byte 1 0
align 1
LABELV $1521
byte 1 115
byte 1 117
byte 1 114
byte 1 114
byte 1 101
byte 1 110
byte 1 100
byte 1 101
byte 1 114
byte 1 0
align 1
LABELV $1515
byte 1 108
byte 1 101
byte 1 97
byte 1 100
byte 1 101
byte 1 114
byte 1 0
align 1
LABELV $1512
byte 1 112
byte 1 114
byte 1 105
byte 1 110
byte 1 116
byte 1 32
byte 1 34
byte 1 84
byte 1 101
byte 1 97
byte 1 109
byte 1 32
byte 1 118
byte 1 111
byte 1 116
byte 1 101
byte 1 32
byte 1 112
byte 1 97
byte 1 115
byte 1 115
byte 1 101
byte 1 100
byte 1 46
byte 1 10
byte 1 34
byte 1 0
align 1
LABELV $1507
byte 1 112
byte 1 114
byte 1 105
byte 1 110
byte 1 116
byte 1 32
byte 1 34
byte 1 84
byte 1 101
byte 1 97
byte 1 109
byte 1 32
byte 1 118
byte 1 111
byte 1 116
byte 1 101
byte 1 32
byte 1 102
byte 1 97
byte 1 105
byte 1 108
byte 1 101
byte 1 100
byte 1 46
byte 1 10
byte 1 34
byte 1 0
align 1
LABELV $1463
byte 1 112
byte 1 114
byte 1 105
byte 1 110
byte 1 116
byte 1 32
byte 1 34
byte 1 37
byte 1 115
byte 1 32
byte 1 105
byte 1 115
byte 1 32
byte 1 116
byte 1 104
byte 1 101
byte 1 32
byte 1 110
byte 1 101
byte 1 119
byte 1 32
byte 1 116
byte 1 101
byte 1 97
byte 1 109
byte 1 32
byte 1 108
byte 1 101
byte 1 97
byte 1 100
byte 1 101
byte 1 114
byte 1 10
byte 1 34
byte 1 0
align 1
LABELV $1451
byte 1 112
byte 1 114
byte 1 105
byte 1 110
byte 1 116
byte 1 32
byte 1 34
byte 1 37
byte 1 115
byte 1 32
byte 1 105
byte 1 115
byte 1 32
byte 1 110
byte 1 111
byte 1 116
byte 1 32
byte 1 111
byte 1 110
byte 1 32
byte 1 116
byte 1 104
byte 1 101
byte 1 32
byte 1 116
byte 1 101
byte 1 97
byte 1 109
byte 1 32
byte 1 97
byte 1 110
byte 1 121
byte 1 109
byte 1 111
byte 1 114
byte 1 101
byte 1 10
byte 1 34
byte 1 0
align 1
LABELV $1448
byte 1 112
byte 1 114
byte 1 105
byte 1 110
byte 1 116
byte 1 32
byte 1 34
byte 1 37
byte 1 115
byte 1 32
byte 1 105
byte 1 115
byte 1 32
byte 1 110
byte 1 111
byte 1 116
byte 1 32
byte 1 99
byte 1 111
byte 1 110
byte 1 110
byte 1 101
byte 1 99
byte 1 116
byte 1 101
byte 1 100
byte 1 10
byte 1 34
byte 1 0
align 1
LABELV $1429
byte 1 112
byte 1 114
byte 1 105
byte 1 110
byte 1 116
byte 1 32
byte 1 34
byte 1 86
byte 1 111
byte 1 116
byte 1 101
byte 1 32
byte 1 112
byte 1 97
byte 1 115
byte 1 115
byte 1 101
byte 1 100
byte 1 46
byte 1 10
byte 1 34
byte 1 0
align 1
LABELV $1424
byte 1 112
byte 1 114
byte 1 105
byte 1 110
byte 1 116
byte 1 32
byte 1 34
byte 1 86
byte 1 111
byte 1 116
byte 1 101
byte 1 32
byte 1 102
byte 1 97
byte 1 105
byte 1 108
byte 1 101
byte 1 100
byte 1 46
byte 1 10
byte 1 34
byte 1 0
align 1
LABELV $1415
byte 1 37
byte 1 115
byte 1 10
byte 1 0
align 1
LABELV $1327
byte 1 87
byte 1 97
byte 1 114
byte 1 109
byte 1 117
byte 1 112
byte 1 58
byte 1 10
byte 1 0
align 1
LABELV $1308
byte 1 112
byte 1 114
byte 1 105
byte 1 110
byte 1 116
byte 1 32
byte 1 34
byte 1 66
byte 1 108
byte 1 117
byte 1 101
byte 1 32
byte 1 104
byte 1 105
byte 1 116
byte 1 32
byte 1 116
byte 1 104
byte 1 101
byte 1 32
byte 1 99
byte 1 97
byte 1 112
byte 1 116
byte 1 117
byte 1 114
byte 1 101
byte 1 108
byte 1 105
byte 1 109
byte 1 105
byte 1 116
byte 1 46
byte 1 10
byte 1 34
byte 1 0
align 1
LABELV $1302
byte 1 67
byte 1 97
byte 1 112
byte 1 116
byte 1 117
byte 1 114
byte 1 101
byte 1 108
byte 1 105
byte 1 109
byte 1 105
byte 1 116
byte 1 32
byte 1 104
byte 1 105
byte 1 116
byte 1 46
byte 1 0
align 1
LABELV $1301
byte 1 112
byte 1 114
byte 1 105
byte 1 110
byte 1 116
byte 1 32
byte 1 34
byte 1 82
byte 1 101
byte 1 100
byte 1 32
byte 1 104
byte 1 105
byte 1 116
byte 1 32
byte 1 116
byte 1 104
byte 1 101
byte 1 32
byte 1 99
byte 1 97
byte 1 112
byte 1 116
byte 1 117
byte 1 114
byte 1 101
byte 1 108
byte 1 105
byte 1 109
byte 1 105
byte 1 116
byte 1 46
byte 1 10
byte 1 34
byte 1 0
align 1
LABELV $1291
byte 1 112
byte 1 114
byte 1 105
byte 1 110
byte 1 116
byte 1 32
byte 1 34
byte 1 37
byte 1 115
byte 1 94
byte 1 55
byte 1 32
byte 1 104
byte 1 105
byte 1 116
byte 1 32
byte 1 116
byte 1 104
byte 1 101
byte 1 32
byte 1 102
byte 1 114
byte 1 97
byte 1 103
byte 1 108
byte 1 105
byte 1 109
byte 1 105
byte 1 116
byte 1 46
byte 1 10
byte 1 34
byte 1 0
align 1
LABELV $1278
byte 1 112
byte 1 114
byte 1 105
byte 1 110
byte 1 116
byte 1 32
byte 1 34
byte 1 66
byte 1 108
byte 1 117
byte 1 101
byte 1 32
byte 1 104
byte 1 105
byte 1 116
byte 1 32
byte 1 116
byte 1 104
byte 1 101
byte 1 32
byte 1 102
byte 1 114
byte 1 97
byte 1 103
byte 1 108
byte 1 105
byte 1 109
byte 1 105
byte 1 116
byte 1 46
byte 1 10
byte 1 34
byte 1 0
align 1
LABELV $1272
byte 1 112
byte 1 114
byte 1 105
byte 1 110
byte 1 116
byte 1 32
byte 1 34
byte 1 82
byte 1 101
byte 1 100
byte 1 32
byte 1 104
byte 1 105
byte 1 116
byte 1 32
byte 1 116
byte 1 104
byte 1 101
byte 1 32
byte 1 102
byte 1 114
byte 1 97
byte 1 103
byte 1 108
byte 1 105
byte 1 109
byte 1 105
byte 1 116
byte 1 46
byte 1 10
byte 1 34
byte 1 0
align 1
LABELV $1223
byte 1 71
byte 1 111
byte 1 97
byte 1 108
byte 1 32
byte 1 114
byte 1 101
byte 1 97
byte 1 99
byte 1 104
byte 1 101
byte 1 100
byte 1 46
byte 1 0
align 1
LABELV $1222
byte 1 112
byte 1 114
byte 1 105
byte 1 110
byte 1 116
byte 1 32
byte 1 34
byte 1 71
byte 1 111
byte 1 97
byte 1 108
byte 1 32
byte 1 114
byte 1 101
byte 1 97
byte 1 99
byte 1 104
byte 1 101
byte 1 100
byte 1 46
byte 1 10
byte 1 34
byte 1 0
align 1
LABELV $1210
byte 1 84
byte 1 105
byte 1 109
byte 1 101
byte 1 108
byte 1 105
byte 1 109
byte 1 105
byte 1 116
byte 1 32
byte 1 104
byte 1 105
byte 1 116
byte 1 46
byte 1 0
align 1
LABELV $1209
byte 1 112
byte 1 114
byte 1 105
byte 1 110
byte 1 116
byte 1 32
byte 1 34
byte 1 84
byte 1 105
byte 1 109
byte 1 101
byte 1 108
byte 1 105
byte 1 109
byte 1 105
byte 1 116
byte 1 32
byte 1 104
byte 1 105
byte 1 116
byte 1 46
byte 1 10
byte 1 34
byte 1 0
align 1
LABELV $1197
byte 1 79
byte 1 118
byte 1 101
byte 1 114
byte 1 107
byte 1 105
byte 1 108
byte 1 108
byte 1 46
byte 1 0
align 1
LABELV $1196
byte 1 112
byte 1 114
byte 1 105
byte 1 110
byte 1 116
byte 1 32
byte 1 34
byte 1 77
byte 1 111
byte 1 110
byte 1 115
byte 1 116
byte 1 101
byte 1 114
byte 1 115
byte 1 32
byte 1 107
byte 1 105
byte 1 108
byte 1 108
byte 1 101
byte 1 100
byte 1 32
byte 1 97
byte 1 108
byte 1 108
byte 1 32
byte 1 104
byte 1 117
byte 1 110
byte 1 116
byte 1 101
byte 1 114
byte 1 115
byte 1 46
byte 1 10
byte 1 34
byte 1 0
align 1
LABELV $1190
byte 1 70
byte 1 114
byte 1 97
byte 1 103
byte 1 108
byte 1 105
byte 1 109
byte 1 105
byte 1 116
byte 1 32
byte 1 104
byte 1 105
byte 1 116
byte 1 46
byte 1 0
align 1
LABELV $1189
byte 1 112
byte 1 114
byte 1 105
byte 1 110
byte 1 116
byte 1 32
byte 1 34
byte 1 77
byte 1 111
byte 1 110
byte 1 115
byte 1 116
byte 1 101
byte 1 114
byte 1 115
byte 1 32
byte 1 104
byte 1 105
byte 1 116
byte 1 32
byte 1 116
byte 1 104
byte 1 101
byte 1 32
byte 1 102
byte 1 114
byte 1 97
byte 1 103
byte 1 108
byte 1 105
byte 1 109
byte 1 105
byte 1 116
byte 1 46
byte 1 10
byte 1 34
byte 1 0
align 1
LABELV $1179
byte 1 65
byte 1 108
byte 1 108
byte 1 32
byte 1 97
byte 1 114
byte 1 116
byte 1 101
byte 1 102
byte 1 97
byte 1 99
byte 1 116
byte 1 115
byte 1 32
byte 1 99
byte 1 111
byte 1 108
byte 1 108
byte 1 101
byte 1 99
byte 1 116
byte 1 101
byte 1 100
byte 1 46
byte 1 0
align 1
LABELV $1178
byte 1 112
byte 1 114
byte 1 105
byte 1 110
byte 1 116
byte 1 32
byte 1 34
byte 1 84
byte 1 104
byte 1 101
byte 1 32
byte 1 85
byte 1 110
byte 1 105
byte 1 118
byte 1 101
byte 1 114
byte 1 115
byte 1 101
byte 1 32
byte 1 104
byte 1 97
byte 1 115
byte 1 32
byte 1 98
byte 1 101
byte 1 101
byte 1 110
byte 1 32
byte 1 115
byte 1 97
byte 1 118
byte 1 101
byte 1 100
byte 1 33
byte 1 10
byte 1 34
byte 1 0
align 1
LABELV $1011
byte 1 37
byte 1 100
byte 1 46
byte 1 37
byte 1 48
byte 1 51
byte 1 100
byte 1 0
align 1
LABELV $996
byte 1 116
byte 1 105
byte 1 109
byte 1 101
byte 1 32
byte 1 112
byte 1 108
byte 1 97
byte 1 121
byte 1 101
byte 1 100
byte 1 58
byte 1 32
byte 1 37
byte 1 115
byte 1 10
byte 1 0
align 1
LABELV $995
byte 1 37
byte 1 100
byte 1 58
byte 1 37
byte 1 48
byte 1 50
byte 1 100
byte 1 46
byte 1 37
byte 1 48
byte 1 51
byte 1 100
byte 1 0
align 1
LABELV $988
byte 1 115
byte 1 99
byte 1 111
byte 1 114
byte 1 101
byte 1 58
byte 1 32
byte 1 37
byte 1 105
byte 1 32
byte 1 32
byte 1 112
byte 1 105
byte 1 110
byte 1 103
byte 1 58
byte 1 32
byte 1 37
byte 1 105
byte 1 32
byte 1 32
byte 1 99
byte 1 108
byte 1 105
byte 1 101
byte 1 110
byte 1 116
byte 1 58
byte 1 32
byte 1 37
byte 1 105
byte 1 32
byte 1 37
byte 1 115
byte 1 10
byte 1 0
align 1
LABELV $971
byte 1 114
byte 1 101
byte 1 100
byte 1 58
byte 1 37
byte 1 105
byte 1 32
byte 1 32
byte 1 98
byte 1 108
byte 1 117
byte 1 101
byte 1 58
byte 1 37
byte 1 105
byte 1 10
byte 1 0
align 1
LABELV $962
byte 1 69
byte 1 120
byte 1 105
byte 1 116
byte 1 58
byte 1 32
byte 1 37
byte 1 115
byte 1 10
byte 1 0
align 1
LABELV $950
byte 1 37
byte 1 51
byte 1 105
byte 1 58
byte 1 37
byte 1 105
byte 1 37
byte 1 105
byte 1 32
byte 1 0
align 1
LABELV $927
byte 1 118
byte 1 115
byte 1 116
byte 1 114
byte 1 32
byte 1 110
byte 1 101
byte 1 120
byte 1 116
byte 1 109
byte 1 97
byte 1 112
byte 1 10
byte 1 0
align 1
LABELV $923
byte 1 109
byte 1 97
byte 1 112
byte 1 95
byte 1 114
byte 1 101
byte 1 115
byte 1 116
byte 1 97
byte 1 114
byte 1 116
byte 1 32
byte 1 48
byte 1 10
byte 1 0
align 1
LABELV $877
byte 1 94
byte 1 51
byte 1 104
byte 1 105
byte 1 103
byte 1 104
byte 1 115
byte 1 99
byte 1 111
byte 1 114
byte 1 101
byte 1 32
byte 1 114
byte 1 101
byte 1 106
byte 1 101
byte 1 99
byte 1 116
byte 1 101
byte 1 100
byte 1 44
byte 1 32
byte 1 114
byte 1 101
byte 1 97
byte 1 115
byte 1 111
byte 1 110
byte 1 58
byte 1 32
byte 1 37
byte 1 115
byte 1 10
byte 1 0
align 1
LABELV $874
byte 1 116
byte 1 101
byte 1 109
byte 1 112
byte 1 108
byte 1 97
byte 1 116
byte 1 101
byte 1 32
byte 1 100
byte 1 111
byte 1 101
byte 1 115
byte 1 110
byte 1 39
byte 1 116
byte 1 32
byte 1 100
byte 1 101
byte 1 102
byte 1 105
byte 1 110
byte 1 101
byte 1 32
byte 1 104
byte 1 105
byte 1 103
byte 1 104
byte 1 115
byte 1 99
byte 1 111
byte 1 114
byte 1 101
byte 1 32
byte 1 116
byte 1 121
byte 1 112
byte 1 101
byte 1 10
byte 1 0
align 1
LABELV $868
byte 1 110
byte 1 111
byte 1 32
byte 1 110
byte 1 101
byte 1 119
byte 1 32
byte 1 104
byte 1 105
byte 1 103
byte 1 104
byte 1 115
byte 1 99
byte 1 111
byte 1 114
byte 1 101
byte 1 10
byte 1 0
align 1
LABELV $867
byte 1 37
byte 1 115
byte 1 49
byte 1 0
align 1
LABELV $850
byte 1 78
byte 1 101
byte 1 119
byte 1 32
byte 1 114
byte 1 101
byte 1 99
byte 1 111
byte 1 114
byte 1 100
byte 1 32
byte 1 115
byte 1 112
byte 1 101
byte 1 101
byte 1 100
byte 1 32
byte 1 111
byte 1 110
byte 1 32
byte 1 116
byte 1 104
byte 1 105
byte 1 115
byte 1 32
byte 1 115
byte 1 101
byte 1 114
byte 1 118
byte 1 101
byte 1 114
byte 1 33
byte 1 0
align 1
LABELV $841
byte 1 78
byte 1 101
byte 1 119
byte 1 32
byte 1 114
byte 1 101
byte 1 99
byte 1 111
byte 1 114
byte 1 100
byte 1 32
byte 1 100
byte 1 105
byte 1 115
byte 1 116
byte 1 97
byte 1 110
byte 1 99
byte 1 101
byte 1 32
byte 1 111
byte 1 110
byte 1 32
byte 1 116
byte 1 104
byte 1 105
byte 1 115
byte 1 32
byte 1 115
byte 1 101
byte 1 114
byte 1 118
byte 1 101
byte 1 114
byte 1 33
byte 1 0
align 1
LABELV $835
byte 1 78
byte 1 101
byte 1 119
byte 1 32
byte 1 114
byte 1 101
byte 1 99
byte 1 111
byte 1 114
byte 1 100
byte 1 32
byte 1 116
byte 1 105
byte 1 109
byte 1 101
byte 1 32
byte 1 111
byte 1 110
byte 1 32
byte 1 116
byte 1 104
byte 1 105
byte 1 115
byte 1 32
byte 1 115
byte 1 101
byte 1 114
byte 1 118
byte 1 101
byte 1 114
byte 1 33
byte 1 0
align 1
LABELV $816
byte 1 78
byte 1 101
byte 1 119
byte 1 32
byte 1 104
byte 1 105
byte 1 103
byte 1 104
byte 1 115
byte 1 99
byte 1 111
byte 1 114
byte 1 101
byte 1 32
byte 1 111
byte 1 110
byte 1 32
byte 1 116
byte 1 104
byte 1 105
byte 1 115
byte 1 32
byte 1 115
byte 1 101
byte 1 114
byte 1 118
byte 1 101
byte 1 114
byte 1 33
byte 1 0
align 1
LABELV $790
byte 1 32
byte 1 42
byte 1 32
byte 1 0
align 1
LABELV $789
byte 1 37
byte 1 115
byte 1 37
byte 1 115
byte 1 94
byte 1 55
byte 1 32
byte 1 37
byte 1 100
byte 1 0
align 1
LABELV $783
byte 1 110
byte 1 97
byte 1 109
byte 1 101
byte 1 0
align 1
LABELV $765
byte 1 110
byte 1 111
byte 1 32
byte 1 112
byte 1 108
byte 1 97
byte 1 121
byte 1 101
byte 1 114
byte 1 115
byte 1 0
align 1
LABELV $761
byte 1 116
byte 1 111
byte 1 111
byte 1 32
byte 1 109
byte 1 97
byte 1 110
byte 1 121
byte 1 32
byte 1 112
byte 1 108
byte 1 97
byte 1 121
byte 1 101
byte 1 114
byte 1 115
byte 1 0
align 1
LABELV $757
byte 1 116
byte 1 111
byte 1 111
byte 1 32
byte 1 102
byte 1 101
byte 1 119
byte 1 32
byte 1 112
byte 1 108
byte 1 97
byte 1 121
byte 1 101
byte 1 114
byte 1 115
byte 1 0
align 1
LABELV $729
byte 1 103
byte 1 95
byte 1 114
byte 1 101
byte 1 115
byte 1 112
byte 1 97
byte 1 119
byte 1 110
byte 1 65
byte 1 116
byte 1 80
byte 1 79
byte 1 68
byte 1 0
align 1
LABELV $725
byte 1 116
byte 1 115
byte 1 115
byte 1 83
byte 1 97
byte 1 102
byte 1 101
byte 1 116
byte 1 121
byte 1 77
byte 1 111
byte 1 100
byte 1 101
byte 1 0
align 1
LABELV $697
byte 1 103
byte 1 95
byte 1 114
byte 1 101
byte 1 115
byte 1 112
byte 1 97
byte 1 119
byte 1 110
byte 1 68
byte 1 101
byte 1 108
byte 1 97
byte 1 121
byte 1 0
align 1
LABELV $642
byte 1 109
byte 1 97
byte 1 112
byte 1 0
align 1
LABELV $612
byte 1 105
byte 1 110
byte 1 102
byte 1 111
byte 1 95
byte 1 112
byte 1 108
byte 1 97
byte 1 121
byte 1 101
byte 1 114
byte 1 95
byte 1 105
byte 1 110
byte 1 116
byte 1 101
byte 1 114
byte 1 109
byte 1 105
byte 1 115
byte 1 115
byte 1 105
byte 1 111
byte 1 110
byte 1 0
align 1
LABELV $579
byte 1 37
byte 1 105
byte 1 0
align 1
LABELV $431
byte 1 115
byte 1 0
align 1
LABELV $422
byte 1 102
byte 1 0
align 1
LABELV $394
byte 1 37
byte 1 115
byte 1 0
align 1
LABELV $387
byte 1 83
byte 1 104
byte 1 117
byte 1 116
byte 1 100
byte 1 111
byte 1 119
byte 1 110
byte 1 71
byte 1 97
byte 1 109
byte 1 101
byte 1 58
byte 1 10
byte 1 0
align 1
LABELV $383
byte 1 61
byte 1 61
byte 1 61
byte 1 61
byte 1 32
byte 1 83
byte 1 104
byte 1 117
byte 1 116
byte 1 100
byte 1 111
byte 1 119
byte 1 110
byte 1 71
byte 1 97
byte 1 109
byte 1 101
byte 1 32
byte 1 61
byte 1 61
byte 1 61
byte 1 61
byte 1 10
byte 1 0
align 1
LABELV $380
byte 1 37
byte 1 100
byte 1 0
align 1
LABELV $379
byte 1 48
byte 1 48
byte 1 48
byte 1 44
byte 1 48
byte 1 0
align 1
LABELV $377
byte 1 98
byte 1 111
byte 1 116
byte 1 95
byte 1 101
byte 1 110
byte 1 97
byte 1 98
byte 1 108
byte 1 101
byte 1 0
align 1
LABELV $374
byte 1 115
byte 1 111
byte 1 117
byte 1 110
byte 1 100
byte 1 47
byte 1 112
byte 1 108
byte 1 97
byte 1 121
byte 1 101
byte 1 114
byte 1 47
byte 1 103
byte 1 117
byte 1 114
byte 1 112
byte 1 50
byte 1 46
byte 1 119
byte 1 97
byte 1 118
byte 1 0
align 1
LABELV $373
byte 1 115
byte 1 111
byte 1 117
byte 1 110
byte 1 100
byte 1 47
byte 1 112
byte 1 108
byte 1 97
byte 1 121
byte 1 101
byte 1 114
byte 1 47
byte 1 103
byte 1 117
byte 1 114
byte 1 112
byte 1 49
byte 1 46
byte 1 119
byte 1 97
byte 1 118
byte 1 0
align 1
LABELV $372
byte 1 109
byte 1 111
byte 1 100
byte 1 101
byte 1 108
byte 1 115
byte 1 47
byte 1 109
byte 1 97
byte 1 112
byte 1 111
byte 1 98
byte 1 106
byte 1 101
byte 1 99
byte 1 116
byte 1 115
byte 1 47
byte 1 112
byte 1 111
byte 1 100
byte 1 105
byte 1 117
byte 1 109
byte 1 47
byte 1 112
byte 1 111
byte 1 100
byte 1 105
byte 1 117
byte 1 109
byte 1 52
byte 1 46
byte 1 109
byte 1 100
byte 1 51
byte 1 0
align 1
LABELV $370
byte 1 99
byte 1 111
byte 1 109
byte 1 95
byte 1 98
byte 1 117
byte 1 105
byte 1 108
byte 1 100
byte 1 83
byte 1 99
byte 1 114
byte 1 105
byte 1 112
byte 1 116
byte 1 0
align 1
LABELV $366
byte 1 45
byte 1 45
byte 1 45
byte 1 45
byte 1 45
byte 1 45
byte 1 45
byte 1 45
byte 1 45
byte 1 45
byte 1 45
byte 1 45
byte 1 45
byte 1 45
byte 1 45
byte 1 45
byte 1 45
byte 1 45
byte 1 45
byte 1 45
byte 1 45
byte 1 45
byte 1 45
byte 1 45
byte 1 45
byte 1 45
byte 1 45
byte 1 45
byte 1 45
byte 1 45
byte 1 45
byte 1 45
byte 1 45
byte 1 45
byte 1 45
byte 1 10
byte 1 0
align 1
LABELV $347
byte 1 78
byte 1 111
byte 1 116
byte 1 32
byte 1 108
byte 1 111
byte 1 103
byte 1 103
byte 1 105
byte 1 110
byte 1 103
byte 1 32
byte 1 116
byte 1 111
byte 1 32
byte 1 100
byte 1 105
byte 1 115
byte 1 107
byte 1 46
byte 1 10
byte 1 0
align 1
LABELV $346
byte 1 73
byte 1 110
byte 1 105
byte 1 116
byte 1 71
byte 1 97
byte 1 109
byte 1 101
byte 1 58
byte 1 32
byte 1 37
byte 1 115
byte 1 10
byte 1 0
align 1
LABELV $345
byte 1 45
byte 1 45
byte 1 45
byte 1 45
byte 1 45
byte 1 45
byte 1 45
byte 1 45
byte 1 45
byte 1 45
byte 1 45
byte 1 45
byte 1 45
byte 1 45
byte 1 45
byte 1 45
byte 1 45
byte 1 45
byte 1 45
byte 1 45
byte 1 45
byte 1 45
byte 1 45
byte 1 45
byte 1 45
byte 1 45
byte 1 45
byte 1 45
byte 1 45
byte 1 45
byte 1 45
byte 1 45
byte 1 45
byte 1 45
byte 1 45
byte 1 45
byte 1 45
byte 1 45
byte 1 45
byte 1 45
byte 1 45
byte 1 45
byte 1 45
byte 1 45
byte 1 45
byte 1 45
byte 1 45
byte 1 45
byte 1 45
byte 1 45
byte 1 45
byte 1 45
byte 1 45
byte 1 45
byte 1 45
byte 1 45
byte 1 45
byte 1 45
byte 1 45
byte 1 45
byte 1 10
byte 1 0
align 1
LABELV $343
byte 1 87
byte 1 65
byte 1 82
byte 1 78
byte 1 73
byte 1 78
byte 1 71
byte 1 58
byte 1 32
byte 1 67
byte 1 111
byte 1 117
byte 1 108
byte 1 100
byte 1 110
byte 1 39
byte 1 116
byte 1 32
byte 1 111
byte 1 112
byte 1 101
byte 1 110
byte 1 32
byte 1 108
byte 1 111
byte 1 103
byte 1 102
byte 1 105
byte 1 108
byte 1 101
byte 1 58
byte 1 32
byte 1 37
byte 1 115
byte 1 10
byte 1 0
align 1
LABELV $328
byte 1 115
byte 1 111
byte 1 117
byte 1 110
byte 1 100
byte 1 47
byte 1 112
byte 1 108
byte 1 97
byte 1 121
byte 1 101
byte 1 114
byte 1 47
byte 1 102
byte 1 114
byte 1 121
byte 1 46
byte 1 119
byte 1 97
byte 1 118
byte 1 0
align 1
LABELV $322
byte 1 103
byte 1 97
byte 1 109
byte 1 101
byte 1 100
byte 1 97
byte 1 116
byte 1 101
byte 1 58
byte 1 32
byte 1 37
byte 1 115
byte 1 10
byte 1 0
align 1
LABELV $321
byte 1 103
byte 1 97
byte 1 109
byte 1 101
byte 1 110
byte 1 97
byte 1 109
byte 1 101
byte 1 58
byte 1 32
byte 1 37
byte 1 115
byte 1 10
byte 1 0
align 1
LABELV $320
byte 1 45
byte 1 45
byte 1 45
byte 1 45
byte 1 45
byte 1 45
byte 1 45
byte 1 32
byte 1 71
byte 1 97
byte 1 109
byte 1 101
byte 1 32
byte 1 73
byte 1 110
byte 1 105
byte 1 116
byte 1 105
byte 1 97
byte 1 108
byte 1 105
byte 1 122
byte 1 97
byte 1 116
byte 1 105
byte 1 111
byte 1 110
byte 1 32
byte 1 45
byte 1 45
byte 1 45
byte 1 45
byte 1 45
byte 1 45
byte 1 45
byte 1 10
byte 1 0
align 1
LABELV $317
byte 1 37
byte 1 100
byte 1 44
byte 1 37
byte 1 100
byte 1 0
align 1
LABELV $315
byte 1 37
byte 1 115
byte 1 48
byte 1 0
align 1
LABELV $303
byte 1 48
byte 1 44
byte 1 48
byte 1 0
align 1
LABELV $283
byte 1 112
byte 1 114
byte 1 105
byte 1 110
byte 1 116
byte 1 32
byte 1 34
byte 1 83
byte 1 101
byte 1 114
byte 1 118
byte 1 101
byte 1 114
byte 1 58
byte 1 32
byte 1 37
byte 1 115
byte 1 32
byte 1 99
byte 1 104
byte 1 97
byte 1 110
byte 1 103
byte 1 101
byte 1 100
byte 1 32
byte 1 116
byte 1 111
byte 1 32
byte 1 37
byte 1 115
byte 1 10
byte 1 34
byte 1 0
align 1
LABELV $268
byte 1 103
byte 1 95
byte 1 103
byte 1 97
byte 1 109
byte 1 101
byte 1 116
byte 1 121
byte 1 112
byte 1 101
byte 1 32
byte 1 37
byte 1 105
byte 1 32
byte 1 105
byte 1 115
byte 1 32
byte 1 111
byte 1 117
byte 1 116
byte 1 32
byte 1 111
byte 1 102
byte 1 32
byte 1 114
byte 1 97
byte 1 110
byte 1 103
byte 1 101
byte 1 44
byte 1 32
byte 1 100
byte 1 101
byte 1 102
byte 1 97
byte 1 117
byte 1 108
byte 1 116
byte 1 105
byte 1 110
byte 1 103
byte 1 32
byte 1 116
byte 1 111
byte 1 32
byte 1 48
byte 1 10
byte 1 0
align 1
LABELV $250
byte 1 37
byte 1 105
byte 1 32
byte 1 116
byte 1 101
byte 1 97
byte 1 109
byte 1 115
byte 1 32
byte 1 119
byte 1 105
byte 1 116
byte 1 104
byte 1 32
byte 1 37
byte 1 105
byte 1 32
byte 1 101
byte 1 110
byte 1 116
byte 1 105
byte 1 116
byte 1 105
byte 1 101
byte 1 115
byte 1 10
byte 1 0
align 1
LABELV $203
byte 1 103
byte 1 95
byte 1 114
byte 1 97
byte 1 110
byte 1 107
byte 1 105
byte 1 110
byte 1 103
byte 1 115
byte 1 0
align 1
LABELV $202
byte 1 112
byte 1 109
byte 1 111
byte 1 118
byte 1 101
byte 1 95
byte 1 109
byte 1 115
byte 1 101
byte 1 99
byte 1 0
align 1
LABELV $201
byte 1 112
byte 1 109
byte 1 111
byte 1 118
byte 1 101
byte 1 95
byte 1 102
byte 1 105
byte 1 120
byte 1 101
byte 1 100
byte 1 0
align 1
LABELV $200
byte 1 103
byte 1 95
byte 1 115
byte 1 109
byte 1 111
byte 1 111
byte 1 116
byte 1 104
byte 1 67
byte 1 108
byte 1 105
byte 1 101
byte 1 110
byte 1 116
byte 1 115
byte 1 0
align 1
LABELV $199
byte 1 115
byte 1 118
byte 1 116
byte 1 109
byte 1 112
byte 1 108
byte 1 102
byte 1 105
byte 1 108
byte 1 101
byte 1 115
byte 1 0
align 1
LABELV $198
byte 1 109
byte 1 97
byte 1 112
byte 1 110
byte 1 97
byte 1 109
byte 1 101
byte 1 0
align 1
LABELV $197
byte 1 103
byte 1 95
byte 1 108
byte 1 105
byte 1 115
byte 1 116
byte 1 69
byte 1 110
byte 1 116
byte 1 105
byte 1 116
byte 1 121
byte 1 0
align 1
LABELV $196
byte 1 103
byte 1 95
byte 1 97
byte 1 108
byte 1 108
byte 1 111
byte 1 119
byte 1 86
byte 1 111
byte 1 116
byte 1 101
byte 1 0
align 1
LABELV $195
byte 1 55
byte 1 48
byte 1 0
align 1
LABELV $194
byte 1 103
byte 1 95
byte 1 112
byte 1 111
byte 1 100
byte 1 105
byte 1 117
byte 1 109
byte 1 68
byte 1 114
byte 1 111
byte 1 112
byte 1 0
align 1
LABELV $193
byte 1 56
byte 1 48
byte 1 0
align 1
LABELV $192
byte 1 103
byte 1 95
byte 1 112
byte 1 111
byte 1 100
byte 1 105
byte 1 117
byte 1 109
byte 1 68
byte 1 105
byte 1 115
byte 1 116
byte 1 0
align 1
LABELV $191
byte 1 99
byte 1 111
byte 1 109
byte 1 95
byte 1 98
byte 1 108
byte 1 111
byte 1 111
byte 1 100
byte 1 0
align 1
LABELV $190
byte 1 103
byte 1 95
byte 1 109
byte 1 111
byte 1 116
byte 1 100
byte 1 0
align 1
LABELV $189
byte 1 103
byte 1 95
byte 1 100
byte 1 101
byte 1 98
byte 1 117
byte 1 103
byte 1 65
byte 1 108
byte 1 108
byte 1 111
byte 1 99
byte 1 0
align 1
LABELV $188
byte 1 103
byte 1 95
byte 1 100
byte 1 101
byte 1 98
byte 1 117
byte 1 103
byte 1 68
byte 1 97
byte 1 109
byte 1 97
byte 1 103
byte 1 101
byte 1 0
align 1
LABELV $187
byte 1 103
byte 1 95
byte 1 100
byte 1 101
byte 1 98
byte 1 117
byte 1 103
byte 1 77
byte 1 111
byte 1 118
byte 1 101
byte 1 0
align 1
LABELV $186
byte 1 103
byte 1 95
byte 1 105
byte 1 110
byte 1 97
byte 1 99
byte 1 116
byte 1 105
byte 1 118
byte 1 105
byte 1 116
byte 1 121
byte 1 0
align 1
LABELV $185
byte 1 103
byte 1 95
byte 1 102
byte 1 111
byte 1 114
byte 1 99
byte 1 101
byte 1 114
byte 1 101
byte 1 115
byte 1 112
byte 1 97
byte 1 119
byte 1 110
byte 1 0
align 1
LABELV $184
byte 1 103
byte 1 95
byte 1 119
byte 1 101
byte 1 97
byte 1 112
byte 1 111
byte 1 110
byte 1 84
byte 1 101
byte 1 97
byte 1 109
byte 1 82
byte 1 101
byte 1 115
byte 1 112
byte 1 97
byte 1 119
byte 1 110
byte 1 0
align 1
LABELV $183
byte 1 53
byte 1 0
align 1
LABELV $182
byte 1 103
byte 1 95
byte 1 119
byte 1 101
byte 1 97
byte 1 112
byte 1 111
byte 1 110
byte 1 114
byte 1 101
byte 1 115
byte 1 112
byte 1 97
byte 1 119
byte 1 110
byte 1 0
align 1
LABELV $181
byte 1 51
byte 1 0
align 1
LABELV $180
byte 1 103
byte 1 95
byte 1 113
byte 1 117
byte 1 97
byte 1 100
byte 1 102
byte 1 97
byte 1 99
byte 1 116
byte 1 111
byte 1 114
byte 1 0
align 1
LABELV $179
byte 1 49
byte 1 48
byte 1 48
byte 1 48
byte 1 0
align 1
LABELV $178
byte 1 103
byte 1 95
byte 1 107
byte 1 110
byte 1 111
byte 1 99
byte 1 107
byte 1 98
byte 1 97
byte 1 99
byte 1 107
byte 1 0
align 1
LABELV $177
byte 1 103
byte 1 95
byte 1 103
byte 1 114
byte 1 97
byte 1 118
byte 1 105
byte 1 116
byte 1 121
byte 1 76
byte 1 97
byte 1 116
byte 1 99
byte 1 104
byte 1 0
align 1
LABELV $176
byte 1 56
byte 1 48
byte 1 48
byte 1 0
align 1
LABELV $175
byte 1 103
byte 1 95
byte 1 103
byte 1 114
byte 1 97
byte 1 118
byte 1 105
byte 1 116
byte 1 121
byte 1 0
align 1
LABELV $174
byte 1 51
byte 1 50
byte 1 48
byte 1 0
align 1
LABELV $173
byte 1 103
byte 1 95
byte 1 115
byte 1 112
byte 1 101
byte 1 101
byte 1 100
byte 1 0
align 1
LABELV $172
byte 1 100
byte 1 101
byte 1 100
byte 1 105
byte 1 99
byte 1 97
byte 1 116
byte 1 101
byte 1 100
byte 1 0
align 1
LABELV $171
byte 1 103
byte 1 95
byte 1 110
byte 1 101
byte 1 101
byte 1 100
byte 1 112
byte 1 97
byte 1 115
byte 1 115
byte 1 0
align 1
LABELV $170
byte 1 103
byte 1 95
byte 1 102
byte 1 105
byte 1 108
byte 1 116
byte 1 101
byte 1 114
byte 1 66
byte 1 97
byte 1 110
byte 1 0
align 1
LABELV $169
byte 1 103
byte 1 95
byte 1 98
byte 1 97
byte 1 110
byte 1 73
byte 1 80
byte 1 115
byte 1 0
align 1
LABELV $168
byte 1 103
byte 1 95
byte 1 112
byte 1 97
byte 1 115
byte 1 115
byte 1 119
byte 1 111
byte 1 114
byte 1 100
byte 1 0
align 1
LABELV $167
byte 1 103
byte 1 95
byte 1 108
byte 1 111
byte 1 103
byte 1 83
byte 1 121
byte 1 110
byte 1 99
byte 1 0
align 1
LABELV $166
byte 1 103
byte 1 97
byte 1 109
byte 1 101
byte 1 115
byte 1 46
byte 1 108
byte 1 111
byte 1 103
byte 1 0
align 1
LABELV $165
byte 1 103
byte 1 95
byte 1 108
byte 1 111
byte 1 103
byte 1 0
align 1
LABELV $164
byte 1 103
byte 1 95
byte 1 100
byte 1 111
byte 1 87
byte 1 97
byte 1 114
byte 1 109
byte 1 117
byte 1 112
byte 1 0
align 1
LABELV $163
byte 1 103
byte 1 95
byte 1 119
byte 1 97
byte 1 114
byte 1 109
byte 1 117
byte 1 112
byte 1 0
align 1
LABELV $162
byte 1 103
byte 1 95
byte 1 116
byte 1 101
byte 1 97
byte 1 109
byte 1 70
byte 1 111
byte 1 114
byte 1 99
byte 1 101
byte 1 66
byte 1 97
byte 1 108
byte 1 97
byte 1 110
byte 1 99
byte 1 101
byte 1 0
align 1
LABELV $161
byte 1 103
byte 1 95
byte 1 116
byte 1 101
byte 1 97
byte 1 109
byte 1 65
byte 1 117
byte 1 116
byte 1 111
byte 1 74
byte 1 111
byte 1 105
byte 1 110
byte 1 0
align 1
LABELV $160
byte 1 103
byte 1 95
byte 1 102
byte 1 114
byte 1 105
byte 1 101
byte 1 110
byte 1 100
byte 1 108
byte 1 121
byte 1 70
byte 1 105
byte 1 114
byte 1 101
byte 1 0
align 1
LABELV $159
byte 1 103
byte 1 95
byte 1 115
byte 1 121
byte 1 110
byte 1 99
byte 1 104
byte 1 114
byte 1 111
byte 1 110
byte 1 111
byte 1 117
byte 1 115
byte 1 67
byte 1 108
byte 1 105
byte 1 101
byte 1 110
byte 1 116
byte 1 115
byte 1 0
align 1
LABELV $158
byte 1 103
byte 1 95
byte 1 109
byte 1 101
byte 1 101
byte 1 116
byte 1 105
byte 1 110
byte 1 103
byte 1 0
align 1
LABELV $157
byte 1 103
byte 1 95
byte 1 119
byte 1 101
byte 1 97
byte 1 112
byte 1 111
byte 1 110
byte 1 76
byte 1 105
byte 1 109
byte 1 105
byte 1 116
byte 1 0
align 1
LABELV $156
byte 1 103
byte 1 95
byte 1 99
byte 1 108
byte 1 111
byte 1 97
byte 1 107
byte 1 105
byte 1 110
byte 1 103
byte 1 68
byte 1 101
byte 1 118
byte 1 105
byte 1 99
byte 1 101
byte 1 0
align 1
LABELV $155
byte 1 103
byte 1 95
byte 1 117
byte 1 110
byte 1 108
byte 1 105
byte 1 109
byte 1 105
byte 1 116
byte 1 101
byte 1 100
byte 1 65
byte 1 109
byte 1 109
byte 1 111
byte 1 0
align 1
LABELV $154
byte 1 103
byte 1 95
byte 1 110
byte 1 111
byte 1 72
byte 1 101
byte 1 97
byte 1 108
byte 1 116
byte 1 104
byte 1 82
byte 1 101
byte 1 103
byte 1 101
byte 1 110
byte 1 0
align 1
LABELV $153
byte 1 103
byte 1 95
byte 1 110
byte 1 111
byte 1 73
byte 1 116
byte 1 101
byte 1 109
byte 1 115
byte 1 0
align 1
LABELV $152
byte 1 103
byte 1 95
byte 1 103
byte 1 114
byte 1 97
byte 1 112
byte 1 112
byte 1 108
byte 1 101
byte 1 0
align 1
LABELV $151
byte 1 103
byte 1 95
byte 1 108
byte 1 105
byte 1 103
byte 1 104
byte 1 116
byte 1 110
byte 1 105
byte 1 110
byte 1 103
byte 1 68
byte 1 97
byte 1 109
byte 1 97
byte 1 103
byte 1 101
byte 1 76
byte 1 105
byte 1 109
byte 1 105
byte 1 116
byte 1 0
align 1
LABELV $150
byte 1 103
byte 1 95
byte 1 115
byte 1 116
byte 1 97
byte 1 109
byte 1 105
byte 1 110
byte 1 97
byte 1 0
align 1
LABELV $149
byte 1 116
byte 1 115
byte 1 115
byte 1 0
align 1
LABELV $148
byte 1 114
byte 1 101
byte 1 115
byte 1 112
byte 1 97
byte 1 119
byte 1 110
byte 1 65
byte 1 116
byte 1 80
byte 1 79
byte 1 68
byte 1 0
align 1
LABELV $147
byte 1 114
byte 1 101
byte 1 115
byte 1 112
byte 1 97
byte 1 119
byte 1 110
byte 1 68
byte 1 101
byte 1 108
byte 1 97
byte 1 121
byte 1 0
align 1
LABELV $146
byte 1 103
byte 1 95
byte 1 103
byte 1 97
byte 1 109
byte 1 101
byte 1 83
byte 1 101
byte 1 101
byte 1 100
byte 1 0
align 1
LABELV $145
byte 1 103
byte 1 95
byte 1 116
byte 1 101
byte 1 109
byte 1 112
byte 1 108
byte 1 97
byte 1 116
byte 1 101
byte 1 0
align 1
LABELV $144
byte 1 103
byte 1 95
byte 1 100
byte 1 101
byte 1 98
byte 1 117
byte 1 103
byte 1 69
byte 1 70
byte 1 72
byte 1 0
align 1
LABELV $143
byte 1 103
byte 1 95
byte 1 99
byte 1 104
byte 1 97
byte 1 108
byte 1 108
byte 1 101
byte 1 110
byte 1 103
byte 1 105
byte 1 110
byte 1 103
byte 1 69
byte 1 110
byte 1 118
byte 1 0
align 1
LABELV $142
byte 1 51
byte 1 48
byte 1 48
byte 1 48
byte 1 0
align 1
LABELV $141
byte 1 100
byte 1 105
byte 1 115
byte 1 116
byte 1 97
byte 1 110
byte 1 99
byte 1 101
byte 1 108
byte 1 105
byte 1 109
byte 1 105
byte 1 116
byte 1 0
align 1
LABELV $140
byte 1 103
byte 1 95
byte 1 109
byte 1 111
byte 1 110
byte 1 115
byte 1 116
byte 1 101
byte 1 114
byte 1 76
byte 1 111
byte 1 97
byte 1 100
byte 1 0
align 1
LABELV $139
byte 1 103
byte 1 95
byte 1 115
byte 1 99
byte 1 111
byte 1 114
byte 1 101
byte 1 77
byte 1 111
byte 1 100
byte 1 101
byte 1 0
align 1
LABELV $138
byte 1 103
byte 1 95
byte 1 109
byte 1 111
byte 1 110
byte 1 115
byte 1 116
byte 1 101
byte 1 114
byte 1 66
byte 1 114
byte 1 101
byte 1 101
byte 1 100
byte 1 105
byte 1 110
byte 1 103
byte 1 0
align 1
LABELV $137
byte 1 49
byte 1 48
byte 1 0
align 1
LABELV $136
byte 1 103
byte 1 95
byte 1 109
byte 1 97
byte 1 120
byte 1 77
byte 1 111
byte 1 110
byte 1 115
byte 1 116
byte 1 101
byte 1 114
byte 1 115
byte 1 80
byte 1 80
byte 1 0
align 1
LABELV $135
byte 1 103
byte 1 95
byte 1 109
byte 1 111
byte 1 110
byte 1 115
byte 1 116
byte 1 101
byte 1 114
byte 1 76
byte 1 97
byte 1 117
byte 1 110
byte 1 99
byte 1 104
byte 1 101
byte 1 114
byte 1 0
align 1
LABELV $134
byte 1 103
byte 1 95
byte 1 115
byte 1 107
byte 1 105
byte 1 112
byte 1 69
byte 1 110
byte 1 100
byte 1 83
byte 1 101
byte 1 113
byte 1 117
byte 1 101
byte 1 110
byte 1 99
byte 1 101
byte 1 0
align 1
LABELV $133
byte 1 117
byte 1 114
byte 1 105
byte 1 101
byte 1 108
byte 1 47
byte 1 100
byte 1 101
byte 1 102
byte 1 97
byte 1 117
byte 1 108
byte 1 116
byte 1 0
align 1
LABELV $132
byte 1 109
byte 1 111
byte 1 110
byte 1 115
byte 1 116
byte 1 101
byte 1 114
byte 1 77
byte 1 111
byte 1 100
byte 1 101
byte 1 108
byte 1 51
byte 1 0
align 1
LABELV $131
byte 1 116
byte 1 97
byte 1 110
byte 1 107
byte 1 106
byte 1 114
byte 1 47
byte 1 100
byte 1 101
byte 1 102
byte 1 97
byte 1 117
byte 1 108
byte 1 116
byte 1 0
align 1
LABELV $130
byte 1 109
byte 1 111
byte 1 110
byte 1 115
byte 1 116
byte 1 101
byte 1 114
byte 1 77
byte 1 111
byte 1 100
byte 1 101
byte 1 108
byte 1 50
byte 1 0
align 1
LABELV $129
byte 1 107
byte 1 108
byte 1 101
byte 1 115
byte 1 107
byte 1 47
byte 1 109
byte 1 97
byte 1 110
byte 1 101
byte 1 97
byte 1 116
byte 1 101
byte 1 114
byte 1 0
align 1
LABELV $128
byte 1 109
byte 1 111
byte 1 110
byte 1 115
byte 1 116
byte 1 101
byte 1 114
byte 1 77
byte 1 111
byte 1 100
byte 1 101
byte 1 108
byte 1 49
byte 1 0
align 1
LABELV $127
byte 1 103
byte 1 95
byte 1 109
byte 1 111
byte 1 110
byte 1 115
byte 1 116
byte 1 101
byte 1 114
byte 1 115
byte 1 80
byte 1 101
byte 1 114
byte 1 84
byte 1 114
byte 1 97
byte 1 112
byte 1 0
align 1
LABELV $126
byte 1 54
byte 1 0
align 1
LABELV $125
byte 1 103
byte 1 95
byte 1 109
byte 1 111
byte 1 110
byte 1 115
byte 1 116
byte 1 101
byte 1 114
byte 1 84
byte 1 105
byte 1 116
byte 1 97
byte 1 110
byte 1 115
byte 1 0
align 1
LABELV $124
byte 1 49
byte 1 50
byte 1 0
align 1
LABELV $123
byte 1 103
byte 1 95
byte 1 109
byte 1 111
byte 1 110
byte 1 115
byte 1 116
byte 1 101
byte 1 114
byte 1 71
byte 1 117
byte 1 97
byte 1 114
byte 1 100
byte 1 115
byte 1 0
align 1
LABELV $122
byte 1 103
byte 1 95
byte 1 109
byte 1 111
byte 1 110
byte 1 115
byte 1 116
byte 1 101
byte 1 114
byte 1 80
byte 1 114
byte 1 111
byte 1 103
byte 1 114
byte 1 101
byte 1 115
byte 1 115
byte 1 105
byte 1 111
byte 1 110
byte 1 0
align 1
LABELV $121
byte 1 49
byte 1 48
byte 1 48
byte 1 0
align 1
LABELV $120
byte 1 103
byte 1 95
byte 1 109
byte 1 111
byte 1 110
byte 1 115
byte 1 116
byte 1 101
byte 1 114
byte 1 72
byte 1 101
byte 1 97
byte 1 108
byte 1 116
byte 1 104
byte 1 83
byte 1 99
byte 1 97
byte 1 108
byte 1 101
byte 1 0
align 1
LABELV $119
byte 1 49
byte 1 48
byte 1 48
byte 1 48
byte 1 48
byte 1 0
align 1
LABELV $118
byte 1 103
byte 1 95
byte 1 109
byte 1 111
byte 1 110
byte 1 115
byte 1 116
byte 1 101
byte 1 114
byte 1 83
byte 1 112
byte 1 97
byte 1 119
byte 1 110
byte 1 68
byte 1 101
byte 1 108
byte 1 97
byte 1 121
byte 1 0
align 1
LABELV $117
byte 1 51
byte 1 48
byte 1 0
align 1
LABELV $116
byte 1 103
byte 1 95
byte 1 109
byte 1 97
byte 1 120
byte 1 77
byte 1 111
byte 1 110
byte 1 115
byte 1 116
byte 1 101
byte 1 114
byte 1 115
byte 1 0
align 1
LABELV $115
byte 1 49
byte 1 53
byte 1 0
align 1
LABELV $114
byte 1 103
byte 1 95
byte 1 109
byte 1 105
byte 1 110
byte 1 77
byte 1 111
byte 1 110
byte 1 115
byte 1 116
byte 1 101
byte 1 114
byte 1 115
byte 1 0
align 1
LABELV $113
byte 1 103
byte 1 95
byte 1 97
byte 1 114
byte 1 116
byte 1 101
byte 1 102
byte 1 97
byte 1 99
byte 1 116
byte 1 115
byte 1 0
align 1
LABELV $112
byte 1 99
byte 1 97
byte 1 112
byte 1 116
byte 1 117
byte 1 114
byte 1 101
byte 1 108
byte 1 105
byte 1 109
byte 1 105
byte 1 116
byte 1 0
align 1
LABELV $111
byte 1 116
byte 1 105
byte 1 109
byte 1 101
byte 1 108
byte 1 105
byte 1 109
byte 1 105
byte 1 116
byte 1 0
align 1
LABELV $110
byte 1 50
byte 1 48
byte 1 0
align 1
LABELV $109
byte 1 102
byte 1 114
byte 1 97
byte 1 103
byte 1 108
byte 1 105
byte 1 109
byte 1 105
byte 1 116
byte 1 0
align 1
LABELV $108
byte 1 100
byte 1 109
byte 1 102
byte 1 108
byte 1 97
byte 1 103
byte 1 115
byte 1 0
align 1
LABELV $107
byte 1 51
byte 1 48
byte 1 48
byte 1 0
align 1
LABELV $106
byte 1 103
byte 1 95
byte 1 98
byte 1 97
byte 1 115
byte 1 101
byte 1 72
byte 1 101
byte 1 97
byte 1 108
byte 1 116
byte 1 104
byte 1 0
align 1
LABELV $105
byte 1 103
byte 1 95
byte 1 97
byte 1 114
byte 1 109
byte 1 111
byte 1 114
byte 1 70
byte 1 114
byte 1 97
byte 1 103
byte 1 109
byte 1 101
byte 1 110
byte 1 116
byte 1 115
byte 1 0
align 1
LABELV $104
byte 1 49
byte 1 0
align 1
LABELV $103
byte 1 116
byte 1 115
byte 1 115
byte 1 83
byte 1 97
byte 1 102
byte 1 101
byte 1 116
byte 1 121
byte 1 77
byte 1 111
byte 1 100
byte 1 101
byte 1 65
byte 1 108
byte 1 108
byte 1 111
byte 1 119
byte 1 101
byte 1 100
byte 1 0
align 1
LABELV $102
byte 1 103
byte 1 95
byte 1 109
byte 1 97
byte 1 120
byte 1 71
byte 1 97
byte 1 109
byte 1 101
byte 1 67
byte 1 108
byte 1 105
byte 1 101
byte 1 110
byte 1 116
byte 1 115
byte 1 0
align 1
LABELV $101
byte 1 56
byte 1 0
align 1
LABELV $100
byte 1 115
byte 1 118
byte 1 95
byte 1 109
byte 1 97
byte 1 120
byte 1 99
byte 1 108
byte 1 105
byte 1 101
byte 1 110
byte 1 116
byte 1 115
byte 1 0
align 1
LABELV $99
byte 1 103
byte 1 95
byte 1 103
byte 1 97
byte 1 109
byte 1 101
byte 1 116
byte 1 121
byte 1 112
byte 1 101
byte 1 0
align 1
LABELV $98
byte 1 103
byte 1 95
byte 1 101
byte 1 100
byte 1 105
byte 1 116
byte 1 109
byte 1 111
byte 1 100
byte 1 101
byte 1 0
align 1
LABELV $97
byte 1 115
byte 1 118
byte 1 95
byte 1 109
byte 1 97
byte 1 112
byte 1 110
byte 1 97
byte 1 109
byte 1 101
byte 1 0
align 1
LABELV $96
byte 1 48
byte 1 0
align 1
LABELV $95
byte 1 103
byte 1 95
byte 1 114
byte 1 101
byte 1 115
byte 1 116
byte 1 97
byte 1 114
byte 1 116
byte 1 101
byte 1 100
byte 1 0
align 1
LABELV $94
byte 1 74
byte 1 97
byte 1 110
byte 1 32
byte 1 50
byte 1 48
byte 1 32
byte 1 50
byte 1 48
byte 1 49
byte 1 57
byte 1 0
align 1
LABELV $93
byte 1 103
byte 1 97
byte 1 109
byte 1 101
byte 1 100
byte 1 97
byte 1 116
byte 1 101
byte 1 0
align 1
LABELV $92
byte 1 111
byte 1 112
byte 1 101
byte 1 110
byte 1 104
byte 1 117
byte 1 110
byte 1 116
byte 1 0
align 1
LABELV $91
byte 1 103
byte 1 97
byte 1 109
byte 1 101
byte 1 110
byte 1 97
byte 1 109
byte 1 101
byte 1 0
align 1
LABELV $90
byte 1 0
align 1
LABELV $89
byte 1 115
byte 1 118
byte 1 95
byte 1 99
byte 1 104
byte 1 101
byte 1 97
byte 1 116
byte 1 115
byte 1 0
